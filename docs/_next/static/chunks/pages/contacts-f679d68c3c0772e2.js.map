{"version":3,"file":"static/chunks/pages/contacts-f679d68c3c0772e2.js","mappings":";;;;;;;;;;;;;;;;;;AAAwC;AACG;AAEK;AACQ;AAEiB;AAOlE,SAASM;IACd,MAAMC,SAASP,sDAASA;IACxB,MAAM,EAAEQ,QAAQ,EAAE,GAAGD;IACrB,MAAM,EAAEE,CAAC,EAAE,GAAGR,mEAAcA,CAAC;IAC7B,MAAMS,cAA6B;QACjC;YAAEC,OAAOF,EAAE;YAAgBG,OAAO;YAAKC,oBAAM,uDAACX,yEAAQA;QAAI;QAC1D,mEAAmE;QACnE,kFAAkF;QAClF,8EAA8E;QAC9E;YAAES,OAAOF,EAAE;YAAoBG,OAAO;YAAaC,oBAAM,uDAACV,6EAAYA;QAAI;KAC3E;IACD,qBAEE,uDAACC,4HAAgBA;QAACU,UAAU;QAACF,OAAOJ;kBACjCE,YAAYK,GAAG,CAACC,CAAAA,kBACf,uDAACX,4HAAsBA;gBAErBM,OAAOK,EAAEL,KAAK;gBACdE,MAAMG,EAAEH,IAAI;gBACZI,WAAS,UAAkB,OAARD,EAAEJ,KAAK;gBAC1BM,WAAWV,aAAaQ,EAAEJ,KAAK,GAAG,iBAAiB;gBACnDO,SAAS;oBACP,IAAIX,aAAaQ,EAAEJ,KAAK,EAAE;oBAC1BL,OAAOa,IAAI,CAACJ,EAAEJ,KAAK;gBACrB;eARKI,EAAEJ,KAAK;;AAatB;;;;;;;;;;;;;;;;;;;;AC1CwP;;;;;;;;;;;;;;;qGCCxP,YAAY;AACqC;AAEe;AACQ;AAE1C;AACG;AAC0B;AACnB;AAEO;AAC/C,IAAIgB,kBAAyB,GAAE,6CAA6C;;AACrE,MAAMC,aAAa,IAAIJ,eAAGA,CAAC,OAAQ,QAAO;AACjD,MAAMK,aAAa,CAAC;QAEwBC;IAD1C,IAAG,KAA6B,EAAC,EAAO;IACxC,MAAMC,IAAI,IAAIC,IAAIF,OAAOG,QAAQ,CAACC,IAAI,MAAIJ,iBAAAA,OAAOK,MAAM,cAAbL,qCAAAA,eAAeG,QAAQ,CAACC,IAAI;IACtE,0CAA0C;IAC1C,OAAOH,EAAEK,MAAM,IAAI,QAAQL,EAAEK,MAAM,IAAI,SAAS,KAAKL,EAAEK,MAAM;AAC/D;AACA,MAAMC,iBAAiB;IACrBC,UAAU,SAAUC,IAAc,EAAEC,UAAoB;QACtD,MAAMC,MAAMb,WAAWc,GAAG,CAAC,OAAQ;QACnCD,IAAIE,KAAK,GAAG;QACZ,MAAMC,MAAML,IAAI,CAAC,EAAE;QACnB,IAAIM,IAAK;QACT,sEAAsE;QACtE,yCAAyC;QACzC,kEAAkE;QAClE,MAAMC,KAAKN,UAAU,CAAC,EAAE,CAACO,KAAK,CAAC;QAC/BD,GAAGE,MAAM,CAACF,GAAGG,MAAM,GAAG,GAAG,GAAGL;QAC5B,0DAA0D;QAC1D,yDAAyD;QACzDC,IAAI,WAAwB,OAAbC,GAAGI,IAAI,CAAC,MAAK;QAC5BT,IAAIA,GAAG,CAAE,SAAQF;QACjBE,IAAIA,GAAG,CAAE,eAAcD;QACvBC,IAAIA,GAAG,CAAC,MAAMI;QACdA,IAAInB,mCAAYA,CAACyB,OAAO,CAAC,IAAM,OAAFN;QAC7B,2BAA2B;QAC3BA,IAAI,GAAiBA,OAAdhB,YAAW,KAAK,OAAFgB;QACrB,OAAOA;IAET;IACAO,OAAO,SACLC,IAAY,EACZC,SAA6B,EAC7Bd,UAA8B;QAE9B,MAAMC,MAAMb,WAAWc,GAAG,CAAC,OAAQ;QACnCD,IAAIE,KAAK,GAAG;QACZ,mDAAmD;QACnD,MAAMY,IAAIC,KAAKJ,KAAK,CAACC;QACrBZ,IAAIgB,KAAK,CAAE;QACX,yBAAyB;QACzB,+EAA+E;QAC/EhB,IAAIA,GAAG,CAAE,WAAUa,WAAWd;QAC9B,OAAOe;IACT;AACF;AACA,MAAMG,UAAU,IAAIpC,kBAAOA;AAC3BoC,QAAQC,IAAI,CAAC,MAAMtB;AACZ,MAAMuB,OAAOrC,uBAAOA,CAAC;AAC5B,uCAAuC;AACvC,kBAAkB;AAClB,yCAAyC;AACzC,UAAU;AACV,aAAa;AACb,uCAAuC;AACvC,UAAU;AACV,KAAK;AAGLqC,KAAKC,EAAE,CAAC,mBAAmB,eAAgBjB,GAAG;IAC5C,MAAMH,MAAMb,WAAWc,GAAG,CAAC,OAAQ;IACnCD,IAAIE,KAAK,GAAG;IACZF,IAAIA,GAAG,CAAE,WAAUG;AACnB,cAAc;AACd,wEAAwE;AAC1E;AAKO,SAASkB;QAASC,mBAAAA,iEAAwB;IAC/CpC,kBAAkBoC;IAClBH,KACCI,GAAG,CAAC3C,6CAAgBA,EACpB2C,GAAG,CAACN,SACJM,GAAG,CAAC5C,2BAAgBA,EACpBuC,IAAI,CAAqB;QACxBM,MAAM;QACN,eAAe;QACf,0DAA0D;QAC1D,aAAa;QACbC,aAAazC,oBAAQA,GAAG,OAAO;QAC/B,wBAAwB;QACxB,gBAAgB;QAChB0C,yBAAwB;QACxBC,IAAG,EAAE;QAELC,OAAO;QACPC,eAAe;YACbC,aAAa;QACf;QACAC,WAAW;YACTC,QAAQ;gBAAC;aAAe;QAC1B;IACF;AACF;AACAb,KAAKC,EAAE,CAAC,cAAc,SAAUtB,IAAI,EAAEmC,SAAS,EAAEC,GAAG,EAAEC,GAAG;IACvDC,QAAQC,KAAK,CACX,0DACAvC,MACAmC,WACAC,KACAC;AAEJ;AAEAhB,KAAKC,EAAE,CAAC,UAAU,SAAUkB,MAAM;IAChC,MAAMtC,MAAMb,WAAWc,GAAG,CAAC,OAAQ;IACnCD,IAAIE,KAAK,GAAG;IACZF,IAAIA,GAAG,CAAE,sBAAqBsC;AAChC;AAEAnB,KAAKC,EAAE,CAAC,iBAAiB,SAAUjB,GAAG,EAAEwB,EAAE,EAAEY,GAAG;IAC7C,MAAMvC,MAAMb,WAAWc,GAAG,CAAC,OAAQ;IACnCD,IAAIE,KAAK,GAAG;IACZF,IAAIA,GAAG,CAAE,2BAA0BG,KAAKwB,IAAIY;AAC9C;AAEApB,KAAKC,EAAE,CAAC,SAAS;IACfgB,QAAQpC,GAAG,CAAC,SAASwC;AACvB;AAEA,gDAAerB,gDAAAA,IAAIA,EAAAA,EAAC;;;;;;;;;;;ACxIkB;AACK;AAC3C,wCAAwC;AACxC,MAAMwB,IAAID,6BAAUA,CAACT,SAAS,CAAC;AAO/B,SAASW;IACL,qBAAOH,cAAcE;AACzB;AACO,MAAME,iCAAmBJ,uBAAaA,CAAME,GAAE;AAE9C,MAAMG,wCAA0BL,uBAAaA,CAAsB,CAAC,GAAE;;;;;;;;AFf2K;;;;AGC1G;AACtG;AACS;AACI;AACL;AAEhDW;AACA/B,QAAQA;AAGR,SAAS+B;IACP,IAAG,KAA6B,EAAC;IACjC,IAAGH,gBAASA,GAAGI,mBAAmB,CAACC,aAAa,EAAC;QAC/C;IACF;IACA,IAAGjE,OAAOG,QAAQ,CAACC,IAAI,CAAC8D,OAAO,CAAC,YAAY,CAAC,GAAE;IAC/C,kCAAkC;IAClC,wCAAwC;IACxC,MAAMC,eAAe,IAAIjE,IAAIF,OAAOG,QAAQ,CAACC,IAAI,EAAE+D,YAAY;IAC/D,MAAMC,kBAAkBD,aAAaE,GAAG,CAAC;IACzC,IAAI,CAACD,iBAAiB;QACpB,MAAME,SAAS,IAAIpE,IAAIF,OAAOG,QAAQ,CAACC,IAAI;QAC3CkE,OAAOH,YAAY,CAACI,GAAG,CAAC,oBAAoBC,OAAOC,KAAKC,GAAG;QAC3D1E,OAAOG,QAAQ,CAACC,IAAI,GAAGkE,OAAOK,QAAQ;QACtC;IACF;IAEA,MAAMC,cAAcC,OAAOT;IAC3B,IAAIQ,cAAc,IAAI,KAAK,OAAOH,KAAKC,GAAG,IAAI;QAC5C,MAAMJ,SAAS,IAAIpE,IAAIF,OAAOG,QAAQ,CAACC,IAAI;QAC3CkE,OAAOH,YAAY,CAACI,GAAG,CAAC,oBAAoBC,OAAOC,KAAKC,GAAG;QAC3D1E,OAAOG,QAAQ,CAACC,IAAI,GAAGkE,OAAOK,QAAQ;IACxC;AACF;AACO,SAASG,SAAS,KAA+B;QAA/B,EAAEC,QAAQ,EAAqB,GAA/B;IACvB,MAAMvG,SAASP,yBAASA;IACxB,MAAM+G,YAAY;IAClB,MAAM5E,OAAOJ,OAAOG,QAAQ,CAACC,IAAI,CAACa,KAAK,CAAC,IAAI,CAAC,EAAE;IAC/C,MAAMgE,aAAa,WAAgB,OAAL7E;IAC9B,MAAMkD,IAAID,6BAAUA,CAACT,SAAS,CAACqC;IAC/B,IAAIC,IAAuC5B,EAAE6B,IAAI,CAACF;IAClD,IAAI,CAACC,GAAG;QACNA,IAAI,CAAC;QACL5B,EAAE8B,KAAK,CAACH,YAAYC;IACtB;IACAA,IAAIxB,8BAAOA,CAACwB;IACZrB,mBAASA,CAAC;QAERrF,OAAO6G,cAAc,CAAC,CAACC;YACrBhC,EAAEiC,QAAQ;YACV,OAAO;QACT;IACF;IACA1B,mBAASA,CAAC;QACRP,EAAE8B,KAAK,CAACH,YAAYC;QACpB,OAAOvB,oCAAYA,CAACuB,GAAG;YACrB5B,EAAE8B,KAAK,CAACH,YAAYC;QACtB;IACF,GAAG,EAAE;IACLrB,mBAASA,CAAC;QACR,MAAM2B,OAAQlC,EAAE6B,IAAI,CAACH,cAAc;YAAES,GAAG;YAAGC,GAAG;QAAE;QAChD,qDAAqD;QACrD,IAAIF,KAAKC,CAAC,IAAI,KAAKD,KAAKE,CAAC,IAAI,GAAG;YAC9BC;QACF,OAAO;YACL3F,OAAO4F,qBAAqB,CAAC;gBAC3B5F,OAAO6F,QAAQ,CAACL,KAAKC,CAAC,EAAED,KAAKE,CAAC;gBAC9BC;YACF;QACF;QACA,SAASG,SAAS7G,CAAQ;YACxB,+EAA+E;YAC/EqE,EAAE8B,KAAK,CAACJ,WAAW;gBAAES,GAAGzF,OAAO+F,OAAO;gBAAEL,GAAG1F,OAAOgG,OAAO;YAAC;QAC5D;QACA,SAASL;YACP3F,OAAOiG,gBAAgB,CAAC,UAAUH;QACpC;QAEA,SAASI;YACPlG,OAAOmG,mBAAmB,CAAC,UAAUL;QACvC;QACA,OAAOI;IACT;IACA,qBACE,oBAAC1C,gBAAgBA;QAAC3E,OAAOyE;kBACvB,kCAACG,uBAAuBA;YAAC5E,OAAOqG;sBAE9B,kCAACpB,0BAAeA;gBAAChC,MAAMA,IAAIA;0BACxBiD;;;;AAKX;;;;;;;;;AC7FA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,KAAuC;AAC9D;AACA;AACA,OAAO,KAAU,EAAE,EAId;AACL;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZuD;AACyB;AAES;AAE9C;AAG3C,SAAS2B;IACP,IAAG,CAACF,iBAAKA,EAAC,qBAAO;kBAAE;;IACnB,MAAM,EAAC9H,CAAC,EAAC,GAAGR,6BAAcA,CAAC;IAC3B,qBACE,qBAACkI,kBAAGA;;0BACF,oBAACC,qBAAMA;gBAACjH,SAAS;oBAAOY,OAAOG,QAAQ,CAACwG,MAAM;gBAAE;0BAAIjI,EAAE;;YACrD,IAAI+F,OAAOmC,cAAc;;;AAGhC;AAEA,MAAMC,wBAAUzD,uBAAaA,CAAC;IAAEqC,GAAG;IAAGC,GAAG;AAAE;AAC3C,IAAIoB,QAAQ;AACG,SAASC,YAAY,KAAkG;QAAlG,EAAEhC,QAAQ,EAAEiC,SAAS,EAAEL,MAAM,EAAqE,GAAlG;IAClCG;IACA,MAAMG,SAASV,oBAAUA,CAACM;IAC1B,MAAMK,QAAQ,GAA2C,OAAxCzC,KAAKC,GAAG,KAAKyC,KAAKC,MAAM,KAAK3C,KAAKC,GAAG;IACtDb,mBAASA,CAAC;QACR,eAAewD;YACb,IAAG,CAACL,WAAU;YACd,IAAIM,QAAQN,UAAUM,KAAK;YAC3B,IAAGN,UAAU1E,EAAE,EAAC;gBACdgF,QAAQ,MAAMb,0CAAaA,CAACO,UAAU1E,EAAE,EAAE0E,UAAUnE,GAAG,IAAI;YAC7D;YACA,IAAG,CAACyE,OAAM;YACVC,SAASD,KAAK,GAAGA;QACnB;QACAD;IACF,GAAG,EAAE;IACLxD,mBAASA,CAAC;QACR,MAAM2D,YAAYD,SAASE,sBAAsB,CAACP,MAAM,CAAC,EAAE;QAC3D,IAAI,CAACM,WAAW;QAChBA,UAAUE,SAAS,GAAGT,OAAOvB,CAAC;QAC9B,MAAMI,WAAW;YACf,IAAI4B,YAAYF,UAAUE,SAAS;YACnCT,OAAOvB,CAAC,GAAGgC;QACb;QACAF,UAAUrB,mBAAmB,CAAC,UAAUL;QACxC0B,UAAUvB,gBAAgB,CAAC,UAAUH,UAAU;YAAE6B,SAAS;QAAK;QAC/D,OAAO,IAAMH,UAAUrB,mBAAmB,CAAC,UAAUL;IACvD,GAAG;QAACoB;QAAOD;KAAO;IAClB,qBAEE,oBAACX,wBAASA;QAACnH,WAAW+H;QAAOU,IAAI;YAAEC,UAAU;YAAGC,UAAU;YAAQC,SAAS;QAAM;kBAC/E,mCAAC3B,kBAAGA;;gBACAO,CAAAA,UAAWA,UAAUqB,SAAS,mBAAM,oBAACtB;gBAEtC3B;;;;AAIT;;;;AC1DwC;AAEzB,SAASkD,mBAAmB,KAAkG;QAAlG,EAAElD,QAAQ,EAAEiC,SAAS,EAAEL,MAAM,EAAqE,GAAlG;IACvC,qBACI,oBAACI,WAAWA;QAACC,WAAWA;QAAWL,QAAQA;kBACtC5B;;AAGb;;;;;;;;;;;;;;;;ACR6B;AACwB;AAuDrD;;CAEC,GACM,eAAeqD,mCACpBC,IAAgD;IAEhD,OAAOF,4DAAOA,CACZD,8CAAGA,CAACI,IAAI,EACRJ,8CAAGA,CAACK,sBAAsB,EAC1BF,KAAKG,MAAM,EACXH,KAAKI,OAAO,EACZJ,KAAKK,OAAO;AAEhB;AAEA;;;;;CAKC,GACM,eAAeC,yBACpBC,YAAoB,EACpBC,UAAmB;IAEnB,MAAMC,SAASD,aAAa,WAAW;IACvC,OAAOE,+BAA+BC,eAAe,CAAC;QACpDR,QAAQ;YACNS,eAAeL;YACfE;QACF;IACF;AACF;AAEA;;CAEC,GACM,eAAeI,gCACpBb,IAA6C;IAE7C,OAAOF,4DAAOA,CACZD,8CAAGA,CAACI,IAAI,EACRJ,8CAAGA,CAACiB,mBAAmB,EACvBd,KAAKG,MAAM,EACXH,KAAKI,OAAO,EACZJ,KAAKK,OAAO;AAEhB;AAEA,SAAS;AACF,MAAMK,iCAAiC;IAC5CK,oBAAoBhB;IACpBY,iBAAiBE;AACnB,EAAE;AAEF,sEAAeH,gDAAAA,8BAA8BA,EAAAA,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6DC9GO;AACL;AAChD,mDAAeM,gCAAaA,CAAC,WAAW,GAAEE,mBAAIA,CAAC,QAAQ;IACrDC,GAAG;AACL,IAAI,eAAe,EAAC;;;6DCJiC;AACL;AAChD,gDAAeH,gCAAaA,CAAC,WAAW,GAAEE,mBAAIA,CAAC,QAAQ;IACrDC,GAAG;AACL,IAAI,YAAY,EAAC;;;;;;;;;;;;;;;;;;;;;;;6DCJoC;AACL;AAChD,6CAAeH,gCAAaA,CAAC,WAAW,GAAEE,mBAAIA,CAAC,QAAQ;IACrDC,GAAG;AACL,IAAI,SAAS,EAAC;;;;;;;;;;;;ACN2D;AAmBlD;AAUM;AACkB;AACR;AAC6D;AAkCpG,YAAY;AACZ,MAAMuB,kBAAkB,CAACC,QAAsBC;IAC7C,MAAMC,YAAY,IAAIzG,KAAKwG,YAAY,QAAQ,IAAIxG;IACnD,MAAM0G,cAA4C;QAChDC,SAAS;QACTC,UAAU;QACVC,UAAU;QACVC,SAAS;QACTC,WAAW;IACb;IAEA,MAAMC,eAA8F;QAClGL,SAAS;QACTC,UAAU;QACVC,UAAU;QACVC,SAAS;QACTC,WAAW;IACb;IAEA,OAAO;QACLE,MAAMP,WAAW,CAACH,OAAO,IAAIA;QAC7BW,OAAOF,YAAY,CAACT,OAAO,IAAI;QAC/BE;QACAU,YAAYZ,WAAW,aAAa,CAACE;IACvC;AACF;AAEA,WAAW;AACX,SAASW,qBAAqB,KAAkE;QAAlE,EAAEb,MAAM,EAAEC,SAAS,EAA+C,GAAlE;IAC5B,MAAMa,SAASf,gBAAgBC,QAAQC;IAEvC,qBACE,qBAAC7E,kBAAGA;QAAC2F,SAAQ;QAAOC,YAAW;QAASC,KAAK;;0BAC3C,oBAAC/B,mBAAIA;gBAACgC,MAAK;gBAAQtN,OAAOkN,OAAOJ,IAAI;gBAAEC,OAAOG,OAAOH,KAAK;gBAAEQ,SAAQ;;YACnEL,OAAOF,UAAU,kBAChB,oBAAC1B,mBAAIA;gBACHgC,MAAK;gBACLpN,oBAAM,oBAAC0L,yBAAcA;oBAAC4B,UAAS;;gBAC/BxN,OAAO,GAGJ,OAHOiM,kDAAmBA,CAACI,YAAY,MAAM;oBAC9CoB,WAAW;oBACXC,QAAQxB,iBAAIA;gBACd;gBACAa,OAAM;gBACNQ,SAAQ;;;;AAKlB;AAEA,WAAW;AACX,SAASI,aAAa,KAgBrB;QAhBqB,EACpBC,QAAQ,EACRC,OAAO,EACPzB,MAAM,EACNC,SAAS,EACTpC,aAAa,KAAK,EAClB6D,SAAS,EACTC,eAAe,KAAK,EASrB,GAhBqB;QAmCTH,yBAAAA;IAlBX,MAAM,CAACI,oBAAoBC,sBAAsB,GAAGnD,kBAAQA,CAAC;IAE7D,MAAMoD,gBAAgB,OAAOhE;QAC3B,IAAI,CAAC4D,WAAW;QAEhB,IAAI;YACFG,sBAAsB;YACtB,MAAMH,UAAU5D;QAClB,SAAU;YACR+D,sBAAsB;QACxB;IACF;IAEA,qBACE,qBAAChD,mBAAIA;QAACsC,SAAQ;QAAWvE,IAAI;YAAEmF,IAAI;YAAGC,SAASL,eAAe,MAAM;QAAE;;0BACpE,qBAAC7C,0BAAWA;;kCACV,qBAAC1D,kBAAGA;wBAAC2F,SAAQ;wBAAOC,YAAW;wBAASe,IAAI;;0CAC1C,oBAAC9C,qBAAMA;gCAACgD,KAAKT,SAASU,UAAU;gCAAEC,KAAKX,SAASY,YAAY;gCAAExF,IAAI;oCAAEyF,OAAO;oCAAIC,QAAQ;oCAAIC,IAAI;gCAAE;0CAC9Ff,EAAAA,yBAAAA,SAASY,YAAY,cAArBZ,8CAAAA,0BAAAA,sBAAuB,CAAC,EAAE,cAA1BA,8CAAAA,wBAA4BgB,WAAW,OAAM;;0CAEhD,qBAACpH,kBAAGA;gCAACyB,UAAU;;kDACb,oBAAC+B,yBAAUA;wCAACuC,SAAQ;kDAAaK,SAASY,YAAY,IAAI;;kDAC1D,qBAACxD,yBAAUA;wCAACuC,SAAQ;wCAAQR,OAAM;;4CAAiB;4CAC5Ca,SAASiB,OAAO;;;;;0CAGzB,oBAAC5B;gCAAqBb,QAAQA;gCAAQC,WAAWA;;;;oBAGlDwB,yBACC,oBAAC7C,yBAAUA;wBAACuC,SAAQ;wBAAQR,OAAM;wBAAiB/D,IAAI;4BAAE8F,IAAI;4BAAGX,IAAI;wBAAE;kCACnEN;;;;YAKN5D,aACC,QAAQ;0BACR,oBAACkB,0BAAWA;gBAACnC,IAAI;oBAAE+F,gBAAgB;oBAAYC,IAAI;gBAAE;0BAClD5C,WAAW,YACV,mBAAmB;8BACnB;;sCACE,oBAAC3E,qBAAMA;4BACL6F,MAAK;4BACLP,OAAM;4BACNkC,yBAAW,oBAACvD,oBAASA;4BACrBlL,SAAS,IAAM0N,cAAc;4BAC7BgB,UAAUnB,gBAAgBC;sCAAoB;;sCAGhD,oBAACvG,qBAAMA;4BACL6F,MAAK;4BACLP,OAAM;4BACNQ,SAAQ;4BACR0B,yBAAW,oBAACzD,oBAASA;4BACrBhL,SAAS,IAAM0N,cAAc;4BAC7BgB,UAAUnB,gBAAgBC;sCAAoB;;;qBAIhD5B,WAAW,aACb,kBAAkB;8BAClB,oBAAC3E,qBAAMA;oBACL6F,MAAK;oBACLP,OAAM;oBACNQ,SAAQ;oBACR0B,yBAAW,oBAACnD,MAAUA;oBACtBtL,SAAS,IAAM0N,cAAc;oBAC7BgB,UAAUnB,gBAAgBC;8BAAoB;qBAG9C;iBAEJ5B,WAAW,aAAaA,WAAW,aACrC,oBAAoB;0BACpB,oBAACjB,0BAAWA;gBAACnC,IAAI;oBAAE+F,gBAAgB;oBAAYC,IAAI;gBAAE;0BACnD,kCAACvH,qBAAMA;oBACL6F,MAAK;oBACLP,OAAM;oBACNQ,SAAQ;oBACR0B,yBAAW,oBAACvD,oBAASA;oBACrBlL,SAAS,IAAM0N,cAAc;oBAC7BgB,UAAUnB,gBAAgBC;8BACzB5B,WAAW,YAAY,SAAS;;iBAGnC;;;AAGV;AAEA,MAAM+C,oBAA8B;IAClC,MAAM,CAACC,WAAWC,aAAa,GAAGvE,kBAAQA,CAAU;IACpD,MAAM,CAAC1G,OAAOkL,SAAS,GAAGxE,kBAAQA,CAAgB;IAClD,MAAM,CAACyE,cAAcC,gBAAgB,GAAG1E,kBAAQA,CAAU;IAC1D,MAAM,CAAC2E,aAAaC,eAAe,GAAG5E,kBAAQA,CAG3C;QAAE6E,MAAM,EAAE;QAAEC,UAAU,EAAE;IAAC;IAC5B,MAAM,CAAC7B,cAAc8B,gBAAgB,GAAG/E,kBAAQA,CAAU;IAE1D,SAAS;IACT,MAAMgF,kBAAkB/E,qBAAWA,CAAC;YAAOgF,+EAAc;QACvD,IAAIA,aAAa;YACfV,aAAa;QACf,OAAO;YACLG,gBAAgB;QAClB;QACAF,SAAS;QAET,IAAI;gBAKmCpL;YAJrC,MAAMA,MAAM,MAAMiG,2DAA8BA,CAACK,kBAAkB,CAAC;gBAClEZ,QAAQ,CAAC;YACX;YAEA,IAAI1F,IAAI8L,SAAS,IAAI9L,IAAI+L,QAAQ,MAAI/L,YAAAA,IAAIvB,IAAI,cAARuB,gCAAAA,UAAUgM,KAAK,GAAE;gBACpDR,eAAe;oBACbC,MAAM,CAACzL,IAAIvB,IAAI,CAACwN,gBAAgB,IAAI,EAAE,EAAE/P,GAAG,CAAC,CAACgQ,SAAiB;4BAC5D,GAAGA,MAAM;4BACThE,QAAQgE,OAAOhE,MAAM;wBACvB;oBACAwD,UAAU,CAAC1L,IAAIvB,IAAI,CAAC0N,oBAAoB,IAAI,EAAE,EAAEjQ,GAAG,CAAC,CAACgQ,SAAiB;4BACpE,GAAGA,MAAM;4BACThE,QAAQgE,OAAOhE,MAAM;wBACvB;gBACF;YACF,OAAO;oBACIlI;gBAAToL,SAASpL,EAAAA,aAAAA,IAAIvB,IAAI,cAARuB,iCAAAA,WAAUI,GAAG,KAAI;YAC5B;QACF,EAAE,OAAOgM,KAAK;YACZnM,QAAQC,KAAK,CAAC,aAAakM;YAC3BhB,SAAS;QACX,SAAU;YACRD,aAAa;YACbG,gBAAgB;QAClB;IACF,GAAG,EAAE;IAEL,YAAY;IACZ,MAAMe,uBAAuBxF,qBAAWA,CACtC,OAAOf,cAAsBC;QAC3B,IAAI;gBAIsC/F;YAHxC2L,gBAAgB;YAEhB,MAAM3L,MAAM,MAAM6F,yDAAwBA,CAACC,cAAcC;YACzD,IAAI,CAAC/F,IAAI8L,SAAS,IAAI,CAAC9L,IAAI+L,QAAQ,IAAI,GAAC/L,YAAAA,IAAIvB,IAAI,cAARuB,gCAAAA,UAAUgM,KAAK,GAAE;oBACvChM;gBAAhB,MAAM,IAAIsM,MAAMtM,EAAAA,aAAAA,IAAIvB,IAAI,cAARuB,iCAAAA,WAAUI,GAAG,KAAI;YACnC;YACA,SAAS;YACToL,eAAee,CAAAA,OAAS;oBACtBd,MAAMc,KAAKd,IAAI,CAACe,MAAM,CAACC,CAAAA,IAAKA,EAAEtG,aAAa,KAAKL;oBAChD4F,UAAUa,KAAKb,QAAQ,CAACc,MAAM,CAACC,CAAAA,IAAKA,EAAEtG,aAAa,KAAKL;gBAC1D;QACF,EAAE,OAAOsG,KAAK;YACZnM,QAAQC,KAAK,CAAC,WAAWkM;YACzBhB,SAASgB,eAAeE,QAAQF,IAAIzC,OAAO,GAAG;QAChD,SAAU;YACRgC,gBAAgB;QAClB;IACF,GACA,EAAE;IAGJ,OAAO;IACP,MAAMe,wBAAwB7F,qBAAWA,CACvC,OAAOf,cAAsBE;QAC3B,IAAI;YACF2F,gBAAgB;YAEhB,IAAI3F,WAAW,YAAYA,WAAW,WAAW;oBAMPhG;gBALxC,UAAU;gBACV,MAAMA,MAAM,MAAMiG,2DAA8BA,CAACC,eAAe,CAAC;oBAC/DR,QAAQ;wBAAES,eAAeL;wBAAcE;oBAAO;gBAChD;gBAEA,IAAI,CAAChG,IAAI8L,SAAS,IAAI,CAAC9L,IAAI+L,QAAQ,IAAI,GAAC/L,YAAAA,IAAIvB,IAAI,cAARuB,gCAAAA,UAAUgM,KAAK,GAAE;wBACvChM;oBAAhB,MAAM,IAAIsM,MAAMtM,EAAAA,aAAAA,IAAIvB,IAAI,cAARuB,iCAAAA,WAAUI,GAAG,KAAI;gBACnC;gBAEA,SAAS;gBACToL,eAAee,CAAAA;oBACb,MAAMI,mBAAmB,CAACC,UACxBA,QAAQ1Q,GAAG,CAACgQ,CAAAA,SACVA,OAAO/F,aAAa,KAAKL,eACrB;gCACE,GAAGoG,MAAM;gCACThE,QAAQlC,WAAW,WAAW,aAAc;4BAC9C,IACAkG;oBAGR,OAAO;wBACLT,MAAMkB,iBAAiBJ,KAAKd,IAAI;wBAChCC,UAAUiB,iBAAiBJ,KAAKb,QAAQ;oBAC1C;gBACF;YACF,OAAO;gBACL,YAAY;gBACZ,MAAM3F,aAAaC,WAAW;gBAC9B,MAAMqG,qBAAqBvG,cAAcC;YAC3C;QACF,EAAE,OAAOqG,KAAK;YACZnM,QAAQC,KAAK,CAAC,WAAWkM;YACzBhB,SAASgB,eAAeE,QAAQF,IAAIzC,OAAO,GAAG;QAChD,SAAU;YACRgC,gBAAgB;QAClB;IACF,GACA;QAACU;KAAqB;IAGxB,OAAO;IACP,MAAMQ,gBAAgBhG,qBAAWA,CAAC;QAChC+E,gBAAgB;IAClB,GAAG;QAACA;KAAgB;IAEpB,YAAY;IACZ7K,mBAASA,CAAC;QACR6K;IACF,GAAG;QAACA;KAAgB;IAEpB,MAAMkB,gBAAgB;QACpB,IAAI5B,WAAW;YACb,qBACE,oBAAC5H,kBAAGA;gBAAC2F,SAAQ;gBAAO4B,gBAAe;gBAAS5M,GAAG;0BAC7C,kCAACiJ,+BAAgBA;;QAGvB;QAEA,IAAIhH,OAAO;YACT,qBACE,qBAACoD,kBAAGA;gBAACrF,GAAG;;kCACN,oBAAC6I,yBAAUA;wBAAC+B,OAAM;kCAAS3I;;kCAC3B,oBAACqD,qBAAMA;wBAAC8F,SAAQ;wBAAWR,OAAM;wBAAUvM,SAAS,IAAMsP;wBAAmBb,yBAAW,oBAACjD,sBAAWA;kCAAK;;;;QAK/G;QAEA,MAAMiF,qBAAqBxB,YAAYE,IAAI,CAACpN,MAAM,GAAG;QACrD,MAAM2O,yBAAyBzB,YAAYG,QAAQ,CAACrN,MAAM,GAAG;QAE7D,qBACE,qBAACiF,kBAAGA;;8BACF,oBAACwD,yBAAUA;oBAACuC,SAAQ;oBAAK4D,YAAY;8BAAC;;gBAGrCD,uCACC,oBAAC1J,kBAAGA;oBAAC2G,IAAI;8BACNsB,YAAYG,QAAQ,CAACxP,GAAG,CAACgQ,CAAAA,uBACxB,oBAACzC;4BAECC,UAAUwC,OAAOgB,SAAS;4BAC1BvD,SAASuC,OAAOvC,OAAO;4BACvBzB,QAAQgE,OAAOhE,MAAM;4BACrBC,WAAW+D,OAAOiB,UAAU;4BAC5BpH,YAAY;4BACZ6D,WAAW,OAAM5D;gCACf,IAAIA,WAAW,UAAU;oCACvB,MAAMqG,qBAAqBH,OAAO/F,aAAa,EAAE;gCACnD,OAAO,IAAIH,WAAW,UAAU;oCAC9B,MAAMqG,qBAAqBH,OAAO/F,aAAa,EAAE;gCACnD,OAAO;oCACL,MAAMuG,sBAAsBR,OAAO/F,aAAa,EAAEH;gCACpD;4BACF;4BACA6D,cAAcwB,gBAAgBxB;2BAfzB,YAAiC,OAArBqC,OAAO/F,aAAa;mCAoB3C,qBAAC7C,kBAAGA;oBACF2F,SAAQ;oBACRmE,eAAc;oBACdlE,YAAW;oBACX2B,gBAAe;oBACf5M,GAAG;oBACHoP,WAAU;oBACVC,SAAQ;oBACRC,cAAc;oBACdtD,IAAI;;sCACJ,oBAACrC,MAAUA;4BAACiB,OAAM;4BAAW/D,IAAI;gCAAEwE,UAAU;gCAAIW,IAAI;4BAAE;;sCACvD,oBAACnD,yBAAUA;4BAAC+B,OAAM;sCAAgB;;;;8BAItC,oBAAC/B,yBAAUA;oBAACuC,SAAQ;oBAAK4D,YAAY;8BAAC;;gBAGrCF,mCACC,oBAACzJ,kBAAGA;8BACDiI,YAAYE,IAAI,CAACvP,GAAG,CAACgQ,CAAAA,uBACpB,oBAACzC;4BAECC,UAAUwC,OAAOgB,SAAS;4BAC1BvD,SAASuC,OAAOvC,OAAO;4BACvBzB,QAAQgE,OAAOhE,MAAM;4BACrBC,WAAW+D,OAAOiB,UAAU;4BAC5BpH,YAAY;4BACZ6D,WAAW,OAAM5D;gCACf,IAAIA,WAAW,UAAU;oCACvB,MAAMqG,qBAAqBH,OAAO/F,aAAa,EAAE;gCACnD;4BACF;4BACA0D,cAAcwB,gBAAgBxB;2BAXzB,QAA6B,OAArBqC,OAAO/F,aAAa;mCAgBvC,qBAAC7C,kBAAGA;oBACF2F,SAAQ;oBACRmE,eAAc;oBACdlE,YAAW;oBACX2B,gBAAe;oBACf5M,GAAG;oBACHoP,WAAU;oBACVC,SAAQ;oBACRC,cAAc;;sCACd,oBAAC3F,MAAUA;4BAACiB,OAAM;4BAAW/D,IAAI;gCAAEwE,UAAU;gCAAIW,IAAI;4BAAE;;sCACvD,oBAACnD,yBAAUA;4BAAC+B,OAAM;sCAAgB;;;;;;IAK5C;IAEA,qBACE,qBAACvF,kBAAGA;QAACrF,GAAG;;0BACN,qBAACqF,kBAAGA;gBAAC2F,SAAQ;gBAAO4B,gBAAe;gBAAgB3B,YAAW;gBAASe,IAAI;;kCACzE,oBAACnD,yBAAUA;wBAACuC,SAAQ;kCAAK;;kCACzB,oBAAC9F,qBAAMA;wBACL8F,SAAQ;wBACRD,MAAK;wBACL9M,SAASuQ;wBACT7B,UAAUK;wBACVN,WAAWM,6BAAe,oBAACnE,+BAAgBA;4BAACkC,MAAM;2CAAS,oBAACtB,sBAAWA;kCACtEuD,eAAe,WAAW;;;;YAG9ByB;;;AAGP;AAEA,0EAAe7B,iBAAiBA,EAAC;;;;;;;;;;;;;;;6DC9doB;AACL;AAChD,mDAAe1E,gCAAaA,CAAC,WAAW,GAAEE,mBAAIA,CAAC,QAAQ;IACrDC,GAAG;AACL,IAAI,eAAe,EAAC;;;;;;;ACLS;AACO;AAwDpC;;CAEC,GACM,eAAe8G,wCACpBjI,IAAqD;IAErD,OAAOF,2BAAOA,CACZD,cAAGA,CAACI,IAAI,EACRJ,cAAGA,CAACqI,2BAA2B,EAC/BlI,KAAKG,MAAM,EACXH,KAAKI,OAAO,EACZJ,KAAKK,OAAO;AAEhB;AAEA;;CAEC,GACM,eAAe8H,yCACpBnI,IAAsD;IAEtD,OAAOF,2BAAOA,CACZD,cAAGA,CAACI,IAAI,EACRJ,cAAGA,CAACuI,4BAA4B,EAChCpI,KAAKG,MAAM,EACXH,KAAKI,OAAO,EACZJ,KAAKK,OAAO;AAEhB;AAEA,OAAO;AACA,MAAMgI,8BAA8B;IACzCC,yBAAyBL;IACzBM,0BAA0BJ;AAC5B,EAAE;AAEF,gEAAeE,gDAAAA,2BAA2BA,EAAAA,EAAC;;;;AC9FqB;AAwBzC;AAOM;AACkB;AACR;AACiD;AAoBxF,UAAU;AACV,SAASa,YAAY,KAQpB;QARoB,EACnBC,OAAO,EACPC,QAAQ,EACR9E,eAAe,KAAK,EAKrB,GARoB;QAiCN6E,kCAAAA;IAxBb,MAAM,CAACE,YAAYC,cAAc,GAAGjI,kBAAQA,CAAC;IAC7C,MAAM,CAACkI,kBAAkBC,oBAAoB,GAAGnI,kBAAQA,CAAC;IAEzD,MAAMoI,eAAe;QACnB,IAAI,CAACL,UAAU;QAEf,IAAI;YACFE,cAAc;YACd,MAAMF,SAASD,QAAQO,UAAU;YACjCF,oBAAoB;QACtB,SAAU;YACRF,cAAc;QAChB;IACF;IAEA,qBACE;;0BACE,qBAAC9H,mBAAIA;gBAACsC,SAAQ;gBAAWvE,IAAI;oBAAEmF,IAAI;oBAAGC,SAASL,eAAe,MAAM;gBAAE;;kCACpE,qBAAC7C,0BAAWA;;0CACV,qBAAC1D,kBAAGA;gCAAC2F,SAAQ;gCAAOC,YAAW;gCAASe,IAAI;;kDAC1C,oBAAC9C,qBAAMA;wCACLgD,KAAKuE,QAAQxB,SAAS,CAAC9C,UAAU;wCACjCC,KAAKqE,QAAQxB,SAAS,CAAC5C,YAAY;wCACnCxF,IAAI;4CAAEyF,OAAO;4CAAIC,QAAQ;4CAAIC,IAAI;wCAAE;kDAClCiE,EAAAA,kCAAAA,QAAQxB,SAAS,CAAC5C,YAAY,cAA9BoE,uDAAAA,mCAAAA,+BAAgC,CAAC,EAAE,cAAnCA,uDAAAA,iCAAqChE,WAAW,OAAM;;kDAEzD,qBAACpH,kBAAGA;wCAACyB,UAAU;;0DACb,oBAAC+B,yBAAUA;gDAACuC,SAAQ;0DAAMqF,QAAQxB,SAAS,CAAC5C,YAAY,IAAI;;0DAC5D,qBAACxD,yBAAUA;gDAACuC,SAAQ;gDAAQR,OAAM;;oDAAiB;oDAC5C6F,QAAQxB,SAAS,CAACvC,OAAO;;;4CAE/B+D,QAAQQ,YAAY,kBACnB,oBAAC9H,mBAAIA;gDAACgC,MAAK;gDAAQtN,OAAO4S,QAAQQ,YAAY;gDAAErG,OAAM;gDAAUQ,SAAQ;gDAAWvE,IAAI;oDAAE8F,IAAI;gDAAI;;;;kDAGrG,oBAACtH,kBAAGA;wCAAC+J,WAAU;kDACb,kCAACjG,mBAAIA;4CACHgC,MAAK;4CACLpN,oBAAM,oBAAC0L,yBAAcA;gDAAC4B,UAAS;;4CAC/BxN,OAAO,GAGJ,OAHOiM,kDAAmBA,CAAC2G,QAAQS,UAAU,GAAG,MAAM;gDACvD5F,WAAW;gDACXC,QAAQxB,iBAAIA;4CACd;4CACAa,OAAM;4CACNQ,SAAQ;;;;;4BAKbqF,QAAQU,KAAK,kBACZ,qBAACtI,yBAAUA;gCAACuC,SAAQ;gCAAQR,OAAM;gCAAiB/D,IAAI;oCAAE8F,IAAI;gCAAE;;oCAAG;oCAC3D8D,QAAQU,KAAK;;;;;kCAKxB,oBAACnI,0BAAWA;wBAACnC,IAAI;4BAAE+F,gBAAgB;4BAAYC,IAAI;wBAAE;kCACnD,kCAACvH,qBAAMA;4BACL6F,MAAK;4BACLP,OAAM;4BACNQ,SAAQ;4BACR0B,yBAAW,oBAACuD,YAAgBA;4BAC5BhS,SAAS,IAAMyS,oBAAoB;4BACnC/D,UAAUnB,gBAAgB+E;sCAAY;;;;;0BAO5C,qBAACZ,qBAAMA;gBACLqB,MAAMP;gBACNQ,SAAS,IAAMP,oBAAoB;gBACnCQ,mBAAgB;;kCAChB,oBAACtB,0BAAWA;wBAACuB,IAAG;kCAAwB;;kCACxC,oBAACtB,4BAAaA;kCACZ,mCAACE,gCAAiBA;;gCAAC;8CACX,oBAACqB;8CAAQf,QAAQxB,SAAS,CAAC5C,YAAY;;gCAAU;;;;kCAG3D,qBAAC6D,4BAAaA;;0CACZ,oBAAC5K,qBAAMA;gCAACjH,SAAS,IAAMyS,oBAAoB;gCAAQ/D,UAAU4D;0CAAY;;0CAGzE,oBAACrL,qBAAMA;gCACLjH,SAAS0S;gCACTnG,OAAM;gCACNQ,SAAQ;gCACR2B,UAAU4D;gCACV7D,WAAW6D,2BAAa,oBAAC1H,+BAAgBA;oCAACkC,MAAM;mDAAS,oBAACkF,YAAgBA;0CACzEM,aAAa,WAAW;;;;;;;;AAMrC;AAEA,MAAMc,6BAAuC;IAC3C,MAAM,CAACxE,WAAWC,aAAa,GAAGvE,kBAAQA,CAAU;IACpD,MAAM,CAAC1G,OAAOkL,SAAS,GAAGxE,kBAAQA,CAAgB;IAClD,MAAM,CAACyE,cAAcC,gBAAgB,GAAG1E,kBAAQA,CAAU;IAC1D,MAAM,CAAC+I,UAAUC,YAAY,GAAGhJ,kBAAQA,CAA4B,EAAE;IACtE,MAAM,CAACiD,cAAc8B,gBAAgB,GAAG/E,kBAAQA,CAAU;IAE1D,cAAc;IACd,MAAMiJ,0BAA0BhJ,qBAAWA,CAAC;YAAOgF,+EAAc;QAC/D,IAAIA,aAAa;YACfV,aAAa;QACf,OAAO;YACLG,gBAAgB;QAClB;QACAF,SAAS;QAET,IAAI;gBAImCpL;YAHrC,MAAMA,MAAM,MAAM4N,2BAA2BA,CAACC,uBAAuB,CAAC;gBACpEnI,QAAQ,CAAC;YACX;YACA,IAAI1F,IAAI8L,SAAS,IAAI9L,IAAI+L,QAAQ,MAAI/L,YAAAA,IAAIvB,IAAI,cAARuB,gCAAAA,UAAUgM,KAAK,GAAE;gBACpD4D,YAAY5P,IAAIvB,IAAI,CAACkR,QAAQ,IAAI,EAAE;YACrC,OAAO;oBACI3P;gBAAToL,SAASpL,EAAAA,aAAAA,IAAIvB,IAAI,cAARuB,iCAAAA,WAAUI,GAAG,KAAI;YAC5B;QACF,EAAE,OAAOgM,KAAK;YACZnM,QAAQC,KAAK,CAAC,cAAckM;YAC5BhB,SAAS;QACX,SAAU;YACRD,aAAa;YACbG,gBAAgB;QAClB;IACF,GAAG,EAAE;IAEL,UAAU;IACV,MAAMwE,sBAAsBjJ,qBAAWA,CAAC,OAAOkJ;QAC7C,IAAI;gBAQsC/P;YAPxC2L,gBAAgB;YAEhB,MAAM3L,MAAM,MAAM4N,2BAA2BA,CAACE,wBAAwB,CAAC;gBACrEpI,QAAQ;oBAAEuJ,YAAYc;gBAAU;YAElC;YAEA,IAAI,CAAC/P,IAAI8L,SAAS,IAAI,CAAC9L,IAAI+L,QAAQ,IAAI,GAAC/L,YAAAA,IAAIvB,IAAI,cAARuB,gCAAAA,UAAUgM,KAAK,GAAE;oBACvChM;gBAAhB,MAAM,IAAIsM,MAAMtM,EAAAA,aAAAA,IAAIvB,IAAI,cAARuB,iCAAAA,WAAUI,GAAG,KAAI;YACnC;YACA,WAAW;YACXwP,YAAYrD,CAAAA,OAAQA,KAAKC,MAAM,CAACkC,CAAAA,UAAWA,QAAQO,UAAU,KAAKc;QACpE,EAAE,OAAO3D,KAAK;YACZnM,QAAQC,KAAK,CAAC,YAAYkM;YAC1BhB,SAASgB,eAAeE,QAAQF,IAAIzC,OAAO,GAAG;QAChD,SAAU;YACRgC,gBAAgB;QAClB;IACF,GAAG,EAAE;IAEL,OAAO;IACP,MAAMkB,gBAAgBhG,qBAAWA,CAAC;QAChCgJ,wBAAwB;IAC1B,GAAG;QAACA;KAAwB;IAE5B,YAAY;IACZ9O,mBAASA,CAAC;QACR8O;IACF,GAAG;QAACA;KAAwB;IAE5B,MAAM/C,gBAAgB;QACpB,IAAI5B,WAAW;YACb,qBACE,qBAAC5H,kBAAGA;gBAAC2F,SAAQ;gBAAOmE,eAAc;gBAASlE,YAAW;gBAASjL,GAAG;;kCAChE,oBAACiJ,+BAAgBA;kCACjB,oBAACJ,yBAAUA;wBAACuC,SAAQ;wBAAQR,OAAM;wBAAiB/D,IAAI;4BAAE8F,IAAI;wBAAE;kCAAG;;;;QAKxE;QAEA,IAAI1K,OAAO;YACT,qBACE,qBAACoD,kBAAGA;gBAACrF,GAAG;;kCACN,oBAAC8P,oBAAKA;wBAACiC,UAAS;wBAAQlL,IAAI;4BAAEmF,IAAI;wBAAE;kCACjC/J;;kCAEH,oBAACqD,qBAAMA;wBACL8F,SAAQ;wBACRR,OAAM;wBACNvM,SAAS,IAAMuT;wBACf9E,yBAAW,oBAACjD,sBAAWA;kCAAK;;;;QAKpC;QAEA,IAAI6H,SAAStR,MAAM,KAAK,GAAG;YACzB,qBACE,qBAACiF,kBAAGA;gBACF2F,SAAQ;gBACRmE,eAAc;gBACdlE,YAAW;gBACX2B,gBAAe;gBACf5M,GAAG;gBACHoP,WAAU;gBACVC,SAAQ;gBACRC,cAAc;;kCACd,oBAACiB,YAAgBA;wBAAC3F,OAAM;wBAAW/D,IAAI;4BAAEwE,UAAU;4BAAIW,IAAI;wBAAE;;kCAC7D,oBAACnD,yBAAUA;wBAACuC,SAAQ;wBAAKR,OAAM;wBAAgBoE,YAAY;kCAAC;;kCAG5D,oBAACnG,yBAAUA;wBAACuC,SAAQ;wBAAQR,OAAM;kCAAgB;;;;QAKxD;QAEA,qBACE,oBAACvF,kBAAGA;sBACDqM,SAASzT,GAAG,CAACwS,CAAAA,wBACZ,oBAACD;oBAECC,SAASA;oBACTC,UAAUmB;oBACVjG,cAAcwB,gBAAgBxB;mBAHzB6E,QAAQO,UAAU;;IAQjC;IAEA,qBACE,qBAAC3L,kBAAGA;QAACrF,GAAG;;0BACN,qBAACqF,kBAAGA;gBAAC2F,SAAQ;gBAAO4B,gBAAe;gBAAgB3B,YAAW;gBAASe,IAAI;;kCACzE,qBAAC3G,kBAAGA;;0CACF,oBAACwD,yBAAUA;gCAACuC,SAAQ;gCAAK4D,YAAY;0CAAC;;0CAGtC,oBAACnG,yBAAUA;gCAACuC,SAAQ;gCAAQR,OAAM;0CAAiB;;;;kCAIrD,oBAACtF,qBAAMA;wBACL8F,SAAQ;wBACRD,MAAK;wBACL9M,SAASuQ;wBACT7B,UAAUK;wBACVN,WAAWM,6BAAe,oBAACnE,+BAAgBA;4BAACkC,MAAM;2CAAS,oBAACtB,sBAAWA;kCACtEuD,eAAe,WAAW;;;;YAI9BsE,SAAStR,MAAM,GAAG,mBACjB,qBAAC0P,oBAAKA;gBAACiC,UAAS;gBAAOlL,IAAI;oBAAEmF,IAAI;gBAAE;;oBAAG;oBAChC0F,SAAStR,MAAM;oBAAC;;;YAIvByO;;;AAGP;AAEA,4FAAe4C,0BAA0BA,EAAC;;;;ACtUF;AAQjB;AAKM;AAE0C;AAC2B;AAQlG,SAASY,SAASC,KAAoB;IACpC,MAAM,EAAEtO,QAAQ,EAAElG,KAAK,EAAEiI,KAAK,EAAE,GAAGwM,OAAO,GAAGD;IAE7C,qBACE,oBAACE;QACCC,MAAK;QACLC,QAAQ5U,UAAUiI;QAClBwL,IAAI,oBAA0B,OAANxL;QACxBuL,mBAAiB,eAAqB,OAANvL;QAC/B,GAAGwM,KAAK;kBAERzU,UAAUiI,uBAAS,oBAACV,kBAAGA;sBAAErB;;;AAGhC;AAEA,SAAS2O,UAAU5M,KAAa;IAC9B,OAAO;QACLwL,IAAI,eAAqB,OAANxL;QACnB,iBAAiB,oBAA0B,OAANA;IACvC;AACF;AAEA,MAAM6M,6BAAuC;IAC3C,MAAM,CAACC,YAAYC,cAAc,GAAGnK,kBAAQA,CAAC;IAE7C,MAAMoK,kBAAkB,CAACC,OAA6BC;QACpDH,cAAcG;IAChB;IAEA,qBACE,qBAAC5N,kBAAGA;QAACwB,IAAI;YAAEyF,OAAO;YAAQ4G,UAAU;YAAKC,IAAI;YAAQnT,GAAG;QAAE;;0BAExD,qBAACqF,kBAAGA;gBAAC2G,IAAI;gBAAGoD,WAAU;;kCACpB,oBAACvG,yBAAUA;wBAACuC,SAAQ;wBAAK4D,YAAY;kCAAC;;kCAGtC,oBAACnG,yBAAUA;wBAACuC,SAAQ;wBAAQR,OAAM;kCAAiB;;;;0BAKrD,qBAACsH,oBAAKA;gBAACkB,WAAW;;kCAEhB,oBAAC/N,kBAAGA;wBAACwB,IAAI;4BAAEwM,cAAc;4BAAGC,aAAa;wBAAU;kCACjD,mCAACtB,mBAAIA;4BACHlU,OAAO+U;4BACPU,UAAUR;4BACVS,cAAW;4BACXpI,SAAQ;;8CAER,oBAAC6G,kBAAGA;oCACFlU,oBAAM,oBAACwS,YAAgBA;oCACvB1S,OAAM;oCACL,GAAG8U,UAAU,EAAE;;8CAElB,oBAACV,kBAAGA;oCACFlU,oBAAM,oBAACqU,SAAaA;oCACpBvU,OAAM;oCACL,GAAG8U,UAAU,EAAE;;;;;kCAMtB,oBAACN;wBAASvU,OAAO+U;wBAAY9M,OAAO;kCAClC,kCAAC0L,qDAA0BA;;kCAG7B,oBAACY;wBAASvU,OAAO+U;wBAAY9M,OAAO;kCAClC,kCAACiH,mCAAiBA;;;;;;AAK5B;AAEA,4FAAe4F,0BAA0BA,EAAC;;;;ACrG2B;AACd;AACwD;AAEhG,SAASe;IAEpB,qBAEgB,oBAAC5P,wBAAQA;kBACL,kCAAC0P,6BAAeA;YAACG,aAAa;gBAACrN,OAAM;gBAAOsN,MAAK;YAAI;sBAC7D,kCAACjB,qDAA0BA;;;IAIvC,qBACI,oBAAC7O,wBAAQA;kBACL,kCAAC2P,6BAAeA;YACZzN,WAAW;gBAAE1E,IAAI;gBAAyCO,KAAK;YAAgB;YAC/EgS,sBAAQ,oBAACtW,oBAAMA;sBAEf,kCAACoV,qDAA0BA;;;AAI3C;;;;;;;;;;;;;;;;;;;;ACvByG;AAMxD;AAGW;AAE5D,0BAA0B;AAC1B,mBAAmB;AACnB,mBAAmB;AACnB,2BAA2B;AAC3B,IAAI;AAEJ,SAASqB,UAAU,KAAkC;QAAlC,EAACH,MAAM,EAA2B,GAAlC;IACjB,qBAAO,uDAAC5B,gHAAKA;QACXX,IAAG;QACH1K,IAAI;YAAEqN,UAAU;YAASC,QAAQ;YAAGC,MAAM;YAAGC,OAAO;QAAE;QACtDjB,WAAW;kBAEVU;;AAEL;AACA,sBAAsB;AACtB,gCAAgC;AAChC,iCAAiC;AACjC,sEAAsE;AACtE,yCAAyC;AACzC,oEAAoE;AACpE,yFAAyF;AACzF,qFAAqF;AACrF,oFAAoF;AACpF,OAAO;AACP,aAAa;AAEb,qDAAqD;AACrD,gCAAgC;AAChC,kCAAkC;AAClC,0BAA0B;AAC1B,4BAA4B;AAC5B,0BAA0B;AAC1B,0CAA0C;AAC1C,mEAAmE;AACnE,6BAA6B;AAC7B,gDAAgD;AAChD,oCAAoC;AACpC,eAAe;AACf,aAAa;AACb,YAAY;AACZ,0BAA0B;AAC1B,OAAO;AACP,IAAI;AAGJ,qBAAqB;AACd,SAASJ,gBAAgB,KAAwG;QAAxG,EAAE1P,QAAQ,EAAEiC,SAAS,EAAE6N,MAAM,EAA2E,GAAxG;IAC9B,qBACE,wDAACzO,gHAAGA;QAACwB,IAAI;YAAEmE,SAAS;YAAQmE,eAAe;YAAUmF,SAAS;QAAQ;;0BACpE,uDAACP,iHAAWA;0BACZ,wDAACC,gHAAKA;gBAACO,WAAW;gBAAUC,SAAS;;kCAGnC,uDAACtN,yEAAkBA;wBAACjB,WAAWA;kCAC5BjC;;kCAEH,uDAACiQ;wBAAUH,QAAQA;;;;;;AAI3B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzEsC;AAGtC,MAAMY,aAAa,IAAID,4BAAUA;AAO1B,MAAME,cAA2B;IACpCD;IACAE,iBAAgB;IAChBC,YAAW;QACPH,WAAWI,QAAQ,CAAC;QACpBH,YAAYC,eAAe,GAAG;IAClC;IACAG,kBAAiB,CAACC;QACd,OAAON,WAAWO,WAAW,CAAC,cAAaD;IAC/C;AACJ,EAAC;;;;;;;;ACnBuD;AAChB;AAGjC,SAASI,eAAe,KAA+B;QAA/B,EAAEpR,QAAQ,EAAqB,GAA/B;IAC3B,MAAMvG,SAASP,yBAASA;IACxB,qBAEI,oBAACgY,sCAAeA;QAACG,MAAK;kBAClB,kCAACF,mBAAMA,CAAC3C,GAAG;YAEP8C,SAAS;gBAAErJ,SAAS;gBAAGtH,GAAG;YAAG;YAC7B4Q,SAAS;gBAAEtJ,SAAS;gBAAGtH,GAAG;YAAE;YAC5B6Q,MAAM;gBAAEvJ,SAAS;gBAAGtH,GAAG,CAAC;YAAI;YAC5B8Q,YAAY;gBAAEC,UAAU;YAAI;sBAE3B1R;WANIvG,OAAOkY,KAAK;;AAUjC;;;;ACrB0C;AACN;AACF;AACS;AAC3C,IAAIC,UAAU;AACP,SAASC,UAAU,KAAqC;QAArC,EAAC7R,QAAQ,EAA4B,GAArC;IACtB,MAAMuN,KAAK,aAAuB,OAAVqE;IACxB9S,mBAASA,CAAC;QACN,MAAMgT,MAAMtP,SAASuP,aAAa,CAAC,IAAO,OAAHxE;QACvC,MAAMyE,WAAWrB,WAAWA,CAACI,gBAAgB,CAAC;YAC1C,IAAG,CAACe,KAAI;QACZ;QACA,IAAG,CAACA,KAAI;QACRA,IAAI5Q,gBAAgB,CAAC,SAAQ,CAAChH;YAC1B,IAAGyW,WAAWA,CAACC,eAAe,IAAI,GAAE;YACpC1W,EAAE+X,eAAe;YACjB/X,EAAEgY,cAAc;QACpB;QACA,OAAO;YACHF;QACJ;IACJ,GAAE,EAAE;IACJ,qBACI,oBAAC3Q,kBAAGA;QAACkM,IAAIA;kBACL,kCAAC6D,cAAcA;sBACVpR;;;AAIjB;;;;;;AC7B6H;AAE7H,6CAA6C;AACgB;AACS;AACA;AACvC;AACS;AACK;AAEe;AAY5D,SAAS4S,aAAatE,KAAY;IAC9B,MAAM,EAAEtO,QAAQ,EAAE/E,MAAM,EAAE,GAAGqT;IAC7B,8EAA8E;IAC9E,0BAA0B;IAC1B,gEAAgE;IAChE,MAAMuE,UAAUL,mCAAgBA,CAAC;QAC7BM,QAAQ7X,SAASA,WAAWgI;IAChC;IAEA,qBACI,oBAACqP,oBAAKA;QAACS,QAAQ;QAAOxC,WAAU;QAAOyC,IAAI,CAACH;kBACvC7S,qBAAAA,sBAAAA,yBAAY,oBAACwO;;AAG1B;AASO,SAASyE,OAAO,KAAmD;QAAnD,EAAE1Q,KAAK,EAA4C,GAAnD;IACnB,qBAEI,KAAC4P;QAAOvL,OAAO;kBACX,mBAAC2L;sBACG,mBAAC1N;gBAAWuC,SAAQ;gBAAK8L,WAAU;0BAC9B3Q;;;;AAKrB;AAQA,wCAAwC;AACxC,+BAA+B;AAC/B,IAAI;AAEJ,SAAS4Q,UAAU7E,KAAY;IAC3B,MAAM,EAAEtO,QAAQ,EAAE/E,MAAM,EAAE,GAAGqT;IAC7B,8EAA8E;IAC9E,0BAA0B;IAC1B,gEAAgE;IAChE,MAAMuE,UAAUL,mCAAgBA,CAAC;QAC7BM,QAAQ7X,SAASA,WAAWgI;QAC5BmQ,mBAAmB;QACnBC,WAAW;IACf;IAEA,MAAMC,cAAc,CAACtE;QACjB,MAAMuE,SAAS,CACX,MAAOT,MAAM,CAAoBU,aAAa,IAAIhR,QAAO,EAC3DuP,aAAa,CAAC;QAEhB,IAAIwB,QAAQ;YACRA,OAAOE,cAAc,CAAC;gBAClBC,OAAO;YACX;QACJ;IACJ;IAEA,qBACI,oBAACrB,mBAAIA;QAACW,IAAIH;kBACN,kCAACxR,kBAAGA;YAAClH,WAAQ;YACTE,SAASiZ;YACT7E,MAAK;YACL5L,IAAI;gBAAEqN,UAAU;gBAASC,QAAQ;gBAAIE,OAAO;YAAG;sBAE9CrQ;;;AAIjB;AACO,SAASyP,gBAAgBnB,KAA4B;IACxD,MAAM,EAAEtO,QAAQ,EAAE4P,WAAW,EAAE3N,SAAS,EAAEL,MAAM,EAAE,GAAG0M;IACrD,MAAM7U,SAASP,yBAASA;IACxB,SAASya;QACL,4EAA4E;QAC5E,MAAM3E,QAAQyD,+CAAmBA,CAACmB,cAAc;QAChD,IAAG5E,MAAM6E,gBAAgB,EAAC;QAC1B,IAAGjE,YAAYkE,cAAc,EAAC;YAC1B,MAAM5Z,IAAwB;gBAAC2Z,kBAAiB;YAAK;YACrDjE,YAAYkE,cAAc,CAAChD,QAAQ,CAAC,QAAO5W;YAC3C,IAAGA,EAAE2Z,gBAAgB,EAAC;QAC1B;QACApa,OAAOoW,IAAI;IACf;IACA,qBACI,oBAACgC,SAASA;kBACV,mCAACnN,cAAc;;8BACX,oBAACqL,2BAAWA;8BACZ,oBAAC6C;oBAAc,GAAGtE,KAAK;8BACnB,kCAAC6D,4BAAMA;wBAACvL,OAAM;kCACTgJ,YAAYoE,OAAO,GACpBpE,YAAYoE,OAAO,iBACnB,qBAACzB,8BAAOA;;8CACJ,oBAACG,gCAAiBA;oCAACrY,SAASsZ;;gCAC3B/D,YAAYrN,KAAK;;;;;8BAK9B,oBAACgQ,8BAAOA;oBAAChF,IAAG;;8BACZ,oBAAChM,wBAASA;oBAACsB,IAAI;wBAACG,SAAQ;wBAAKiR,WAAU;oBAAM;8BACzC,kCAAC/Q,iCAAkBA;wBAACjB,WAAWA;wBAAWL,QAAQA;kCAC7C5B;;;8BAIT,oBAACmT;oBAAW,GAAG7E,KAAK;8BAChB,kCAAC8D,kBAAGA;wBAACjL,MAAK;wBAAQqI,cAAW;kCACzB,kCAACmD,8BAAmBA;;;;;;AAMxC","sources":["webpack://_N_E/./src/components/navbar/NavBar.tsx","webpack://_N_E/../../node_modules/.pnpm/react-i18next@15.6.0_i18next@24.2.3_typescript@5.7.3__react-dom@19.1.0_react@19.1.0__react@19.1.0_typescript@5.7.3/node_modules/react-i18next/dist/es/index.js","webpack://_N_E/../../libs/fanfanlo/src/i18n/i18n-init.ts","webpack://_N_E/../../libs/fanfanlo/src/storage/store-page-context.tsx","webpack://_N_E/../../libs/app/ui/src/components/app/AppShell.tsx","webpack://_N_E/?32db","webpack://_N_E/../../libs/app/ui/src/components/page/PageContent.tsx","webpack://_N_E/../../libs/app/ui/src/components/page/AndroidPageContent.tsx","webpack://_N_E/../../libs/app/model/src/remote/emergency-call/list_all_invitations.ts","webpack://_N_E/../../node_modules/.pnpm/@mui+icons-material@6.4.12_@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_re_5ewkm5t5g27pzq5tz62v6ktvti/node_modules/@mui/icons-material/esm/ContactPhone.js","webpack://_N_E/../../node_modules/.pnpm/@mui+icons-material@6.4.12_@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_re_5ewkm5t5g27pzq5tz62v6ktvti/node_modules/@mui/icons-material/esm/PersonAdd.js","webpack://_N_E/../../node_modules/.pnpm/@mui+icons-material@6.4.12_@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_re_5ewkm5t5g27pzq5tz62v6ktvti/node_modules/@mui/icons-material/esm/Person.js","webpack://_N_E/./src/components/InvitationManager/InvitationManager.tsx","webpack://_N_E/../../node_modules/.pnpm/@mui+icons-material@6.4.12_@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_re_5ewkm5t5g27pzq5tz62v6ktvti/node_modules/@mui/icons-material/esm/PersonRemove.js","webpack://_N_E/../../libs/app/model/src/remote/emergency-call/list_established_contacts.ts","webpack://_N_E/./src/components/EstablishedContactsManager/EstablishedContactsManager.tsx","webpack://_N_E/./src/components/ContactRelationshipManager/ContactRelationshipManager.tsx","webpack://_N_E/./src/pages/contacts/index.tsx","webpack://_N_E/../../libs/app/ui/src/components/tabbar/Tabbar.tsx","webpack://_N_E/../../libs/app/static/src/mc/static-model.ts","webpack://_N_E/../../libs/app/ui/src/components/motion/page-transition.tsx","webpack://_N_E/../../libs/app/ui/src/components/app/PageShell.tsx","webpack://_N_E/../../libs/app/ui/src/components/appbar/AppBar.tsx"],"sourcesContent":["import { useRouter } from \"next/router\";\r\nimport { useTranslation } from \"@fanfanlo\";\r\n\r\nimport HomeIcon from '@mui/icons-material/Home';\r\nimport SettingsIcon from '@mui/icons-material/Settings';\r\nimport ListIcon from '@mui/icons-material/List';\r\nimport { BottomNavigation, BottomNavigationAction } from \"@mui/material\";\r\ninterface TabInfoType {\r\n  label: string;\r\n  value: string;\r\n  icon: React.ReactNode;\r\n}\r\n\r\nexport function NavBar() {\r\n  const router = useRouter();\r\n  const { pathname } = router;\r\n  const { t } = useTranslation('emergency-call/components/navbar/content');\r\n  const tabInfoList: TabInfoType[] = [\r\n    { label: t('NavBar.home'), value: '/', icon: <HomeIcon /> },\r\n    // { label: t('NavBar.logs'), value: '/logs', icon: <ListIcon /> },\r\n    // { label: t('content.create'), value: '/script-creator', icon: <CreateIcon /> },\r\n    // { label: t('content.market'), value: '/market', icon: <StorefrontIcon /> },\r\n    { label: t('NavBar.settings'), value: '/settings', icon: <SettingsIcon /> },\r\n  ];\r\n  return (\r\n\r\n    <BottomNavigation showLabels value={pathname}>\r\n      {tabInfoList.map(e => (\r\n        <BottomNavigationAction\r\n          key={e.value}\r\n          label={e.label}\r\n          icon={e.icon}\r\n          data-id={`tabbar-${e.value}`}\r\n          className={pathname === e.value ? 'Mui-selected' : ''}\r\n          onClick={() => {\r\n            if (pathname === e.value) return;\r\n            router.push(e.value);\r\n          }}\r\n        />\r\n      ))}\r\n    </BottomNavigation>\r\n  );\r\n}","export * from \"C:\\\\work\\\\android-droid\\\\html\\\\website-2024-12\\\\node_modules\\\\.pnpm\\\\react-i18next@15.6.0_i18next@24.2.3_typescript@5.7.3__react-dom@19.1.0_react@19.1.0__react@19.1.0_typescript@5.7.3\\\\node_modules\\\\react-i18next\\\\dist\\\\es\\\\index.js\"","\"use client\";\r\n// 现在用的是这个文件\r\nimport { initReactI18next } from \"react-i18next\";\r\n\r\nimport LanguageDetector from \"i18next-browser-languagedetector\";\r\nimport Backend, { type HttpBackendOptions } from \"i18next-http-backend\";\r\n\r\nimport i18next from \"i18next\";\r\nimport { Log } from \"../log/Log\";\r\nimport { getBuildTime, isServer } from \"../nextjs/env/env\";\r\nimport { fileMapUtils } from \"../utils\";\r\n;\r\nexport { useTranslation } from 'react-i18next';\r\nlet fileDateVersion:string = ''// = getConfig().publicRuntimeConfig?.version\r\nexport const i18nLogger = new Log(false, `i18n`);\r\nconst windowHref = (()=>{\r\n  if(typeof window === 'undefined')return ''\r\n  const u = new URL(window.location.href || window.parent?.location.href);\r\n  // 同域文本iframe里的页面会获取不到href，所以判断一下直接用父级的就行.\r\n  return u.origin == null || u.origin == 'null' ? '' : u.origin\r\n})()\r\nconst backendOptions = {\r\n  loadPath: function (lngs: string[], namespaces: string[]) {\r\n    const log = i18nLogger.sub(false, `i18n loadpath`);\r\n    log.pause = true;\r\n    const lng = lngs[0]\r\n    let p = ``\r\n    // p = `/options/_locales/${lngs[0].replace(\"-\", \"_\")}/messages.json`;\r\n    // p = `/locales/zh-CN/ns1/content.json`;\r\n    // p = `locales/${lng}/${namespaces[0]}.json?v=${fileDateVersion}`\r\n    const ps = namespaces[0].split('/')\r\n    ps.splice(ps.length - 1, 0, lng)\r\n    // p = `locales/${ps.join('/')}.json?v=${fileDateVersion}`\r\n    // p = `locales/${ps.join('/')}.json?v=${getBuildTime()}`\r\n    p = `locales/${ps.join('/')}.json`\r\n    log.log(`lngs=`, lngs);\r\n    log.log(`namespaces=`, namespaces);\r\n    log.log(\"p=\", p);\r\n    p = fileMapUtils.getFile(`/${p}`);\r\n    // console.log('map p=', p)\r\n    p = `${windowHref}/${p}`\r\n    return p;\r\n\r\n  },\r\n  parse: function (\r\n    data: string,\r\n    languages?: string | string[],\r\n    namespaces?: string | string[]\r\n  ) {\r\n    const log = i18nLogger.sub(false, `i18n backend parse`);\r\n    log.pause = true;\r\n    // log.log(`parrrse`, data, languages, namespaces);\r\n    const l = JSON.parse(data);\r\n    log.print(`before set i18ndata`);\r\n    // i18nData = l as II18n;\r\n    // log.log(`i18nData.rule.scripts.sys.rules`, i18nData.rule.scripts.sys.rules);\r\n    log.log(`parrrse`, languages, namespaces);\r\n    return l;\r\n  },\r\n};\r\nconst backend = new Backend();\r\nbackend.init(null, backendOptions);\r\nexport const i18n = i18next;\r\n// export const resources: Resource = {\r\n//   // 'zh-CN': {\r\n//   //   translation: _.merge({}, zhCN),\r\n//   // },\r\n//   // en: {\r\n//   //   translation: _.merge({}, en),\r\n//   // },\r\n// };\r\n\r\n\r\ni18n.on(\"languageChanged\", async function (lng) {\r\n  const log = i18nLogger.sub(false, `onlanguageChanged`);\r\n  log.pause = true;\r\n  log.log(`lllllng`, lng);\r\n  // lng = \"en\";\r\n  // const p = `/options/_locales/${lng.replace(\"-\", \"_\")}/messages.json`;\r\n});\r\n\r\n\r\n\r\n\r\nexport function i18nInit(_fileDateVersion:string=''){\r\n  fileDateVersion = _fileDateVersion\r\n  i18n\r\n  .use(LanguageDetector)\r\n  .use(backend)\r\n  .use(initReactI18next)\r\n  .init<HttpBackendOptions>({\r\n    load: \"currentOnly\",\r\n    // load: \"all\",\r\n    // supportedLngs: ['zh-CN', 'zh-TW', 'en', 'en-GB', 'ja'],\r\n    // resources,\r\n    fallbackLng: isServer ? \"en\" : \"zh-CN\",\r\n    // fallbackLng: \"zh-CN\",\r\n    // lng: \"zh-CN\",\r\n    partialBundledLanguages:true,\r\n    ns:[],\r\n    \r\n    debug: false,\r\n    interpolation: {\r\n      escapeValue: false, // not needed for react as it escapes by default\r\n    },\r\n    detection: {\r\n      caches: [\"localStorage\"],\r\n    },\r\n  });\r\n}\r\ni18n.on(\"missingKey\", function (lngs, namespace, key, res) {\r\n  console.error(\r\n    \"i18n mssing key, lngs=%s, namespace=%s, key=%s, res=%s\",\r\n    lngs,\r\n    namespace,\r\n    key,\r\n    res\r\n  );\r\n});\r\n\r\ni18n.on(\"loaded\", function (loaded) {\r\n  const log = i18nLogger.sub(false, `onloaded`);\r\n  log.pause = true;\r\n  log.log(`onloaded arguments`, loaded);\r\n});\r\n\r\ni18n.on(\"failedLoading\", function (lng, ns, msg) {\r\n  const log = i18nLogger.sub(false, `onfailedLoading`);\r\n  log.pause = true;\r\n  log.log(`failedLoading arguments`, lng, ns, msg);\r\n});\r\n\r\ni18n.on(\"added\", function () {\r\n  console.log('added', arguments)\r\n});   \r\n\r\nexport default i18n;","import { createContext } from \"react\";\r\nimport { storeUtils } from \"./store-utils\";\r\n// import { storeUtils } from \"./store\";\r\nconst s = storeUtils.namespace('store-page-context')\r\n\r\nexport interface IPageScrollPosition{\r\n    x:number\r\n    y:number\r\n}\r\n\r\nfunction create(){\r\n    return createContext(s)\r\n}\r\nexport const StorePageContext = createContext<any>(s)\r\n\r\nexport const StorePageDynamicContext = createContext<Record<string, any>>({})","'use client'\r\nimport { i18n, i18nInit, IPageScrollPosition, StorePageContext, StorePageDynamicContext, toProxy, watchUpdates, storeUtils } from \"@fanfanlo\";\r\nimport { useRouter } from \"next/router\";\r\nimport getConfig from \"node_modules/next/config\";\r\nimport { PropsWithChildren, useEffect } from \"react\";\r\nimport { I18nextProvider } from \"react-i18next\";\r\n\r\ncheckReloadPage();\r\ni18nInit()\r\n\r\n\r\nfunction checkReloadPage(){\r\n  if(typeof window === 'undefined')return\r\n  if(getConfig().publicRuntimeConfig.isDevelopment){\r\n    return\r\n  }\r\n  if(window.location.href.indexOf('qiniu') == -1)return;\r\n  // 帮我检测url中是否包含_htmlRefreshTime的参数\r\n  // 如果没有，则添加_htmlRefresTime的参数，值为当前时间的毫秒数\r\n  const searchParams = new URL(window.location.href).searchParams\r\n  const htmlRefreshTime = searchParams.get('_htmlRefreshTime')\r\n  if (!htmlRefreshTime) {\r\n    const newUrl = new URL(window.location.href)\r\n    newUrl.searchParams.set('_htmlRefreshTime', String(Date.now()))\r\n    window.location.href = newUrl.toString()\r\n    return\r\n  }\r\n\r\n  const refreshTime = Number(htmlRefreshTime)\r\n  if (refreshTime + 2 * 60 * 1000 < Date.now()) {\r\n    const newUrl = new URL(window.location.href)\r\n    newUrl.searchParams.set('_htmlRefreshTime', String(Date.now()))\r\n    window.location.href = newUrl.toString()\r\n  }\r\n}\r\nexport function AppShell({ children }: PropsWithChildren) {\r\n  const router = useRouter();\r\n  const scrollKey = 'scrollPositionInfo'\r\n  const href = window.location.href.split(\"#\")[0]\r\n  const dynamicKey = `dynamic-${href}`\r\n  const s = storeUtils.namespace(dynamicKey);\r\n  let o: Record<string, unknown>|undefined = s.read(dynamicKey)\r\n  if (!o) {\r\n    o = {}\r\n    s.write(dynamicKey, o)\r\n  }\r\n  o = toProxy(o)\r\n  useEffect(() => {\r\n\r\n    router.beforePopState((state) => {\r\n      s.clearAll()\r\n      return true\r\n    })\r\n  })\r\n  useEffect(() => {\r\n    s.write(dynamicKey, o)\r\n    return watchUpdates(o, () => {\r\n      s.write(dynamicKey, o)\r\n    })\r\n  }, [])\r\n  useEffect(() => {\r\n    const info = (s.read(scrollKey) || { x: 0, y: 0 }) as IPageScrollPosition\r\n    // console.log('app shell scroll info info = ', info)\r\n    if (info.x == 0 && info.y == 0) {\r\n      listenScroll()\r\n    } else {\r\n      window.requestAnimationFrame(() => {\r\n        window.scrollTo(info.x, info.y)\r\n        listenScroll()\r\n      })\r\n    }\r\n    function onScroll(e: Event) {\r\n      // console.log('app shell on scroll', { x: window.scrollX, y: window.scrollY })\r\n      s.write(scrollKey, { x: window.scrollX, y: window.scrollY })\r\n    }\r\n    function listenScroll() {\r\n      window.addEventListener('scroll', onScroll)\r\n    }\r\n\r\n    function unsub() {\r\n      window.removeEventListener('scroll', onScroll)\r\n    }\r\n    return unsub\r\n  });\r\n  return (\r\n    <StorePageContext value={s}>\r\n      <StorePageDynamicContext value={o}>\r\n\r\n        <I18nextProvider i18n={i18n}>\r\n          {children}\r\n        </I18nextProvider>\r\n      </StorePageDynamicContext>\r\n    </StorePageContext>\r\n  )\r\n}","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/contacts\",\n      function () {\n        return require(\"private-next-pages/contacts/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/contacts\"])\n      });\n    }\n  ","import { Box, Button, Container } from '@mui/material';\r\nimport { createContext, PropsWithChildren, useContext, useEffect } from 'react';\r\nimport { ITitleI18nConf, ITitleI18nNsConf, ITitleI18nTitleConf } from '.';\r\nimport { isBuild, isDev, isServer, loadI18nValue, publicRuntimeConfig } from '@fanfanlo';\r\nimport { read } from 'fs';\r\nimport { useTranslation } from '@fanfanlo';\r\n\r\n\r\nfunction Reload(){\r\n  if(!isDev)return <>  </>\r\n  const {t} = useTranslation(\"app-ui/components/page/content\")\r\n  return(\r\n    <Box>\r\n      <Button onClick={() => {window.location.reload()}}>{t(\"PageContent.refresh\")}</Button>\r\n      {new Date().toLocaleString()}\r\n    </Box>\r\n  )\r\n}\r\n\r\nconst ScrollP = createContext({ x: 0, y: 0 });\r\nlet index = 0;\r\nexport default function PageContent({ children, titleConf, reload }: {titleConf?:ITitleI18nConf, reload?: boolean} & PropsWithChildren) {\r\n  index++;\r\n  const scroll = useContext(ScrollP);\r\n  const clazz = `${Date.now() + Math.random() * Date.now()}`;\r\n  useEffect(()=>{\r\n    async function loadTitle(){\r\n      if(!titleConf)return\r\n      let title = titleConf.title\r\n      if(titleConf.ns){\r\n        title = await loadI18nValue(titleConf.ns, titleConf.key || \"content.title\")\r\n      }\r\n      if(!title)return\r\n      document.title = title\r\n    }\r\n    loadTitle()\r\n  }, [])\r\n  useEffect(() => {\r\n    const container = document.getElementsByClassName(clazz)[0];\r\n    if (!container) return;\r\n    container.scrollTop = scroll.y;\r\n    const onScroll = () => {\r\n      var scrollTop = container.scrollTop;\r\n      scroll.y = scrollTop;\r\n    };\r\n    container.removeEventListener('scroll', onScroll);\r\n    container.addEventListener('scroll', onScroll, { passive: true });\r\n    return () => container.removeEventListener('scroll', onScroll);\r\n  }, [clazz, scroll]);\r\n  return (\r\n\r\n    <Container className={clazz} sx={{ flexGrow: 1, overflow: 'auto', padding: \"0px\" }}>\r\n      <Box>\r\n        {(reload || (reload == undefined)) && <Reload />}\r\n        \r\n        {children}\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n","import { PropsWithChildren } from \"react\";\r\nimport PageContent from \"./PageContent\";\r\nimport { ITitleI18nConf } from \".\";\r\nexport default function AndroidPageContent({ children, titleConf, reload }: {titleConf?:ITitleI18nConf, reload?: boolean} & PropsWithChildren)  {\r\n    return (\r\n        <PageContent titleConf={titleConf} reload={reload}>\r\n            {children}\r\n        </PageContent>\r\n    )\r\n}\r\n","import { IRequestOptions } from \"../IRequestOptions\";\nimport { tms } from \"../tms\";\nimport { IRequestHandler, request } from \"@fanfanlo\";\n\n/**\n * 获取所有邀请的请求参数\n */\nexport interface IParamsListAllInvitations {\n  // 可以添加分页等参数\n  page?: number;\n  page_size?: number;\n}\n\n/**\n * 用户信息\n */\nexport interface IInvitationUserInfo {\n  user_id: string;\n  display_name: string;\n  avatar_url?: string;\n}\n\n// 邀请状态类型\nexport type InviteStatus = 'pending' | 'accepted' | 'declined' | 'expired' | 'cancelled';\n\n// 邀请记录详情\nexport interface IInvitationDetails {\n  invitation_id: string;\n  user_info: {\n    user_id: string;\n    display_name: string;\n    avatar_url?: string;\n  };\n  status: InviteStatus;\n  message: string;\n  created_at: number;\n  expires_at: number;\n}\n\n/**\n * 获取所有邀请的响应结果\n */\nexport interface IResultListAllInvitations {\n  is_ok: boolean;\n  msg?: string;\n  sent_invitations: IInvitationDetails[];\n  received_invitations: IInvitationDetails[];\n}\n\n/**\n * 响应邀请的请求参数\n */\nexport interface IParamsRespondToInvite {\n  invitation_id: string;\n  action: 'accept' | 'decline' | 'cancel' | 'remove';\n}\n\n/**\n * 获取所有邀请（发送和接收的）\n */\nexport async function tmsEmergencyCallListAllInvitations(\n  opts: IRequestOptions<IParamsListAllInvitations>\n) {\n  return request<IResultListAllInvitations, IParamsListAllInvitations>(\n    tms.TEmc,\n    tms.MEmcListAllInvitations,\n    opts.params,\n    opts.gateway,\n    opts.handler\n  );\n}\n\n/**\n * 取消或删除邀请\n * @param invitationId 邀请ID\n * @param isReceived 是否是接收的邀请\n * @returns Promise\n */\nexport async function cancelOrRemoveInvitation(\n  invitationId: string,\n  isReceived: boolean\n) {\n  const action = isReceived ? 'remove' : 'cancel';\n  return emergencyCallInvitationService.respondToInvite({\n    params: {\n      invitation_id: invitationId,\n      action\n    }\n  } as any);\n}\n\n/**\n * 响应邀请\n */\nexport async function tmsEmergencyCallRespondToInvite(\n  opts: IRequestOptions<IParamsRespondToInvite>\n) {\n  return request<{ is_ok: boolean; msg?: string }, IParamsRespondToInvite>(\n    tms.TEmc,\n    tms.MEmcRespondToInvite,\n    opts.params,\n    opts.gateway,\n    opts.handler\n  );\n}\n\n// 导出所有接口\nexport const emergencyCallInvitationService = {\n  listAllInvitations: tmsEmergencyCallListAllInvitations,\n  respondToInvite: tmsEmergencyCallRespondToInvite,\n};\n\nexport default emergencyCallInvitationService;\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M22 3H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2M8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3m6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1zm3.85-4h1.64L21 16l-1.99 1.99c-1.31-.98-2.28-2.38-2.73-3.99-.18-.64-.28-1.31-.28-2s.1-1.36.28-2c.45-1.62 1.42-3.01 2.73-3.99L21 8l-1.51 2h-1.64c-.22.63-.35 1.3-.35 2s.13 1.37.35 2\"\n}), 'ContactPhone');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4\"\n}), 'PersonAdd');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4\"\n}), 'Person');","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport {\n  Box,\n  Typography,\n  Button,\n  Card,\n  CardContent,\n  CardActions,\n  CircularProgress,\n  Divider,\n  Avatar,\n  Chip,\n  Paper,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  ListItemSecondaryAction,\n  IconButton,\n} from '@mui/material';\nimport {\n  Check as CheckIcon,\n  Close as CloseIcon,\n  AccessTime as AccessTimeIcon,\n  PersonAdd as PersonAddIcon,\n  Person as PersonIcon,\n  Refresh as RefreshIcon,\n  PersonRemove as PersonRemoveIcon,\n  HourglassEmpty as HourglassEmptyIcon,\n} from '@mui/icons-material';\nimport { formatDistanceToNow } from 'date-fns';\nimport { zhCN } from 'date-fns/locale';\nimport { emergencyCallInvitationService, cancelOrRemoveInvitation, InviteStatus } from '@app/model';\n\n// 定义请求处理器类型\ntype RequestHandler<T = any> = {\n  onSuccess: (res: T) => void;\n  onError: (err: Error) => void;\n};\n\n// 定义邀请接口\ninterface IInvitation {\n  invitation_id: string;\n  user_info: {\n    user_id: string;\n    display_name: string;\n    avatar_url?: string;\n  };\n  message?: string;\n  status: InviteStatus;\n  expires_at: number;\n  created_at: string;\n}\n\n// 定义 API 响应类型\ninterface IApiResponse<T = any> {\n  shellIsOk: boolean;\n  dataIsOk: boolean;\n  data?: {\n    is_ok: boolean;\n    msg?: string;\n    sent_invitations?: IInvitation[];\n    received_invitations?: IInvitation[];\n  } & T;\n}\n\n// 获取状态标签的配置\nconst getStatusConfig = (status: InviteStatus, expiresAt: number) => {\n  const isExpired = new Date(expiresAt * 1000) < new Date();\n  const statusTexts: Record<InviteStatus, string> = {\n    pending: '等待处理',\n    accepted: '已接受',\n    declined: '已拒绝',\n    expired: '已过期',\n    cancelled: '已取消',\n  };\n\n  const statusColors: Record<InviteStatus, 'default' | 'primary' | 'success' | 'error' | 'warning'> = {\n    pending: 'primary',\n    accepted: 'success',\n    declined: 'error',\n    expired: 'default',\n    cancelled: 'default',\n  };\n\n  return {\n    text: statusTexts[status] || status,\n    color: statusColors[status] || 'default',\n    isExpired,\n    showExpiry: status === 'pending' && !isExpired,\n  };\n};\n\n// 邀请状态标签组件\nfunction InvitationStatusChip({ status, expiresAt }: { status: InviteStatus; expiresAt: number }) {\n  const config = getStatusConfig(status, expiresAt);\n\n  return (\n    <Box display=\"flex\" alignItems=\"center\" gap={1}>\n      <Chip size=\"small\" label={config.text} color={config.color} variant=\"outlined\" />\n      {config.showExpiry && (\n        <Chip\n          size=\"small\"\n          icon={<AccessTimeIcon fontSize=\"small\" />}\n          label={`${formatDistanceToNow(expiresAt * 1000, {\n            addSuffix: true,\n            locale: zhCN,\n          })}`}\n          color=\"primary\"\n          variant=\"outlined\"\n        />\n      )}\n    </Box>\n  );\n}\n\n// 用户信息卡片组件\nfunction UserInfoCard({\n  userInfo,\n  message,\n  status,\n  expiresAt,\n  isReceived = false,\n  onRespond,\n  isProcessing = false,\n}: {\n  userInfo: { user_id: string; display_name: string; avatar_url?: string };\n  message?: string;\n  status: string;\n  expiresAt: number;\n  isReceived?: boolean;\n  onRespond?: (action: 'accept' | 'decline' | 'cancel' | 'remove') => Promise<void>;\n  isProcessing?: boolean;\n}) {\n  const [isProcessingAction, setIsProcessingAction] = useState(false);\n\n  const handleRespond = async (action: 'accept' | 'decline' | 'cancel' | 'remove') => {\n    if (!onRespond) return;\n\n    try {\n      setIsProcessingAction(true);\n      await onRespond(action);\n    } finally {\n      setIsProcessingAction(false);\n    }\n  };\n\n  return (\n    <Card variant=\"outlined\" sx={{ mb: 2, opacity: isProcessing ? 0.7 : 1 }}>\n      <CardContent>\n        <Box display=\"flex\" alignItems=\"center\" mb={1}>\n          <Avatar src={userInfo.avatar_url} alt={userInfo.display_name} sx={{ width: 40, height: 40, mr: 2 }}>\n            {userInfo.display_name?.[0]?.toUpperCase() || '?'}\n          </Avatar>\n          <Box flexGrow={1}>\n            <Typography variant=\"subtitle1\">{userInfo.display_name || '未知用户'}</Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              ID: {userInfo.user_id}\n            </Typography>\n          </Box>\n          <InvitationStatusChip status={status} expiresAt={expiresAt} />\n        </Box>\n\n        {message && (\n          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1, mb: 1 }}>\n            {message}\n          </Typography>\n        )}\n      </CardContent>\n\n      {isReceived ? (\n        // 接收的邀请\n        <CardActions sx={{ justifyContent: 'flex-end', pt: 0 }}>\n          {status === 'pending' ? (\n            // 待处理的邀请：显示接受/拒绝按钮\n            <>\n              <Button\n                size=\"small\"\n                color=\"error\"\n                startIcon={<CloseIcon />}\n                onClick={() => handleRespond('decline')}\n                disabled={isProcessing || isProcessingAction}>\n                拒绝\n              </Button>\n              <Button\n                size=\"small\"\n                color=\"primary\"\n                variant=\"contained\"\n                startIcon={<CheckIcon />}\n                onClick={() => handleRespond('accept')}\n                disabled={isProcessing || isProcessingAction}>\n                接受\n              </Button>\n            </>\n          ) : status === 'accepted' ? (\n            // 已接受的邀请：显示解除关系按钮\n            <Button\n              size=\"small\"\n              color=\"error\"\n              variant=\"outlined\"\n              startIcon={<PersonIcon />}\n              onClick={() => handleRespond('remove')}\n              disabled={isProcessing || isProcessingAction}>\n              解除关系\n            </Button>\n          ) : null}\n        </CardActions>\n      ) : status === 'pending' || status === 'accepted' ? (\n        // 发送的邀请：显示取消或解除关系按钮\n        <CardActions sx={{ justifyContent: 'flex-end', pt: 0 }}>\n          <Button\n            size=\"small\"\n            color=\"error\"\n            variant=\"outlined\"\n            startIcon={<CloseIcon />}\n            onClick={() => handleRespond('cancel')}\n            disabled={isProcessing || isProcessingAction}>\n            {status === 'pending' ? '取消邀请' : '解除关系'}\n          </Button>\n        </CardActions>\n      ) : null}\n    </Card>\n  );\n}\n\nconst InvitationManager: React.FC = () => {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [error, setError] = useState<string | null>(null);\n  const [isRefreshing, setIsRefreshing] = useState<boolean>(false);\n  const [invitations, setInvitations] = useState<{\n    sent: IInvitation[];\n    received: IInvitation[];\n  }>({ sent: [], received: [] });\n  const [isProcessing, setIsProcessing] = useState<boolean>(false);\n\n  // 加载邀请列表\n  const loadInvitations = useCallback(async (showLoading = true) => {\n    if (showLoading) {\n      setIsLoading(true);\n    } else {\n      setIsRefreshing(true);\n    }\n    setError(null);\n\n    try {\n      const res = await emergencyCallInvitationService.listAllInvitations({\n        params: {},\n      } as any);\n      \n      if (res.shellIsOk && res.dataIsOk && res.data?.is_ok) {\n        setInvitations({\n          sent: (res.data.sent_invitations || []).map((invite: any) => ({\n            ...invite,\n            status: invite.status as InviteStatus,\n          })),\n          received: (res.data.received_invitations || []).map((invite: any) => ({\n            ...invite,\n            status: invite.status as InviteStatus,\n          })),\n        });\n      } else {\n        setError(res.data?.msg || '加载邀请列表失败');\n      }\n    } catch (err) {\n      console.error('加载邀请列表异常:', err);\n      setError('发生未知错误');\n    } finally {\n      setIsLoading(false);\n      setIsRefreshing(false);\n    }\n  }, []);\n\n  // 处理取消或删除邀请\n  const handleCancelOrRemove = useCallback(\n    async (invitationId: string, isReceived: boolean) => {\n      try {\n        setIsProcessing(true);\n\n        const res = await cancelOrRemoveInvitation(invitationId, isReceived);\n        if (!res.shellIsOk || !res.dataIsOk || !res.data?.is_ok) {\n          throw new Error(res.data?.msg || '操作失败');\n        }\n        // 直接更新状态\n        setInvitations(prev => ({\n          sent: prev.sent.filter(i => i.invitation_id !== invitationId),\n          received: prev.received.filter(i => i.invitation_id !== invitationId),\n        }));\n      } catch (err) {\n        console.error('处理邀请失败:', err);\n        setError(err instanceof Error ? err.message : '操作失败，请重试');\n      } finally {\n        setIsProcessing(false);\n      }\n    },\n    [],\n  );\n\n  // 响应邀请\n  const handleRespondToInvite = useCallback(\n    async (invitationId: string, action: 'accept' | 'decline' | 'cancel' | 'remove'): Promise<void> => {\n      try {\n        setIsProcessing(true);\n\n        if (action === 'accept' || action === 'decline') {\n          // 接受或拒绝邀请\n          const res = await emergencyCallInvitationService.respondToInvite({\n            params: { invitation_id: invitationId, action },\n          } as any);\n\n          if (!res.shellIsOk || !res.dataIsOk || !res.data?.is_ok) {\n            throw new Error(res.data?.msg || '操作失败');\n          }\n          \n          // 直接更新状态\n          setInvitations(prev => {\n            const updateInvitation = (invites: IInvitation[]) =>\n              invites.map(invite =>\n                invite.invitation_id === invitationId\n                  ? {\n                      ...invite,\n                      status: action === 'accept' ? 'accepted' : ('declined' as InviteStatus),\n                    }\n                  : invite,\n              );\n\n            return {\n              sent: updateInvitation(prev.sent),\n              received: updateInvitation(prev.received),\n            };\n          });\n        } else {\n          // 取消邀请或解除关系\n          const isReceived = action === 'remove';\n          await handleCancelOrRemove(invitationId, isReceived);\n        }\n      } catch (err) {\n        console.error('处理邀请失败:', err);\n        setError(err instanceof Error ? err.message : '操作失败，请重试');\n      } finally {\n        setIsProcessing(false);\n      }\n    },\n    [handleCancelOrRemove],\n  );\n\n  // 处理刷新\n  const handleRefresh = useCallback(() => {\n    loadInvitations(false);\n  }, [loadInvitations]);\n\n  // 组件加载时获取数据\n  useEffect(() => {\n    loadInvitations();\n  }, [loadInvitations]);\n\n  const renderContent = () => {\n    if (isLoading) {\n      return (\n        <Box display=\"flex\" justifyContent=\"center\" p={4}>\n          <CircularProgress />\n        </Box>\n      );\n    }\n\n    if (error) {\n      return (\n        <Box p={2}>\n          <Typography color=\"error\">{error}</Typography>\n          <Button variant=\"outlined\" color=\"primary\" onClick={() => loadInvitations()} startIcon={<RefreshIcon />}>\n            重试\n          </Button>\n        </Box>\n      );\n    }\n\n    const hasSentInvitations = invitations.sent.length > 0;\n    const hasReceivedInvitations = invitations.received.length > 0;\n\n    return (\n      <Box>\n        <Typography variant=\"h6\" gutterBottom>\n          收到的邀请\n        </Typography>\n        {hasReceivedInvitations ? (\n          <Box mb={4}>\n            {invitations.received.map(invite => (\n              <UserInfoCard\n                key={`received-${invite.invitation_id}`}\n                userInfo={invite.user_info}\n                message={invite.message}\n                status={invite.status as InviteStatus}\n                expiresAt={invite.expires_at}\n                isReceived={true}\n                onRespond={async action => {\n                  if (action === 'remove') {\n                    await handleCancelOrRemove(invite.invitation_id, true);\n                  } else if (action === 'cancel') {\n                    await handleCancelOrRemove(invite.invitation_id, false);\n                  } else {\n                    await handleRespondToInvite(invite.invitation_id, action);\n                  }\n                }}\n                isProcessing={isRefreshing || isProcessing}\n              />\n            ))}\n          </Box>\n        ) : (\n          <Box\n            display=\"flex\"\n            flexDirection=\"column\"\n            alignItems=\"center\"\n            justifyContent=\"center\"\n            p={4}\n            textAlign=\"center\"\n            bgcolor=\"action.hover\"\n            borderRadius={1}\n            mb={4}>\n            <PersonIcon color=\"disabled\" sx={{ fontSize: 48, mb: 1 }} />\n            <Typography color=\"textSecondary\">暂无收到的邀请</Typography>\n          </Box>\n        )}\n\n        <Typography variant=\"h6\" gutterBottom>\n          已发送的邀请\n        </Typography>\n        {hasSentInvitations ? (\n          <Box>\n            {invitations.sent.map(invite => (\n              <UserInfoCard\n                key={`sent-${invite.invitation_id}`}\n                userInfo={invite.user_info}\n                message={invite.message}\n                status={invite.status as InviteStatus}\n                expiresAt={invite.expires_at}\n                isReceived={false}\n                onRespond={async action => {\n                  if (action === 'cancel') {\n                    await handleCancelOrRemove(invite.invitation_id, false);\n                  }\n                }}\n                isProcessing={isRefreshing || isProcessing}\n              />\n            ))}\n          </Box>\n        ) : (\n          <Box\n            display=\"flex\"\n            flexDirection=\"column\"\n            alignItems=\"center\"\n            justifyContent=\"center\"\n            p={4}\n            textAlign=\"center\"\n            bgcolor=\"action.hover\"\n            borderRadius={1}>\n            <PersonIcon color=\"disabled\" sx={{ fontSize: 48, mb: 1 }} />\n            <Typography color=\"textSecondary\">暂无已发送的邀请</Typography>\n          </Box>\n        )}\n      </Box>\n    );\n  };\n\n  return (\n    <Box p={2}>\n      <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={2}>\n        <Typography variant=\"h5\">紧急联系人邀请</Typography>\n        <Button\n          variant=\"outlined\"\n          size=\"small\"\n          onClick={handleRefresh}\n          disabled={isRefreshing}\n          startIcon={isRefreshing ? <CircularProgress size={20} /> : <RefreshIcon />}>\n          {isRefreshing ? '刷新中...' : '刷新'}\n        </Button>\n      </Box>\n      {renderContent()}\n    </Box>\n  );\n};\n\nexport default InvitationManager;\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M14 8c0-2.21-1.79-4-4-4S6 5.79 6 8s1.79 4 4 4 4-1.79 4-4m3 2v2h6v-2zM2 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4\"\n}), 'PersonRemove');","import { IRequestOptions } from \"../IRequestOptions\";\nimport { tms } from \"../tms\";\nimport { request } from \"@fanfanlo\";\n\n/**\n * 获取已建立联系人关系的请求参数\n */\nexport interface IParamsListEstablishedContacts {\n  // 可以添加分页等参数\n  page?: number;\n  page_size?: number;\n}\n\n/**\n * 已建立联系人的用户信息\n */\nexport interface IEstablishedContactUserInfo {\n  user_id: string;\n  display_name: string;\n  avatar_url?: string;\n}\n\n/**\n * 已建立的联系人关系信息\n */\nexport interface IEstablishedContactInfo {\n  contact_id: string;\n  user_info: IEstablishedContactUserInfo;\n  relationship: string;\n  notes?: string;\n  created_at: number;\n  is_active: boolean;\n}\n\n/**\n * 获取已建立联系人关系的响应结果\n */\nexport interface IResultListEstablishedContacts {\n  is_ok: boolean;\n  msg?: string;\n  contacts: IEstablishedContactInfo[];\n}\n\n/**\n * 移除已建立联系人关系的请求参数\n */\nexport interface IParamsRemoveEstablishedContact {\n  contact_id: string;\n}\n\n/**\n * 移除已建立联系人关系的响应结果\n */\nexport interface IResultRemoveEstablishedContact {\n  is_ok: boolean;\n  msg?: string;\n}\n\n/**\n * 获取已建立的联系人关系\n */\nexport async function tmsEmergencyCallListEstablishedContacts(\n  opts: IRequestOptions<IParamsListEstablishedContacts>\n) {\n  return request<IResultListEstablishedContacts, IParamsListEstablishedContacts>(\n    tms.TEmc,\n    tms.MEmcListEstablishedContacts,\n    opts.params,\n    opts.gateway,\n    opts.handler\n  );\n}\n\n/**\n * 移除已建立的联系人关系\n */\nexport async function tmsEmergencyCallRemoveEstablishedContact(\n  opts: IRequestOptions<IParamsRemoveEstablishedContact>\n) {\n  return request<IResultRemoveEstablishedContact, IParamsRemoveEstablishedContact>(\n    tms.TEmc,\n    tms.MEmcRemoveEstablishedContact,\n    opts.params,\n    opts.gateway,\n    opts.handler\n  );\n}\n\n// 导出服务\nexport const emergencyCallContactService = {\n  listEstablishedContacts: tmsEmergencyCallListEstablishedContacts,\n  removeEstablishedContact: tmsEmergencyCallRemoveEstablishedContact,\n};\n\nexport default emergencyCallContactService;","import React, { useState, useEffect, useCallback } from 'react';\nimport {\n  Box,\n  Typography,\n  Button,\n  Card,\n  CardContent,\n  CardActions,\n  CircularProgress,\n  Divider,\n  Avatar,\n  Chip,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  ListItemSecondaryAction,\n  IconButton,\n  Alert,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  DialogContentText,\n} from '@mui/material';\nimport {\n  Person as PersonIcon,\n  Refresh as RefreshIcon,\n  PersonRemove as PersonRemoveIcon,\n  AccessTime as AccessTimeIcon,\n  ContactPhone as ContactPhoneIcon,\n} from '@mui/icons-material';\nimport { formatDistanceToNow } from 'date-fns';\nimport { zhCN } from 'date-fns/locale';\nimport { emergencyCallContactService, IEstablishedContactInfo, user } from '@app/model';\nimport { useProxyWatch } from '@fanfanlo';\n\n// 定义请求处理器类型\ntype RequestHandler<T = any> = {\n  onData: (res: T) => void;\n  onError: (err: Error) => void;\n};\n\n// 定义 API 响应类型\ninterface IApiResponse<T = any> {\n  shellIsOk: boolean;\n  dataIsOk: boolean;\n  data?: {\n    is_ok: boolean;\n    msg?: string;\n    contacts?: IEstablishedContactInfo[];\n  } & T;\n}\n\n// 联系人卡片组件\nfunction ContactCard({\n  contact,\n  onRemove,\n  isProcessing = false,\n}: {\n  contact: IEstablishedContactInfo;\n  onRemove?: (contactId: string) => Promise<void>;\n  isProcessing?: boolean;\n}) {\n  const [isRemoving, setIsRemoving] = useState(false);\n  const [showRemoveDialog, setShowRemoveDialog] = useState(false);\n\n  const handleRemove = async () => {\n    if (!onRemove) return;\n\n    try {\n      setIsRemoving(true);\n      await onRemove(contact.contact_id);\n      setShowRemoveDialog(false);\n    } finally {\n      setIsRemoving(false);\n    }\n  };\n\n  return (\n    <>\n      <Card variant=\"outlined\" sx={{ mb: 2, opacity: isProcessing ? 0.7 : 1 }}>\n        <CardContent>\n          <Box display=\"flex\" alignItems=\"center\" mb={1}>\n            <Avatar\n              src={contact.user_info.avatar_url}\n              alt={contact.user_info.display_name}\n              sx={{ width: 50, height: 50, mr: 2 }}>\n              {contact.user_info.display_name?.[0]?.toUpperCase() || '?'}\n            </Avatar>\n            <Box flexGrow={1}>\n              <Typography variant=\"h6\">{contact.user_info.display_name || '未知用户'}</Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                ID: {contact.user_info.user_id}\n              </Typography>\n              {contact.relationship && (\n                <Chip size=\"small\" label={contact.relationship} color=\"primary\" variant=\"outlined\" sx={{ mt: 0.5 }} />\n              )}\n            </Box>\n            <Box textAlign=\"right\">\n              <Chip\n                size=\"small\"\n                icon={<AccessTimeIcon fontSize=\"small\" />}\n                label={`${formatDistanceToNow(contact.created_at * 1000, {\n                  addSuffix: true,\n                  locale: zhCN,\n                })}`}\n                color=\"default\"\n                variant=\"outlined\"\n              />\n            </Box>\n          </Box>\n\n          {contact.notes && (\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\n              备注: {contact.notes}\n            </Typography>\n          )}\n        </CardContent>\n\n        <CardActions sx={{ justifyContent: 'flex-end', pt: 0 }}>\n          <Button\n            size=\"small\"\n            color=\"error\"\n            variant=\"outlined\"\n            startIcon={<PersonRemoveIcon />}\n            onClick={() => setShowRemoveDialog(true)}\n            disabled={isProcessing || isRemoving}>\n            解除关系\n          </Button>\n        </CardActions>\n      </Card>\n\n      {/* 删除确认对话框 */}\n      <Dialog\n        open={showRemoveDialog}\n        onClose={() => setShowRemoveDialog(false)}\n        aria-labelledby=\"remove-contact-dialog\">\n        <DialogTitle id=\"remove-contact-dialog\">确认解除联系人关系</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            您确定要与 <strong>{contact.user_info.display_name}</strong> 解除紧急联系人关系吗？ 此操作不可撤销。\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setShowRemoveDialog(false)} disabled={isRemoving}>\n            取消\n          </Button>\n          <Button\n            onClick={handleRemove}\n            color=\"error\"\n            variant=\"contained\"\n            disabled={isRemoving}\n            startIcon={isRemoving ? <CircularProgress size={16} /> : <PersonRemoveIcon />}>\n            {isRemoving ? '处理中...' : '确认解除'}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n\nconst EstablishedContactsManager: React.FC = () => {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [error, setError] = useState<string | null>(null);\n  const [isRefreshing, setIsRefreshing] = useState<boolean>(false);\n  const [contacts, setContacts] = useState<IEstablishedContactInfo[]>([]);\n  const [isProcessing, setIsProcessing] = useState<boolean>(false);\n\n  // 加载已建立的联系人关系\n  const loadEstablishedContacts = useCallback(async (showLoading = true) => {\n    if (showLoading) {\n      setIsLoading(true);\n    } else {\n      setIsRefreshing(true);\n    }\n    setError(null);\n\n    try {\n      const res = await emergencyCallContactService.listEstablishedContacts({\n        params: {},\n      } as any);\n      if (res.shellIsOk && res.dataIsOk && res.data?.is_ok) {\n        setContacts(res.data.contacts || []);\n      } else {\n        setError(res.data?.msg || '加载联系人列表失败');\n      }\n    } catch (err) {\n      console.error('加载联系人列表异常:', err);\n      setError('发生未知错误');\n    } finally {\n      setIsLoading(false);\n      setIsRefreshing(false);\n    }\n  }, []);\n\n  // 移除联系人关系\n  const handleRemoveContact = useCallback(async (contactId: string): Promise<void> => {\n    try {\n      setIsProcessing(true);\n\n      const res = await emergencyCallContactService.removeEstablishedContact({\n        params: { contact_id: contactId },\n        // handler,\n      } as any);\n\n      if (!res.shellIsOk || !res.dataIsOk || !res.data?.is_ok) {\n        throw new Error(res.data?.msg || '移除联系人失败');\n      }\n      // 从本地状态中移除\n      setContacts(prev => prev.filter(contact => contact.contact_id !== contactId));\n    } catch (err) {\n      console.error('移除联系人失败:', err);\n      setError(err instanceof Error ? err.message : '移除联系人失败，请重试');\n    } finally {\n      setIsProcessing(false);\n    }\n  }, []);\n\n  // 处理刷新\n  const handleRefresh = useCallback(() => {\n    loadEstablishedContacts(false);\n  }, [loadEstablishedContacts]);\n\n  // 组件加载时获取数据\n  useEffect(() => {\n    loadEstablishedContacts();\n  }, [loadEstablishedContacts]);\n\n  const renderContent = () => {\n    if (isLoading) {\n      return (\n        <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\" p={4}>\n          <CircularProgress />\n          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 2 }}>\n            加载中...\n          </Typography>\n        </Box>\n      );\n    }\n\n    if (error) {\n      return (\n        <Box p={2}>\n          <Alert severity=\"error\" sx={{ mb: 2 }}>\n            {error}\n          </Alert>\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            onClick={() => loadEstablishedContacts()}\n            startIcon={<RefreshIcon />}>\n            重试\n          </Button>\n        </Box>\n      );\n    }\n\n    if (contacts.length === 0) {\n      return (\n        <Box\n          display=\"flex\"\n          flexDirection=\"column\"\n          alignItems=\"center\"\n          justifyContent=\"center\"\n          p={4}\n          textAlign=\"center\"\n          bgcolor=\"action.hover\"\n          borderRadius={1}>\n          <ContactPhoneIcon color=\"disabled\" sx={{ fontSize: 64, mb: 2 }} />\n          <Typography variant=\"h6\" color=\"textSecondary\" gutterBottom>\n            暂无紧急联系人\n          </Typography>\n          <Typography variant=\"body2\" color=\"textSecondary\">\n            您还没有建立任何紧急联系人关系\n          </Typography>\n        </Box>\n      );\n    }\n\n    return (\n      <Box>\n        {contacts.map(contact => (\n          <ContactCard\n            key={contact.contact_id}\n            contact={contact}\n            onRemove={handleRemoveContact}\n            isProcessing={isRefreshing || isProcessing}\n          />\n        ))}\n      </Box>\n    );\n  };\n\n  return (\n    <Box p={2}>\n      <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={3}>\n        <Box>\n          <Typography variant=\"h5\" gutterBottom>\n            我的紧急联系人\n          </Typography>\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            管理您已建立的紧急联系人关系\n          </Typography>\n        </Box>\n        <Button\n          variant=\"outlined\"\n          size=\"small\"\n          onClick={handleRefresh}\n          disabled={isRefreshing}\n          startIcon={isRefreshing ? <CircularProgress size={20} /> : <RefreshIcon />}>\n          {isRefreshing ? '刷新中...' : '刷新'}\n        </Button>\n      </Box>\n\n      {contacts.length > 0 && (\n        <Alert severity=\"info\" sx={{ mb: 2 }}>\n          共有 {contacts.length} 个紧急联系人\n        </Alert>\n      )}\n\n      {renderContent()}\n    </Box>\n  );\n};\n\nexport default EstablishedContactsManager;\n","import React, { useState } from 'react';\nimport {\n  Box,\n  Typography,\n  Tabs,\n  Tab,\n  Paper,\n  Divider\n} from '@mui/material';\nimport {\n  People as PeopleIcon,\n  PersonAdd as PersonAddIcon,\n  ContactPhone as ContactPhoneIcon\n} from '@mui/icons-material';\n\nimport InvitationManager from '../InvitationManager/InvitationManager';\nimport EstablishedContactsManager from '../EstablishedContactsManager/EstablishedContactsManager';\n\ninterface TabPanelProps {\n  children?: React.ReactNode;\n  index: number;\n  value: number;\n}\n\nfunction TabPanel(props: TabPanelProps) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`contact-tabpanel-${index}`}\n      aria-labelledby={`contact-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box>{children}</Box>}\n    </div>\n  );\n}\n\nfunction a11yProps(index: number) {\n  return {\n    id: `contact-tab-${index}`,\n    'aria-controls': `contact-tabpanel-${index}`,\n  };\n}\n\nconst ContactRelationshipManager: React.FC = () => {\n  const [currentTab, setCurrentTab] = useState(0);\n\n  const handleTabChange = (event: React.SyntheticEvent, newValue: number) => {\n    setCurrentTab(newValue);\n  };\n\n  return (\n    <Box sx={{ width: '100%', maxWidth: 800, mx: 'auto', p: 2 }}>\n      {/* 页面标题 */}\n      <Box mb={3} textAlign=\"center\">\n        <Typography variant=\"h4\" gutterBottom>\n          联系人关系管理\n        </Typography>\n        <Typography variant=\"body1\" color=\"text.secondary\">\n          管理您的紧急联系人邀请和已建立的关系\n        </Typography>\n      </Box>\n\n      <Paper elevation={2}>\n        {/* 标签导航 */}\n        <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\n          <Tabs \n            value={currentTab} \n            onChange={handleTabChange}\n            aria-label=\"联系人管理标签\"\n            variant=\"fullWidth\"\n          >\n            <Tab \n              icon={<ContactPhoneIcon />}\n              label=\"我的联系人\" \n              {...a11yProps(0)}\n            />\n            <Tab \n              icon={<PersonAddIcon />}\n              label=\"邀请管理\" \n              {...a11yProps(1)}\n            />\n          </Tabs>\n        </Box>\n\n        {/* 标签内容 */}\n        <TabPanel value={currentTab} index={0}>\n          <EstablishedContactsManager />\n        </TabPanel>\n        \n        <TabPanel value={currentTab} index={1}>\n          <InvitationManager />\n        </TabPanel>\n      </Paper>\n    </Box>\n  );\n};\n\nexport default ContactRelationshipManager;","import { AppbarContainer, AppShell, TabbarContainer } from \"@app/ui\";\nimport { NavBar } from \"@src/components/navbar/NavBar\";\nimport ContactRelationshipManager from \"@src/components/ContactRelationshipManager/ContactRelationshipManager\";\n\nexport default function ContactsPage() {\n\n    return (\n\n                    <AppShell>\n                        <AppbarContainer appbarProps={{title:\"联系人\", back:true}}>\n                <ContactRelationshipManager />\n                        </AppbarContainer>\n                    </AppShell>\n    )\n    return (\n        <AppShell>\n            <TabbarContainer \n                titleConf={{ ns: \"emergency-call/pages/contacts/content\", key: \"content.title\" }}\n                navBar={<NavBar/>}\n            >\n                <ContactRelationshipManager />\n            </TabbarContainer>\n        </AppShell>\n    )\n}","'use client';\r\nimport { BottomNavigation, BottomNavigationAction, Box, CssBaseline, Paper, Stack } from '@mui/material';\r\n\r\nimport HomeIcon from '@mui/icons-material/Home';\r\nimport SettingsIcon from '@mui/icons-material/Settings';\r\nimport StorefrontIcon from '@mui/icons-material/Storefront';\r\nimport { useRouter } from 'next/router';\r\nimport React, { PropsWithChildren } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { ITitleI18nConf } from '../page';\r\nimport AndroidPageContent from '../page/AndroidPageContent';\r\nimport CreateIcon from '@mui/icons-material/Create';\r\n// interface TabInfoType {\r\n//   label: string;\r\n//   value: string;\r\n//   icon: React.ReactNode;\r\n// }\r\n\r\nfunction BottomBar({navBar}:{navBar?:React.ReactNode}) {\r\n  return <Paper\r\n    id=\"bottom-navigation\"\r\n    sx={{ position: 'fixed', bottom: 0, left: 0, right: 0 }}\r\n    elevation={3}>\r\n    {/* <NavBar /> */}\r\n    {navBar}\r\n  </Paper>;\r\n}\r\n// function NavBar() {\r\n//   const router = useRouter();\r\n//   const { pathname } = router;\r\n//   const { t } = useTranslation('app-ui/components/tabbar/content');\r\n//   const tabInfoList: TabInfoType[] = [\r\n//     { label: t('content.home'), value: '/', icon: <HomeIcon /> },\r\n//     // { label: t('content.create'), value: '/script-creator', icon: <CreateIcon /> },\r\n//     // { label: t('content.market'), value: '/market', icon: <StorefrontIcon /> },\r\n//     { label: t('content.settings'), value: '/settings', icon: <SettingsIcon /> },\r\n//   ];\r\n//   return (\r\n\r\n//     <BottomNavigation showLabels value={pathname}>\r\n//       {tabInfoList.map(e => (\r\n//         <BottomNavigationAction\r\n//           key={e.value}\r\n//           label={e.label}\r\n//           icon={e.icon}\r\n//           data-id={`tabbar-${e.value}`}\r\n//           className={pathname === e.value ? 'Mui-selected' : ''}\r\n//           onClick={() => {\r\n//             if (pathname === e.value) return;\r\n//             router.push(e.value);\r\n//           }}\r\n//         />\r\n//       ))}\r\n//     </BottomNavigation>\r\n//   );\r\n// }\r\n\r\n\r\n// testWatchUpdates()\r\nexport function TabbarContainer({ children, titleConf, navBar }: {titleConf?:ITitleI18nConf, navBar:React.ReactNode} & PropsWithChildren)  {\r\n  return (\r\n    <Box sx={{ display: 'flex', flexDirection: 'column', height2: '100vh' }}>\r\n      <CssBaseline />\r\n      <Stack direction={\"column\"} spacing={3}\r\n      \r\n      >\r\n        <AndroidPageContent titleConf={titleConf}>\r\n          {children}\r\n        </AndroidPageContent>\r\n        <BottomBar navBar={navBar} />\r\n      </Stack>\r\n    </Box>\r\n  );\r\n}\r\n\r\n","import { Dispatcher } from \"@fanfanlo\"\r\nimport { DispatcherUnsubscribe } from \"@fanfanlo\"\r\n\r\nconst dipsatcher = new Dispatcher()\r\ninterface IStaticModel{\r\n    dipsatcher:Dispatcher\r\n    screenLockCount:number\r\n    switchPage:()=>void\r\n    listenSwitchPage:(callback:()=>void)=>DispatcherUnsubscribe \r\n}\r\nexport const staticModel:IStaticModel = {\r\n    dipsatcher,\r\n    screenLockCount:0,\r\n    switchPage:async()=>{\r\n        dipsatcher.dispatch(\"switchPage\")\r\n        staticModel.screenLockCount = 0\r\n    },\r\n    listenSwitchPage:(callback:()=>void)=>{\r\n        return dipsatcher.addListener(\"switchPage\",callback)\r\n    }\r\n}   \r\n","import { PropsWithChildren } from \"react\";\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\nimport { useRouter } from \"next/router\";\r\n\r\n\r\nexport function PageTransition({ children }: PropsWithChildren) {\r\n    const router = useRouter()\r\n    return (\r\n\r\n        <AnimatePresence mode=\"sync\">\r\n            <motion.div\r\n                key={router.route}\r\n                initial={{ opacity: 0, y: 10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                exit={{ opacity: 0, y: -110 }}\r\n                transition={{ duration: 0.3 }}\r\n            >\r\n                {children}\r\n            </motion.div>\r\n        </AnimatePresence>\r\n    )\r\n}","import { staticModel } from \"@app/static\";\r\nimport { Box } from \"@mui/material\";\r\nimport { useEffect } from \"react\";\r\nimport { PageTransition } from \"../motion\";\r\nlet idCount = 0\r\nexport function PageShell({children}:{children:React.ReactNode}){\r\n    const id = `app-shell-${idCount++}`\r\n    useEffect(()=>{\r\n        const box = document.querySelector(`#${id}`)\r\n        const unlisten = staticModel.listenSwitchPage(()=>{\r\n            if(!box)return\r\n        })\r\n        if(!box)return\r\n        box.addEventListener(\"click\",(e)=>{\r\n            if(staticModel.screenLockCount == 0)return\r\n            e.stopPropagation()\r\n            e.preventDefault()\r\n        })\r\n        return ()=>{\r\n            unlisten()\r\n        }\r\n    },[])\r\n    return (\r\n        <Box id={id}>\r\n            <PageTransition>\r\n                {children}  \r\n            </PageTransition>\r\n        </Box>\r\n    )\r\n}\r\n","import { AppBar, Box, Container, CssBaseline, Fab, Fade, Slide, Toolbar, Typography, useScrollTrigger } from \"@mui/material\";\r\nimport { PropsWithChildren, ReactNode } from \"react\";\r\n// import {AndroidPageContent} from \"../../\";\r\nimport { browserHistoryUtils, IDispatcher } from \"@fanfanlo\";\r\nimport KeyboardArrowLeft from '@mui/icons-material/KeyboardArrowLeft';\r\nimport KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp';\r\nimport * as React from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport { PageShell } from \"../app/PageShell\";\r\nimport shadows from \"@mui/material/styles/shadows\";\r\nimport AndroidPageContent from \"../page/AndroidPageContent\";\r\nimport { IAppBarBackAskEvent } from \"@app/static\";\r\nimport { ITitleI18nConf } from \"../page\";\r\ninterface Props {\r\n    /**\r\n     * Injected by the documentation to work in an iframe.\r\n     * You won't need it on your project.\r\n     */\r\n    window?: () => Window;\r\n    children?: React.ReactElement<unknown>;\r\n}\r\n\r\nfunction HideOnScroll(props: Props) {\r\n    const { children, window } = props;\r\n    // Note that you normally won't need to set the window ref as useScrollTrigger\r\n    // will default to window.\r\n    // This is only being set here because the demo is in an iframe.\r\n    const trigger = useScrollTrigger({\r\n        target: window ? window() : undefined,\r\n    });\r\n\r\n    return (\r\n        <Slide appear={false} direction=\"down\" in={!trigger}>\r\n            {children ?? <div />}\r\n        </Slide>\r\n    );\r\n}\r\nexport interface IAppbarProps extends PropsWithChildren {\r\n    title: ReactNode\r\n    back: boolean\r\n    backHandler?: () => boolean\r\n    backDispatcher?:IDispatcher\r\n    toolbar?:ReactNode\r\n    toolbarContent?:ReactNode\r\n}\r\nexport function Appbar({ title }: { title: ReactNode } & PropsWithChildren) {\r\n    return (\r\n\r\n        <AppBar color={\"inherit\"}>\r\n            <Toolbar>\r\n                <Typography variant=\"h6\" component=\"div\">\r\n                    {title}\r\n                </Typography>\r\n            </Toolbar>\r\n        </AppBar>\r\n    )\r\n}\r\n\r\ninterface IAppbarContainerProps extends PropsWithChildren {\r\n    appbarProps: IAppbarProps\r\n    titleConf?:ITitleI18nConf\r\n    reload?: boolean\r\n}\r\n\r\n// export interface IAppBarBackAskEvent{\r\n//     defaultPrevented:boolean\r\n// }\r\n\r\nfunction ScrollTop(props: Props) {\r\n    const { children, window } = props;\r\n    // Note that you normally won't need to set the window ref as useScrollTrigger\r\n    // will default to window.\r\n    // This is only being set here because the demo is in an iframe.\r\n    const trigger = useScrollTrigger({\r\n        target: window ? window() : undefined,\r\n        disableHysteresis: true,\r\n        threshold: 100,\r\n    });\r\n\r\n    const handleClick = (event: React.MouseEvent<HTMLDivElement>) => {\r\n        const anchor = (\r\n            (event.target as HTMLDivElement).ownerDocument || document\r\n        ).querySelector('#back-to-top-anchor');\r\n\r\n        if (anchor) {\r\n            anchor.scrollIntoView({\r\n                block: 'center',\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Fade in={trigger}>\r\n            <Box data-id=\"content-scroll-top-button\"\r\n                onClick={handleClick}\r\n                role=\"presentation\"\r\n                sx={{ position: 'fixed', bottom: 16, right: 16 }}\r\n            >\r\n                {children}\r\n            </Box>\r\n        </Fade>\r\n    );\r\n}\r\nexport function AppbarContainer(props: IAppbarContainerProps) {\r\n    const { children, appbarProps, titleConf, reload } = props;\r\n    const router = useRouter()\r\n    function handleBack(){\r\n        // 本想抽象成底层一个方法，但是考虑了一下router需要注入或者是一个callback，似乎像现在这样判断一下event也可以。回头继续观察一下吧。\r\n        const event = browserHistoryUtils.askHistoryBack()\r\n        if(event.defaultPrevented)return\r\n        if(appbarProps.backDispatcher){\r\n            const e:IAppBarBackAskEvent = {defaultPrevented:false}\r\n            appbarProps.backDispatcher.dispatch('back',e)\r\n            if(e.defaultPrevented)return\r\n        }\r\n        router.back()\r\n    }\r\n    return (\r\n        <PageShell>\r\n        <React.Fragment>\r\n            <CssBaseline />\r\n            <HideOnScroll {...props}>\r\n                <AppBar color=\"inherit\">\r\n                    {appbarProps.toolbar ? \r\n                    appbarProps.toolbar:\r\n                    <Toolbar>\r\n                        <KeyboardArrowLeft onClick={handleBack} />\r\n                        {appbarProps.title}\r\n                    </Toolbar>\r\n                    }\r\n                </AppBar>\r\n            </HideOnScroll>\r\n            <Toolbar id=\"back-to-top-anchor\" />\r\n            <Container sx={{padding:\"0\", marginTop:\"17px\"}}>\r\n                <AndroidPageContent titleConf={titleConf} reload={reload}>\r\n                    {children}\r\n                </AndroidPageContent>\r\n            </Container>\r\n\r\n            <ScrollTop {...props}>\r\n                <Fab size=\"small\" aria-label=\"scroll back to top\">\r\n                    <KeyboardArrowUpIcon />\r\n                </Fab>\r\n            </ScrollTop>\r\n        </React.Fragment>\r\n        </PageShell>\r\n    );\r\n}\r\n"],"names":["useRouter","useTranslation","HomeIcon","SettingsIcon","BottomNavigation","BottomNavigationAction","NavBar","router","pathname","t","tabInfoList","label","value","icon","showLabels","map","e","data-id","className","onClick","push","initReactI18next","LanguageDetector","Backend","i18next","Log","isServer","fileMapUtils","fileDateVersion","i18nLogger","windowHref","window","u","URL","location","href","parent","origin","backendOptions","loadPath","lngs","namespaces","log","sub","pause","lng","p","ps","split","splice","length","join","getFile","parse","data","languages","l","JSON","print","backend","init","i18n","on","i18nInit","_fileDateVersion","use","load","fallbackLng","partialBundledLanguages","ns","debug","interpolation","escapeValue","detection","caches","namespace","key","res","console","error","loaded","msg","arguments","createContext","storeUtils","s","create","StorePageContext","StorePageDynamicContext","toProxy","watchUpdates","getConfig","useEffect","I18nextProvider","checkReloadPage","publicRuntimeConfig","isDevelopment","indexOf","searchParams","htmlRefreshTime","get","newUrl","set","String","Date","now","toString","refreshTime","Number","AppShell","children","scrollKey","dynamicKey","o","read","write","beforePopState","state","clearAll","info","x","y","listenScroll","requestAnimationFrame","scrollTo","onScroll","scrollX","scrollY","addEventListener","unsub","removeEventListener","Box","Button","Container","useContext","isDev","loadI18nValue","Reload","reload","toLocaleString","ScrollP","index","PageContent","titleConf","scroll","clazz","Math","random","loadTitle","title","document","container","getElementsByClassName","scrollTop","passive","sx","flexGrow","overflow","padding","undefined","AndroidPageContent","tms","request","tmsEmergencyCallListAllInvitations","opts","TEmc","MEmcListAllInvitations","params","gateway","handler","cancelOrRemoveInvitation","invitationId","isReceived","action","emergencyCallInvitationService","respondToInvite","invitation_id","tmsEmergencyCallRespondToInvite","MEmcRespondToInvite","listAllInvitations","createSvgIcon","jsx","_jsx","d","React","useState","useCallback","Typography","Card","CardContent","CardActions","CircularProgress","Avatar","Chip","Check","CheckIcon","Close","CloseIcon","AccessTime","AccessTimeIcon","Person","PersonIcon","Refresh","RefreshIcon","formatDistanceToNow","zhCN","getStatusConfig","status","expiresAt","isExpired","statusTexts","pending","accepted","declined","expired","cancelled","statusColors","text","color","showExpiry","InvitationStatusChip","config","display","alignItems","gap","size","variant","fontSize","addSuffix","locale","UserInfoCard","userInfo","message","onRespond","isProcessing","isProcessingAction","setIsProcessingAction","handleRespond","mb","opacity","src","avatar_url","alt","display_name","width","height","mr","toUpperCase","user_id","mt","justifyContent","pt","startIcon","disabled","InvitationManager","isLoading","setIsLoading","setError","isRefreshing","setIsRefreshing","invitations","setInvitations","sent","received","setIsProcessing","loadInvitations","showLoading","shellIsOk","dataIsOk","is_ok","sent_invitations","invite","received_invitations","err","handleCancelOrRemove","Error","prev","filter","i","handleRespondToInvite","updateInvitation","invites","handleRefresh","renderContent","hasSentInvitations","hasReceivedInvitations","gutterBottom","user_info","expires_at","flexDirection","textAlign","bgcolor","borderRadius","tmsEmergencyCallListEstablishedContacts","MEmcListEstablishedContacts","tmsEmergencyCallRemoveEstablishedContact","MEmcRemoveEstablishedContact","emergencyCallContactService","listEstablishedContacts","removeEstablishedContact","Alert","Dialog","DialogTitle","DialogContent","DialogActions","DialogContentText","PersonRemove","PersonRemoveIcon","ContactPhone","ContactPhoneIcon","ContactCard","contact","onRemove","isRemoving","setIsRemoving","showRemoveDialog","setShowRemoveDialog","handleRemove","contact_id","relationship","created_at","notes","open","onClose","aria-labelledby","id","strong","EstablishedContactsManager","contacts","setContacts","loadEstablishedContacts","handleRemoveContact","contactId","severity","Tabs","Tab","Paper","PersonAdd","PersonAddIcon","TabPanel","props","other","div","role","hidden","a11yProps","ContactRelationshipManager","currentTab","setCurrentTab","handleTabChange","event","newValue","maxWidth","mx","elevation","borderBottom","borderColor","onChange","aria-label","AppbarContainer","TabbarContainer","ContactsPage","appbarProps","back","navBar","CssBaseline","Stack","BottomBar","position","bottom","left","right","height2","direction","spacing","Dispatcher","dipsatcher","staticModel","screenLockCount","switchPage","dispatch","listenSwitchPage","callback","addListener","AnimatePresence","motion","PageTransition","mode","initial","animate","exit","transition","duration","route","idCount","PageShell","box","querySelector","unlisten","stopPropagation","preventDefault","AppBar","Fab","Fade","Slide","Toolbar","useScrollTrigger","browserHistoryUtils","KeyboardArrowLeft","KeyboardArrowUpIcon","HideOnScroll","trigger","target","appear","in","Appbar","component","ScrollTop","disableHysteresis","threshold","handleClick","anchor","ownerDocument","scrollIntoView","block","handleBack","askHistoryBack","defaultPrevented","backDispatcher","Fragment","toolbar","marginTop"],"sourceRoot":"","ignoreList":[1,9,10,11,13]}