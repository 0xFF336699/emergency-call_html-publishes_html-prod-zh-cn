(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([[332],{

/***/ 3917:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ pages)
});

// EXTERNAL MODULE: ../../node_modules/.pnpm/react@19.1.0/node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(4513);
// EXTERNAL MODULE: ../../node_modules/.pnpm/react@19.1.0/node_modules/react/index.js
var react = __webpack_require__(4285);
// EXTERNAL MODULE: ../../node_modules/.pnpm/@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_react@19.1.0__@emotion+styled_7n6ip7adzgskiknwagt7k5dnla/node_modules/@mui/material/Box/Box.js + 2 modules
var Box = __webpack_require__(5216);
// EXTERNAL MODULE: ../../node_modules/.pnpm/@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_react@19.1.0__@emotion+styled_7n6ip7adzgskiknwagt7k5dnla/node_modules/@mui/material/AppBar/AppBar.js + 1 modules
var AppBar = __webpack_require__(5814);
// EXTERNAL MODULE: ../../node_modules/.pnpm/@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_react@19.1.0__@emotion+styled_7n6ip7adzgskiknwagt7k5dnla/node_modules/@mui/material/Toolbar/Toolbar.js + 1 modules
var Toolbar = __webpack_require__(7917);
// EXTERNAL MODULE: ../../node_modules/.pnpm/@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_react@19.1.0__@emotion+styled_7n6ip7adzgskiknwagt7k5dnla/node_modules/@mui/material/Typography/Typography.js + 1 modules
var Typography = __webpack_require__(3655);
// EXTERNAL MODULE: ../../node_modules/.pnpm/@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_react@19.1.0__@emotion+styled_7n6ip7adzgskiknwagt7k5dnla/node_modules/@mui/material/Container/Container.js + 4 modules
var Container = __webpack_require__(2050);
// EXTERNAL MODULE: ./src/libs/mc/main/MainModel.ts
var MainModel = __webpack_require__(1161);
// EXTERNAL MODULE: ../../node_modules/.pnpm/livekit-client@2.15.2_@types+dom-mediacapture-record@1.0.22/node_modules/livekit-client/dist/livekit-client.esm.mjs
var livekit_client_esm = __webpack_require__(9596);
// EXTERNAL MODULE: ../../node_modules/.pnpm/@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_react@19.1.0__@emotion+styled_7n6ip7adzgskiknwagt7k5dnla/node_modules/@mui/material/IconButton/IconButton.js + 1 modules
var IconButton = __webpack_require__(659);
// EXTERNAL MODULE: ../../node_modules/.pnpm/@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_react@19.1.0__@emotion+styled_7n6ip7adzgskiknwagt7k5dnla/node_modules/@mui/material/CircularProgress/CircularProgress.js + 1 modules
var CircularProgress = __webpack_require__(170);
// EXTERNAL MODULE: ../../node_modules/.pnpm/@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_react@19.1.0__@emotion+styled_7n6ip7adzgskiknwagt7k5dnla/node_modules/@mui/material/Alert/Alert.js + 6 modules
var Alert = __webpack_require__(7430);
// EXTERNAL MODULE: ../../node_modules/.pnpm/@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_react@19.1.0__@emotion+styled_7n6ip7adzgskiknwagt7k5dnla/node_modules/@mui/material/Button/Button.js + 3 modules
var Button = __webpack_require__(1386);
// EXTERNAL MODULE: ../../node_modules/.pnpm/@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_react@19.1.0__@emotion+styled_7n6ip7adzgskiknwagt7k5dnla/node_modules/@mui/material/Grid/Grid.js + 2 modules
var Grid = __webpack_require__(2750);
// EXTERNAL MODULE: ../../node_modules/.pnpm/@mui+icons-material@7.2.0_@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_rea_ajjais66od7kee7mo6ans43why/node_modules/@mui/icons-material/esm/VolumeUp.js
var VolumeUp = __webpack_require__(7529);
// EXTERNAL MODULE: ../../node_modules/.pnpm/@mui+icons-material@7.2.0_@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_rea_ajjais66od7kee7mo6ans43why/node_modules/@mui/icons-material/esm/VolumeOff.js
var VolumeOff = __webpack_require__(6433);
// EXTERNAL MODULE: ../../node_modules/.pnpm/@mui+icons-material@7.2.0_@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_rea_ajjais66od7kee7mo6ans43why/node_modules/@mui/icons-material/esm/Visibility.js
var Visibility = __webpack_require__(1694);
// EXTERNAL MODULE: ../../node_modules/.pnpm/@mui+icons-material@7.2.0_@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_rea_ajjais66od7kee7mo6ans43why/node_modules/@mui/icons-material/esm/VisibilityOff.js
var VisibilityOff = __webpack_require__(5403);
// EXTERNAL MODULE: ../../node_modules/.pnpm/@mui+icons-material@7.2.0_@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_rea_ajjais66od7kee7mo6ans43why/node_modules/@mui/icons-material/esm/MicOff.js
var MicOff = __webpack_require__(1490);
// EXTERNAL MODULE: ../../node_modules/.pnpm/@mui+icons-material@7.2.0_@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_rea_ajjais66od7kee7mo6ans43why/node_modules/@mui/icons-material/esm/Mic.js
var Mic = __webpack_require__(8685);
// EXTERNAL MODULE: ../../node_modules/.pnpm/@mui+icons-material@7.2.0_@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_rea_ajjais66od7kee7mo6ans43why/node_modules/@mui/icons-material/esm/Videocam.js
var Videocam = __webpack_require__(8212);
// EXTERNAL MODULE: ../../node_modules/.pnpm/@mui+icons-material@7.2.0_@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_rea_ajjais66od7kee7mo6ans43why/node_modules/@mui/icons-material/esm/VideocamOff.js
var VideocamOff = __webpack_require__(1313);
// EXTERNAL MODULE: ../../node_modules/.pnpm/@mui+icons-material@7.2.0_@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_rea_ajjais66od7kee7mo6ans43why/node_modules/@mui/icons-material/esm/Refresh.js
var Refresh = __webpack_require__(5869);
// EXTERNAL MODULE: ../../node_modules/.pnpm/@mui+icons-material@7.2.0_@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_rea_ajjais66od7kee7mo6ans43why/node_modules/@mui/icons-material/esm/CallEnd.js
var CallEnd = __webpack_require__(3975);
// EXTERNAL MODULE: ../../libs/fanfanlo/dist/src/log/Log.js + 37 modules
var Log = __webpack_require__(5843);
;// ../../libs/im/livekit/dist/src/livekit-meeting/MeetingRoom.js

var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {
        enumerable: true,
        configurable: true,
        writable: true,
        value
    }) : obj[key] = value;
var __spreadValues = (a, b)=>{
    for(var prop in b || (b = {}))if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);
    if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)){
        if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);
    }
    return a;
};
var __spreadProps = (a, b)=>__defProps(a, __getOwnPropDescs(b));
var __async = (__this, __arguments, generator)=>{
    return new Promise((resolve, reject)=>{
        var fulfilled = (value)=>{
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        };
        var rejected = (value)=>{
            try {
                step(generator.throw(value));
            } catch (e) {
                reject(e);
            }
        };
        var step = (x)=>x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
        step((generator = generator.apply(__this, __arguments)).next());
    });
};







const logger = new Log/* Log */.tG(false, "livekit-meeting.MeetingRoom");
const uiLogger = logger.sub(false, "MeetingRoom_ui");
const VIDEO_PRESET = {
    width: 1280,
    height: 720,
    // @ts-ignore - frameRate is used by LiveKit internally
    frameRate: 24,
    maxBitrate: 3e3 * 1e3
};
function MeetingRoomComponent(param, ref) {
    let { livekitConfig, roomName, userName, onDisconnect, onError, className = "", style, sx } = param;
    var _this = this;
    const [globalMediaState, setGlobalMediaState] = (0,react.useState)({
        isAudioEnabled: true,
        isVideoEnabled: true
    });
    const roomRef = (0,react.useRef)(null);
    const localTracksRef = (0,react.useRef)([]);
    const videoElements = (0,react.useRef)({});
    const audioElements = (0,react.useRef)({});
    const [participantStates, setParticipantStates] = (0,react.useState)({});
    const isUnmountedRef = (0,react.useRef)(false);
    const [isConnecting, setIsConnecting] = (0,react.useState)(false);
    const [hasConnected, setHasConnected] = (0,react.useState)(false);
    const [error, setError] = (0,react.useState)(null);
    const [isMuted, setIsMuted] = (0,react.useState)(false);
    const [isVideoEnabled, setIsVideoEnabled] = (0,react.useState)(true);
    const [participants, setParticipants] = (0,react.useState)([]);
    console.log("fffffffffffffffffff");
    const fetchToken = (0,react.useCallback)((roomName2, identity)=>__async(this, null, function*() {
            try {
                const response = yield fetch("".concat(livekitConfig.jwt, "/token"), {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        room_name: roomName2,
                        identity
                    })
                });
                if (!response.ok) {
                    throw new Error("\u83B7\u53D6 token \u5931\u8D25");
                }
                const data = yield response.json();
                return data.token;
            } catch (error2) {
                uiLogger.error("\u83B7\u53D6 token \u5931\u8D25:", error2);
                throw error2;
            }
        }), []);
    const connectToRoom = (0,react.useCallback)(()=>__async(this, null, function*() {
            if (isConnecting || hasConnected) return;
            setIsConnecting(true);
            setError(null);
            try {
                const token = yield fetchToken(roomName, userName);
                uiLogger.log("token:", token);
                const { audioTrack, videoTrack } = yield createLocalTracks();
                localTracksRef.current = [
                    audioTrack,
                    videoTrack
                ];
                uiLogger.log("audioTrack:", audioTrack);
                uiLogger.log("videoTrack:", videoTrack);
                const room = new livekit_client_esm/* Room */.Wv({
                    adaptiveStream: true,
                    dynacast: true,
                    videoCaptureDefaults: {
                        resolution: VIDEO_PRESET
                    },
                    // @ts-ignore - publishDefaults is a valid option
                    publishDefaults: {
                        dtx: true,
                        red: true,
                        forceStereo: false,
                        simulcast: true
                    }
                });
                uiLogger.log("room:", room);
                setupRoomListeners(room);
                yield room.connect(livekitConfig.wsUrl, token, {
                    autoSubscribe: true
                });
                uiLogger.log("room connected");
                try {
                    yield Promise.all([
                        room.localParticipant.publishTrack(audioTrack),
                        room.localParticipant.publishTrack(videoTrack)
                    ]);
                } catch (publishError) {
                    uiLogger.error("\u53D1\u5E03\u8F68\u9053\u5931\u8D25:", publishError);
                }
                roomRef.current = room;
                setHasConnected(true);
                const remoteParticipants = Array.from(room.remoteParticipants.values());
                setParticipants(remoteParticipants);
                updateParticipantState(room.localParticipant.identity, {
                    isAudioEnabled: true,
                    isVideoEnabled: true,
                    audioTrack,
                    videoTrack
                });
                remoteParticipants.forEach((participant)=>{
                    initParticipantState(participant);
                    uiLogger.log("\u5DF2\u521D\u59CB\u5316\u8FDC\u7A0B\u53C2\u4E0E\u8005\u72B6\u6001:", participant.identity);
                    participant.getTrackPublications().forEach((publication)=>{
                        if (publication.track && publication.track instanceof livekit_client_esm/* RemoteTrack */.O9) {
                            handleTrackSubscribed(publication.track, publication, participant);
                        }
                    });
                });
                if (room.localParticipant) {
                    initParticipantState(room.localParticipant);
                    uiLogger.log("\u5DF2\u521D\u59CB\u5316\u672C\u5730\u53C2\u4E0E\u8005\u72B6\u6001:", room.localParticipant.identity);
                }
                uiLogger.log("\u6210\u529F\u52A0\u5165\u4F1A\u8BAE");
            } catch (error2) {
                uiLogger.error("\u8FDE\u63A5\u623F\u95F4\u5931\u8D25\u5566:", error2);
                setError("\u52A0\u5165\u4F1A\u8BAE\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u548C\u6743\u9650\u8BBE\u7F6E");
                cleanupTracks(localTracksRef.current);
                localTracksRef.current = [];
                if (roomRef.current) {
                    try {
                        yield roomRef.current.disconnect();
                    } catch (e) {
                        uiLogger.error("\u65AD\u5F00\u8FDE\u63A5\u65F6\u51FA\u9519:", e);
                    }
                    roomRef.current = null;
                }
            } finally{
                setIsConnecting(false);
            }
        }), [
        roomName,
        userName,
        isConnecting,
        hasConnected,
        fetchToken
    ]);
    const createLocalTracks = (0,react.useCallback)(()=>__async(this, null, function*() {
            try {
                const [audioTrack, videoTrack] = yield Promise.all([
                    (0,livekit_client_esm/* createLocalAudioTrack */.rV)({
                        echoCancellation: true,
                        noiseSuppression: true,
                        autoGainControl: true
                    }),
                    (0,livekit_client_esm/* createLocalVideoTrack */.yn)({
                        resolution: {
                            width: 1280,
                            height: 720,
                            frameRate: 24
                        }
                    })
                ]);
                return {
                    audioTrack,
                    videoTrack
                };
            } catch (error2) {
                uiLogger.error("\u521B\u5EFA\u672C\u5730\u8F68\u9053\u5931\u8D25:", error2);
                throw error2;
            }
        }), []);
    const cleanupTracks = (0,react.useCallback)((tracks)=>{
        tracks.forEach((track)=>{
            track.stop();
            track.detach();
        });
    }, []);
    const trackElementsRef = (0,react.useRef)({});
    const videoElementsRef = (0,react.useRef)({});
    const audioElementsRef = (0,react.useRef)({});
    const updateParticipantState = (0,react.useCallback)((identity, state)=>{
        setParticipantStates((prev)=>__spreadProps(__spreadValues({}, prev), {
                [identity]: __spreadValues(__spreadValues({}, prev[identity] || {
                    isAudioEnabled: true,
                    isVideoEnabled: true,
                    isAudioEnabledGlobal: true,
                    isVideoEnabledGlobal: true
                }), state)
            }));
    }, []);
    const handleTrackSubscribed = (0,react.useCallback)((track, publication, participant)=>{
        if (!track) return ()=>{};
        const { identity } = participant;
        const isVideoTrack = track.kind === livekit_client_esm/* Track */.CC.Kind.Video;
        uiLogger.log("处理 ".concat(track.kind, " 轨道订阅:"), identity, track);
        const updateTrackState = ()=>{
            const isMuted2 = track.isMuted;
            const stateUpdate = {};
            if (track.kind === livekit_client_esm/* Track */.CC.Kind.Audio) {
                stateUpdate.isAudioEnabled = !isMuted2;
            } else if (track.kind === livekit_client_esm/* Track */.CC.Kind.Video) {
                stateUpdate.isVideoEnabled = !isMuted2;
            }
            updateParticipantState(identity, stateUpdate);
            if (isVideoTrack) {
                setParticipants((prev)=>[
                        ...prev
                    ]);
            }
        };
        track.on("muted", updateTrackState);
        track.on("unmuted", updateTrackState);
        updateTrackState();
        setParticipants((prev)=>{
            const participantExists = prev.some((p)=>p.identity === identity);
            if (!participantExists) {
                return [
                    ...prev,
                    participant
                ];
            }
            return [
                ...prev
            ];
        });
        return ()=>{
            track.off("muted", updateTrackState);
            track.off("unmuted", updateTrackState);
        };
    }, [
        updateParticipantState
    ]);
    const setupRoomListeners = (0,react.useCallback)((room)=>{
        const eventHandlers = {
            // 处理远程参与者连接
            participantConnected: (participant)=>{
                if (!(participant instanceof livekit_client_esm/* RemoteParticipant */.qI)) return;
                uiLogger.log("\u8FDC\u7A0B\u53C2\u4E0E\u8005\u5DF2\u8FDE\u63A5:", participant.identity);
                setParticipants((prev)=>{
                    if (prev.some((p)=>p.identity === participant.identity)) {
                        return prev;
                    }
                    return [
                        ...prev,
                        participant
                    ];
                });
                const handleTrackPublished = (publication)=>{
                    uiLogger.log("\u8FDC\u7A0B\u53C2\u4E0E\u8005\u53D1\u5E03\u8F68\u9053:", publication.kind, participant.identity);
                    if (publication.track) {
                        handleTrackSubscribed(publication.track, publication, participant);
                    } else {
                        publication.once("subscribed", (track)=>{
                            handleTrackSubscribed(track, publication, participant);
                        });
                    }
                };
                participant.on("trackPublished", handleTrackPublished);
                participant.trackPublications.forEach((publication)=>{
                    if (publication.track) {
                        handleTrackSubscribed(publication.track, publication, participant);
                    }
                });
                return ()=>{
                    participant.off("trackPublished", handleTrackPublished);
                };
            },
            // 处理参与者断开连接
            participantDisconnected: (participant)=>{
                uiLogger.log("\u8FDC\u7A0B\u53C2\u4E0E\u8005\u5DF2\u65AD\u5F00\u8FDE\u63A5:", participant.identity);
                setParticipants((prev)=>{
                    const newParticipants = prev.filter((p)=>p.identity !== participant.identity);
                    uiLogger.log("\u66F4\u65B0\u540E\u7684\u53C2\u4E0E\u8005\u5217\u8868:", newParticipants.map((p)=>p.identity));
                    return newParticipants;
                });
            },
            // 处理轨道订阅
            trackSubscribed: (track, publication, participant)=>{
                if (!track) return;
                uiLogger.log("\u8F68\u9053\u8BA2\u9605\u6210\u529F:", track.kind, participant.identity);
                handleTrackSubscribed(track, publication, participant);
            },
            disconnected: (reason)=>{
                var _a;
                const reasonStr = ((_a = reason == null ? void 0 : reason.toString) == null ? void 0 : _a.call(reason)) || "\u672A\u77E5\u539F\u56E0";
                uiLogger.log("\u5DF2\u4ECE\u623F\u95F4\u65AD\u5F00\u8FDE\u63A5\uFF0C\u539F\u56E0:", reasonStr);
                setHasConnected(false);
                setParticipants([]);
                setError(null);
            },
            reconnecting: ()=>{
                uiLogger.log("\u6B63\u5728\u91CD\u65B0\u8FDE\u63A5\u5230\u623F\u95F4...");
                setError("\u6B63\u5728\u91CD\u65B0\u8FDE\u63A5...");
            },
            reconnected: ()=>{
                uiLogger.log("\u5DF2\u91CD\u65B0\u8FDE\u63A5\u5230\u623F\u95F4");
                setError(null);
            }
        };
        room.on(livekit_client_esm/* RoomEvent */.u9.Disconnected, eventHandlers.disconnected).on(livekit_client_esm/* RoomEvent */.u9.Reconnecting, eventHandlers.reconnecting).on(livekit_client_esm/* RoomEvent */.u9.Reconnected, eventHandlers.reconnected).on(livekit_client_esm/* RoomEvent */.u9.ParticipantConnected, eventHandlers.participantConnected).on(livekit_client_esm/* RoomEvent */.u9.ParticipantDisconnected, eventHandlers.participantDisconnected).on(livekit_client_esm/* RoomEvent */.u9.TrackSubscribed, eventHandlers.trackSubscribed);
        return ()=>{
            if (!room) return;
            room.off(livekit_client_esm/* RoomEvent */.u9.Disconnected, eventHandlers.disconnected).off(livekit_client_esm/* RoomEvent */.u9.Reconnecting, eventHandlers.reconnecting).off(livekit_client_esm/* RoomEvent */.u9.Reconnected, eventHandlers.reconnected).off(livekit_client_esm/* RoomEvent */.u9.ParticipantConnected, eventHandlers.participantConnected).off(livekit_client_esm/* RoomEvent */.u9.ParticipantDisconnected, eventHandlers.participantDisconnected).off(livekit_client_esm/* RoomEvent */.u9.TrackSubscribed, eventHandlers.trackSubscribed);
            return void 0;
        };
    }, [
        handleTrackSubscribed
    ]);
    const leaveMeeting = (0,react.useCallback)(()=>__async(this, null, function*() {
            uiLogger.log("\u6B63\u5728\u79BB\u5F00\u4F1A\u8BAE...");
            try {
                cleanupTracks(localTracksRef.current);
                if (roomRef.current) {
                    yield roomRef.current.disconnect();
                    roomRef.current = null;
                }
                setHasConnected(false);
                setParticipants([]);
                setError(null);
                Object.values(videoElements.current).forEach((el)=>el && el.remove());
                Object.values(audioElements.current).forEach((el)=>el && el.remove());
                videoElements.current = {};
                audioElements.current = {};
                if (onDisconnect) {
                    onDisconnect();
                }
                uiLogger.log("\u5DF2\u6210\u529F\u79BB\u5F00\u4F1A\u8BAE");
            } catch (error2) {
                uiLogger.error("\u79BB\u5F00\u4F1A\u8BAE\u65F6\u51FA\u9519:", error2);
                setError("\u79BB\u5F00\u4F1A\u8BAE\u65F6\u51FA\u9519\uFF0C\u8BF7\u91CD\u8BD5");
            }
        }), [
        onDisconnect
    ]);
    const cleanup = (0,react.useCallback)(function() {
        let isUnmounting = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;
        return __async(_this, null, function*() {
            if (isUnmounting) {
                isUnmountedRef.current = true;
            }
            uiLogger.log("\u6267\u884C\u6E05\u7406...");
            if (!roomRef.current) return;
            const localParticipant = roomRef.current.localParticipant;
            const audioTrack = localTracksRef.current.find((t)=>t.kind === livekit_client_esm/* Track */.CC.Kind.Audio);
            const videoTrack = localTracksRef.current.find((t)=>t.kind === livekit_client_esm/* Track */.CC.Kind.Video);
            try {
                if (audioTrack) {
                    yield audioTrack.stop();
                }
                if (videoTrack) {
                    yield videoTrack.stop();
                }
            } catch (error2) {
                uiLogger.error("\u505C\u6B62\u8F68\u9053\u5931\u8D25:", error2);
            }
            cleanupTracks(localTracksRef.current);
            localTracksRef.current = [];
            if (roomRef.current) {
                roomRef.current.disconnect();
                roomRef.current = null;
            }
            setHasConnected(false);
            setParticipants([]);
            setParticipantStates({});
        });
    }, []);
    const updateGlobalMediaState = (0,react.useCallback)((audioEnabled, videoEnabled)=>{
        setGlobalMediaState((prev)=>__spreadProps(__spreadValues({}, prev), {
                isAudioEnabled: audioEnabled,
                isVideoEnabled: videoEnabled
            }));
    }, []);
    const toggleMute = (0,react.useCallback)(()=>__async(this, null, function*() {
            if (!roomRef.current) return;
            const localParticipant = roomRef.current.localParticipant;
            const audioTrack = localTracksRef.current.find((t)=>t.kind === livekit_client_esm/* Track */.CC.Kind.Audio);
            if (!audioTrack) return;
            try {
                const newGlobalAudioState = !globalMediaState.isAudioEnabled;
                if (newGlobalAudioState) {
                    yield audioTrack.unmute();
                } else {
                    yield audioTrack.mute();
                }
                setIsMuted(!newGlobalAudioState);
                updateParticipantState(localParticipant.identity, {
                    isAudioEnabled: newGlobalAudioState
                });
                updateGlobalMediaState(newGlobalAudioState, globalMediaState.isVideoEnabled);
            } catch (error2) {
                uiLogger.error("\u5207\u6362\u9759\u97F3\u72B6\u6001\u5931\u8D25:", error2);
                setError("\u5207\u6362\u9EA6\u514B\u98CE\u72B6\u6001\u5931\u8D25");
            }
        }), [
        globalMediaState,
        updateParticipantState,
        updateGlobalMediaState
    ]);
    const toggleVideo = (0,react.useCallback)(()=>__async(this, null, function*() {
            if (!roomRef.current) return;
            const localParticipant = roomRef.current.localParticipant;
            const videoTrack = localTracksRef.current.find((t)=>t.kind === livekit_client_esm/* Track */.CC.Kind.Video);
            if (!videoTrack) return;
            try {
                const newGlobalVideoState = !globalMediaState.isVideoEnabled;
                if (newGlobalVideoState) {
                    yield videoTrack.unmute();
                } else {
                    yield videoTrack.mute();
                }
                setIsVideoEnabled(newGlobalVideoState);
                updateParticipantState(localParticipant.identity, {
                    isVideoEnabled: newGlobalVideoState
                });
                updateGlobalMediaState(globalMediaState.isAudioEnabled, newGlobalVideoState);
            } catch (error2) {
                uiLogger.error("\u5207\u6362\u89C6\u9891\u72B6\u6001\u5931\u8D25:", error2);
                setError("\u5207\u6362\u6444\u50CF\u5934\u72B6\u6001\u5931\u8D25");
            }
        }), [
        globalMediaState,
        updateParticipantState,
        updateGlobalMediaState
    ]);
    const handleLocalMuteToggle = (0,react.useCallback)(()=>__async(this, null, function*() {
            if (!roomRef.current) return;
            const localParticipant = roomRef.current.localParticipant;
            const audioTrack = localTracksRef.current.find((t)=>t.kind === livekit_client_esm/* Track */.CC.Kind.Audio);
            if (!audioTrack) return;
            try {
                const newMutedState = !isMuted;
                if (newMutedState) {
                    yield audioTrack.mute();
                } else {
                    yield audioTrack.unmute();
                }
                setIsMuted(newMutedState);
                updateParticipantState(localParticipant.identity, {
                    isAudioEnabled: !newMutedState
                });
            } catch (error2) {
                uiLogger.error("\u5207\u6362\u672C\u5730\u9759\u97F3\u72B6\u6001\u5931\u8D25:", error2);
                setError("\u5207\u6362\u9EA6\u514B\u98CE\u72B6\u6001\u5931\u8D25");
            }
        }), [
        isMuted,
        updateParticipantState
    ]);
    const handleLocalVideoToggle = (0,react.useCallback)(()=>__async(this, null, function*() {
            if (!roomRef.current) return;
            const localParticipant = roomRef.current.localParticipant;
            const videoTrack = localTracksRef.current.find((t)=>t.kind === livekit_client_esm/* Track */.CC.Kind.Video);
            if (!videoTrack) return;
            try {
                const newVideoState = !isVideoEnabled;
                if (newVideoState) {
                    yield videoTrack.unmute();
                } else {
                    yield videoTrack.mute();
                }
                setIsVideoEnabled(newVideoState);
                updateParticipantState(localParticipant.identity, {
                    isVideoEnabled: newVideoState
                });
            } catch (error2) {
                uiLogger.error("\u5207\u6362\u672C\u5730\u89C6\u9891\u72B6\u6001\u5931\u8D25:", error2);
                setError("\u5207\u6362\u6444\u50CF\u5934\u72B6\u6001\u5931\u8D25");
            }
        }), [
        isVideoEnabled,
        updateParticipantState
    ]);
    (0,react.useEffect)(()=>{
        return ()=>{
            cleanup(true);
        };
    }, []);
    const getParticipantState = (0,react.useCallback)((identity)=>{
        return participantStates[identity] || {
            isAudioEnabled: true,
            isVideoEnabled: true,
            isAudioEnabledGlobal: true,
            isVideoEnabledGlobal: true
        };
    }, [
        participantStates
    ]);
    const initParticipantState = (0,react.useCallback)((participant)=>{
        var _a, _b;
        const state = getParticipantState(participant.identity);
        const audioTrack = (_a = participant.getTrackPublications().find((pub)=>pub.kind === livekit_client_esm/* Track */.CC.Kind.Audio)) == null ? void 0 : _a.track;
        const videoTrack = (_b = participant.getTrackPublications().find((pub)=>pub.kind === livekit_client_esm/* Track */.CC.Kind.Video)) == null ? void 0 : _b.track;
        updateParticipantState(participant.identity, __spreadProps(__spreadValues({}, state), {
            isAudioEnabled: audioTrack ? !audioTrack.isMuted : false,
            isVideoEnabled: videoTrack ? !videoTrack.isMuted : false
        }));
    }, [
        getParticipantState,
        updateParticipantState
    ]);
    const handleToggleAudio = (0,react.useCallback)((participant)=>{
        const currentState = participantStates[participant.identity] || {
            isAudioEnabled: true,
            isVideoEnabled: true,
            isAudioEnabledGlobal: true,
            isVideoEnabledGlobal: true
        };
        updateParticipantState(participant.identity, __spreadProps(__spreadValues({}, currentState), {
            isAudioEnabled: !currentState.isAudioEnabled
        }));
    }, [
        participantStates,
        updateParticipantState
    ]);
    const handleToggleVideo = (0,react.useCallback)((participant)=>{
        const currentState = participantStates[participant.identity] || {
            isAudioEnabled: true,
            isVideoEnabled: true,
            isAudioEnabledGlobal: true,
            isVideoEnabledGlobal: true
        };
        updateParticipantState(participant.identity, __spreadProps(__spreadValues({}, currentState), {
            isVideoEnabled: !currentState.isVideoEnabled
        }));
    }, [
        participantStates,
        updateParticipantState
    ]);
    const getEffectiveMediaState = (0,react.useCallback)((participantId)=>{
        const state = participantStates[participantId];
        if (!state) return {
            isAudioEnabled: true,
            isVideoEnabled: true
        };
        return {
            isAudioEnabled: globalMediaState.isAudioEnabled ? state.isAudioEnabled : false,
            isVideoEnabled: globalMediaState.isVideoEnabled ? state.isVideoEnabled : false
        };
    }, [
        globalMediaState,
        participantStates
    ]);
    const ParticipantVideo = /*#__PURE__*/ react.memo((param)=>{
        let { participant, isLocal, isVideoEnabled: isVideoEnabled2 } = param;
        const videoRef = (0,react.useRef)(null);
        const [videoTrack, setVideoTrack] = (0,react.useState)(null);
        (0,react.useEffect)(()=>{
            if (!participant) return;
            const videoPublication = Array.from(participant.trackPublications.values()).find((pub)=>pub.kind === livekit_client_esm/* Track */.CC.Kind.Video);
            if (videoPublication && videoPublication.track) {
                setVideoTrack(videoPublication.track);
            }
            const handleTrackSubscribed2 = (track)=>{
                if (track.kind === livekit_client_esm/* Track */.CC.Kind.Video) {
                    setVideoTrack(track);
                }
            };
            const handleTrackUnsubscribed = (track)=>{
                if (track.kind === livekit_client_esm/* Track */.CC.Kind.Video) {
                    setVideoTrack(null);
                }
            };
            participant.on(livekit_client_esm/* RoomEvent */.u9.TrackSubscribed, handleTrackSubscribed2);
            participant.on(livekit_client_esm/* RoomEvent */.u9.TrackUnsubscribed, handleTrackUnsubscribed);
            return ()=>{
                participant.off(livekit_client_esm/* RoomEvent */.u9.TrackSubscribed, handleTrackSubscribed2);
                participant.off(livekit_client_esm/* RoomEvent */.u9.TrackUnsubscribed, handleTrackUnsubscribed);
            };
        }, [
            participant
        ]);
        (0,react.useEffect)(()=>{
            const videoElement = videoRef.current;
            if (!videoElement || !videoTrack) return;
            while(videoElement.firstChild){
                videoElement.removeChild(videoElement.firstChild);
            }
            if (isVideoEnabled2) {
                videoTrack.attach(videoElement);
            }
            return ()=>{
                if (videoTrack) {
                    videoTrack.detach(videoElement);
                }
            };
        }, [
            videoTrack,
            isVideoEnabled2
        ]);
        return /* @__PURE__ */ (0,jsx_runtime.jsxs)(Box/* default */.A, {
            sx: {
                width: "100%",
                aspectRatio: "16/9",
                bgcolor: "grey.800",
                display: "flex",
                alignItems: "center",
                justifyContent: "center",
                position: "relative"
            },
            children: [
                /* @__PURE__ */ (0,jsx_runtime.jsx)("video", {
                    ref: videoRef,
                    autoPlay: true,
                    playsInline: true,
                    muted: isLocal,
                    style: {
                        width: "100%",
                        height: "100%",
                        objectFit: "cover",
                        display: isVideoEnabled2 ? "block" : "none"
                    }
                }),
                !isVideoEnabled2 && /* @__PURE__ */ (0,jsx_runtime.jsx)(Box/* default */.A, {
                    sx: {
                        position: "absolute",
                        top: 0,
                        left: 0,
                        right: 0,
                        bottom: 0,
                        display: "flex",
                        alignItems: "center",
                        justifyContent: "center",
                        bgcolor: "grey.900"
                    },
                    children: /* @__PURE__ */ (0,jsx_runtime.jsx)(Box/* default */.A, {
                        sx: {
                            width: 80,
                            height: 80,
                            borderRadius: "50%",
                            display: "flex",
                            alignItems: "center",
                            justifyContent: "center",
                            bgcolor: "primary.main",
                            color: "white",
                            fontSize: 32,
                            fontWeight: "bold"
                        },
                        children: participant.identity.charAt(0).toUpperCase()
                    })
                })
            ]
        });
    });
    const ParticipantAudio = /*#__PURE__*/ react.memo((param)=>{
        let { participant, isMuted: isMuted2 } = param;
        const audioRef = (0,react.useRef)(null);
        const [audioTrack, setAudioTrack] = (0,react.useState)(null);
        (0,react.useEffect)(()=>{
            if (!participant) return;
            const handleTrackSubscribed2 = (track)=>{
                if (track.kind === livekit_client_esm/* Track */.CC.Kind.Audio) {
                    setAudioTrack(track);
                }
            };
            const handleTrackUnsubscribed = (track)=>{
                if (track.kind === livekit_client_esm/* Track */.CC.Kind.Audio) {
                    setAudioTrack(null);
                }
            };
            const audioPublication = Array.from(participant.trackPublications.values()).find((pub)=>pub.kind === livekit_client_esm/* Track */.CC.Kind.Audio);
            if (audioPublication && audioPublication.track) {
                setAudioTrack(audioPublication.track);
            }
            participant.on(livekit_client_esm/* RoomEvent */.u9.TrackSubscribed, handleTrackSubscribed2);
            participant.on(livekit_client_esm/* RoomEvent */.u9.TrackUnsubscribed, handleTrackUnsubscribed);
            return ()=>{
                participant.off(livekit_client_esm/* RoomEvent */.u9.TrackSubscribed, handleTrackSubscribed2);
                participant.off(livekit_client_esm/* RoomEvent */.u9.TrackUnsubscribed, handleTrackUnsubscribed);
            };
        }, [
            participant
        ]);
        (0,react.useEffect)(()=>{
            const audioElement = audioRef.current;
            if (audioElement && audioTrack) {
                audioTrack.attach(audioElement);
                audioElement.muted = isMuted2;
                return ()=>{
                    audioTrack.detach(audioElement);
                };
            }
        }, [
            audioTrack,
            isMuted2
        ]);
        return /* @__PURE__ */ (0,jsx_runtime.jsx)("audio", {
            ref: audioRef,
            autoPlay: true,
            playsInline: true
        });
    });
    const renderParticipant = (0,react.useCallback)((participant, isLocal)=>{
        const effectiveState = getEffectiveMediaState(participant.identity);
        return /* @__PURE__ */ (0,jsx_runtime.jsxs)(Box/* default */.A, {
            sx: {
                position: "relative",
                borderRadius: 2,
                overflow: "hidden",
                bgcolor: "background.paper",
                boxShadow: 1
            },
            children: [
                /* @__PURE__ */ (0,jsx_runtime.jsx)(ParticipantVideo, {
                    participant,
                    isLocal,
                    isVideoEnabled: effectiveState.isVideoEnabled
                }),
                !isLocal && /* @__PURE__ */ (0,jsx_runtime.jsx)(ParticipantAudio, {
                    participant,
                    isMuted: !effectiveState.isAudioEnabled
                }),
                /* @__PURE__ */ (0,jsx_runtime.jsxs)(Grid/* default */.Ay, {
                    container: true,
                    sx: {
                        position: "absolute",
                        bottom: 0,
                        left: 0,
                        right: 0,
                        p: 1,
                        bgcolor: "rgba(0, 0, 0, 0.6)",
                        justifyContent: "center",
                        gap: 1
                    },
                    children: [
                        /* @__PURE__ */ (0,jsx_runtime.jsx)(Grid/* default */.Ay, {
                            item: true,
                            children: /* @__PURE__ */ (0,jsx_runtime.jsx)(IconButton/* default */.A, {
                                size: "small",
                                color: effectiveState.isAudioEnabled ? "primary" : "error",
                                onClick: ()=>handleToggleAudio(participant),
                                children: effectiveState.isAudioEnabled ? /* @__PURE__ */ (0,jsx_runtime.jsx)(VolumeUp/* default */.A, {}) : /* @__PURE__ */ (0,jsx_runtime.jsx)(VolumeOff/* default */.A, {})
                            })
                        }),
                        /* @__PURE__ */ (0,jsx_runtime.jsx)(Grid/* default */.Ay, {
                            item: true,
                            children: /* @__PURE__ */ (0,jsx_runtime.jsx)(IconButton/* default */.A, {
                                size: "small",
                                color: effectiveState.isVideoEnabled ? "primary" : "error",
                                onClick: ()=>handleToggleVideo(participant),
                                children: effectiveState.isVideoEnabled ? /* @__PURE__ */ (0,jsx_runtime.jsx)(Visibility/* default */.A, {}) : /* @__PURE__ */ (0,jsx_runtime.jsx)(VisibilityOff/* default */.A, {})
                            })
                        }),
                        /* @__PURE__ */ (0,jsx_runtime.jsx)(Grid/* default */.Ay, {
                            item: true,
                            children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(Typography/* default */.A, {
                                variant: "caption",
                                color: "white",
                                children: [
                                    participant.identity,
                                    " ",
                                    isLocal && "(\u4F60)"
                                ]
                            })
                        }),
                        isLocal && /* @__PURE__ */ (0,jsx_runtime.jsx)(Grid/* default */.Ay, {
                            item: true,
                            children: /* @__PURE__ */ (0,jsx_runtime.jsx)(IconButton/* default */.A, {
                                size: "small",
                                onClick: handleLocalMuteToggle,
                                color: isMuted ? "error" : "primary",
                                sx: {
                                    color: "white"
                                },
                                title: isMuted ? "\u53D6\u6D88\u9759\u97F3" : "\u9759\u97F3",
                                children: isMuted ? /* @__PURE__ */ (0,jsx_runtime.jsx)(MicOff/* default */.A, {}) : /* @__PURE__ */ (0,jsx_runtime.jsx)(Mic/* default */.A, {})
                            })
                        }),
                        isLocal && /* @__PURE__ */ (0,jsx_runtime.jsx)(Grid/* default */.Ay, {
                            item: true,
                            children: /* @__PURE__ */ (0,jsx_runtime.jsx)(IconButton/* default */.A, {
                                size: "small",
                                onClick: handleLocalVideoToggle,
                                color: isVideoEnabled ? "primary" : "error",
                                sx: {
                                    color: "white"
                                },
                                title: isVideoEnabled ? "\u5173\u95ED\u6444\u50CF\u5934" : "\u5F00\u542F\u6444\u50CF\u5934",
                                children: isVideoEnabled ? /* @__PURE__ */ (0,jsx_runtime.jsx)(Videocam/* default */.A, {}) : /* @__PURE__ */ (0,jsx_runtime.jsx)(VideocamOff/* default */.A, {})
                            })
                        })
                    ]
                })
            ]
        }, participant.identity);
    }, [
        isMuted,
        isVideoEnabled,
        getEffectiveMediaState,
        handleToggleAudio,
        handleToggleVideo,
        handleLocalMuteToggle,
        handleLocalVideoToggle
    ]);
    if (isConnecting) {
        return /* @__PURE__ */ (0,jsx_runtime.jsxs)(Box/* default */.A, {
            sx: {
                display: "flex",
                flexDirection: "column",
                alignItems: "center",
                justifyContent: "center",
                height: "100%",
                p: 3
            },
            children: [
                /* @__PURE__ */ (0,jsx_runtime.jsx)(CircularProgress/* default */.A, {}),
                /* @__PURE__ */ (0,jsx_runtime.jsx)(Typography/* default */.A, {
                    variant: "body1",
                    sx: {
                        mt: 2
                    },
                    children: "\u6B63\u5728\u8FDE\u63A5\u4F1A\u8BAE..."
                })
            ]
        });
    }
    if (error) {
        return /* @__PURE__ */ (0,jsx_runtime.jsxs)(Alert/* default */.A, {
            severity: "error",
            sx: {
                m: 2
            },
            children: [
                /* @__PURE__ */ (0,jsx_runtime.jsx)(Typography/* default */.A, {
                    variant: "body1",
                    children: error
                }),
                /* @__PURE__ */ (0,jsx_runtime.jsx)(Button/* default */.A, {
                    variant: "contained",
                    color: "primary",
                    onClick: connectToRoom,
                    startIcon: /* @__PURE__ */ (0,jsx_runtime.jsx)(Refresh/* default */.A, {}),
                    sx: {
                        mt: 1
                    },
                    children: "\u91CD\u8BD5\u8FDE\u63A5"
                })
            ]
        });
    }
    function renderMainContent() {
        if (hasConnected && roomRef.current) {
            return /* @__PURE__ */ (0,jsx_runtime.jsxs)(Box/* default */.A, {
                className,
                sx: {
                    height: "100%",
                    display: "flex",
                    flexDirection: "column"
                },
                children: [
                    /* @__PURE__ */ (0,jsx_runtime.jsx)(Box/* default */.A, {
                        sx: {
                            flex: 1,
                            overflow: "auto",
                            p: 2
                        },
                        children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(Grid/* default */.Ay, {
                            container: true,
                            spacing: 2,
                            children: [
                                /* @__PURE__ */ (0,jsx_runtime.jsx)(Grid/* default */.Ay, {
                                    item: true,
                                    xs: 12,
                                    md: participants.length === 0 ? 12 : 6,
                                    children: renderParticipant(roomRef.current.localParticipant, true)
                                }),
                                participants.map(function(participant) {
                                    return /* @__PURE__ */ (0,jsx_runtime.jsx)(Grid/* default */.Ay, {
                                        item: true,
                                        xs: 12,
                                        md: 6,
                                        children: renderParticipant(participant, false)
                                    }, participant.identity);
                                })
                            ]
                        })
                    }),
                    /* @__PURE__ */ (0,jsx_runtime.jsxs)(Box/* default */.A, {
                        sx: {
                            p: 2,
                            borderTop: "1px solid",
                            borderColor: "divider",
                            display: "flex",
                            justifyContent: "center",
                            gap: 2
                        },
                        children: [
                            /* @__PURE__ */ (0,jsx_runtime.jsx)(Button/* default */.A, {
                                variant: "contained",
                                color: !globalMediaState.isAudioEnabled ? "error" : "primary",
                                onClick: toggleMute,
                                startIcon: !globalMediaState.isAudioEnabled ? /* @__PURE__ */ (0,jsx_runtime.jsx)(MicOff/* default */.A, {}) : /* @__PURE__ */ (0,jsx_runtime.jsx)(Mic/* default */.A, {}),
                                children: !globalMediaState.isAudioEnabled ? "\u53D6\u6D88\u9759\u97F3" : "\u9759\u97F3"
                            }),
                            /* @__PURE__ */ (0,jsx_runtime.jsx)(Button/* default */.A, {
                                variant: "contained",
                                color: !globalMediaState.isVideoEnabled ? "error" : "primary",
                                onClick: toggleVideo,
                                startIcon: globalMediaState.isVideoEnabled ? /* @__PURE__ */ (0,jsx_runtime.jsx)(Videocam/* default */.A, {}) : /* @__PURE__ */ (0,jsx_runtime.jsx)(VideocamOff/* default */.A, {}),
                                children: globalMediaState.isVideoEnabled ? "\u5173\u95ED\u6444\u50CF\u5934" : "\u5F00\u542F\u6444\u50CF\u5934"
                            }),
                            /* @__PURE__ */ (0,jsx_runtime.jsx)(Button/* default */.A, {
                                variant: "contained",
                                color: "error",
                                onClick: leaveMeeting,
                                startIcon: /* @__PURE__ */ (0,jsx_runtime.jsx)(CallEnd/* default */.A, {}),
                                children: "\u79BB\u5F00\u4F1A\u8BAE"
                            })
                        ]
                    })
                ]
            });
        }
        return /* @__PURE__ */ (0,jsx_runtime.jsxs)(Box/* default */.A, {
            className,
            sx: {
                height: "100%",
                display: "flex",
                flexDirection: "column",
                alignItems: "center",
                justifyContent: "center",
                p: 3
            },
            children: [
                /* @__PURE__ */ (0,jsx_runtime.jsx)(Typography/* default */.A, {
                    variant: "h6",
                    gutterBottom: true,
                    children: "\u51C6\u5907\u52A0\u5165\u4F1A\u8BAE"
                }),
                /* @__PURE__ */ (0,jsx_runtime.jsxs)(Button/* default */.A, {
                    variant: "contained",
                    color: "primary",
                    onClick: connectToRoom,
                    disabled: isConnecting,
                    startIcon: /* @__PURE__ */ (0,jsx_runtime.jsx)(Videocam/* default */.A, {}),
                    sx: {
                        mt: 2
                    },
                    children: [
                        "\u52A0\u5165\u4F1A\u8BAE",
                        isConnecting && /* @__PURE__ */ (0,jsx_runtime.jsx)(CircularProgress/* default */.A, {
                            size: 16,
                            sx: {
                                color: "inherit",
                                ml: 1
                            }
                        })
                    ]
                })
            ]
        });
    }
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(Box/* default */.A, {
        ref,
        sx,
        style,
        children: error ? /* @__PURE__ */ (0,jsx_runtime.jsx)(Alert/* default */.A, {
            severity: "error",
            action: /* @__PURE__ */ (0,jsx_runtime.jsx)(Button/* default */.A, {
                color: "inherit",
                size: "small",
                onClick: connectToRoom,
                children: "\u91CD\u8BD5"
            }),
            children: error
        }) : renderMainContent()
    });
}
const MeetingRoom = /*#__PURE__*/ (0,react.forwardRef)(MeetingRoomComponent);
MeetingRoom.displayName = "MeetingRoom";
 //# sourceMappingURL=MeetingRoom.js.map

;// ./src/pages/index.tsx





const HomePage = ()=>{
    return /*#__PURE__*/ (0,jsx_runtime.jsxs)(Box/* default */.A, {
        children: [
            /*#__PURE__*/ (0,jsx_runtime.jsx)(AppBar/* default */.A, {
                position: "static",
                children: /*#__PURE__*/ (0,jsx_runtime.jsx)(Toolbar/* default */.A, {
                    children: /*#__PURE__*/ (0,jsx_runtime.jsx)(Typography/* default */.A, {
                        variant: "h6",
                        component: "div",
                        sx: {
                            flexGrow: 1
                        },
                        children: "Home"
                    })
                })
            }),
            /*#__PURE__*/ (0,jsx_runtime.jsx)(Container/* default */.A, {
                children: /*#__PURE__*/ (0,jsx_runtime.jsx)(Box/* default */.A, {
                    sx: {
                        my: 2
                    },
                    children: /*#__PURE__*/ (0,jsx_runtime.jsx)(MeetingRoom, {
                        roomName: "test-room",
                        userName: "user-".concat(Math.random().toString(36).substring(2, 8)),
                        livekitConfig: MainModel/* mainModel */.N.data.livekit
                    })
                })
            })
        ]
    });
};
/* harmony default export */ const pages = (HomePage);


/***/ }),

/***/ 7569:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {


    (window.__NEXT_P = window.__NEXT_P || []).push([
      "/",
      function () {
        return __webpack_require__(3917);
      }
    ]);
    if(false) {}
  

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, [262,653,159,636,593,792], () => (__webpack_exec__(7569)));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);
//# sourceMappingURL=index-6ffc931ba7f5c648.js.map