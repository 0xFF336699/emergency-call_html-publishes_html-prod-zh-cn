{"version":3,"file":"static/chunks/pages/sign-up-in-d9102b2bc8eba321.js","mappings":"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","sources":["webpack://_N_E/../../libs/app/model/src/remote/user/get-verification-code.ts","webpack://_N_E/../../libs/app/model/src/remote/user/loginByCode.ts","webpack://_N_E/../../libs/app/model/src/remote/user/common.ts","webpack://_N_E/../../node_modules/.pnpm/@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_react@19.1.0__@emotion+styled_7n6ip7adzgskiknwagt7k5dnla/node_modules/@mui/material/internal/svg-icons/CheckBoxOutlineBlank.js","webpack://_N_E/../../node_modules/.pnpm/@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_react@19.1.0__@emotion+styled_7n6ip7adzgskiknwagt7k5dnla/node_modules/@mui/material/internal/svg-icons/CheckBox.js","webpack://_N_E/../../node_modules/.pnpm/@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_react@19.1.0__@emotion+styled_7n6ip7adzgskiknwagt7k5dnla/node_modules/@mui/material/internal/svg-icons/IndeterminateCheckBox.js","webpack://_N_E/../../node_modules/.pnpm/@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_react@19.1.0__@emotion+styled_7n6ip7adzgskiknwagt7k5dnla/node_modules/@mui/material/Checkbox/checkboxClasses.js","webpack://_N_E/../../node_modules/.pnpm/@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_react@19.1.0__@emotion+styled_7n6ip7adzgskiknwagt7k5dnla/node_modules/@mui/material/Checkbox/Checkbox.js","webpack://_N_E/./src/components/common/UnifiedLogin.tsx","webpack://_N_E/./src/components/common/LoginController.tsx","webpack://_N_E/./src/components/pages/sign-up-in/content/SignInUpContent.tsx","webpack://_N_E/./src/pages/sign-up-in/index.tsx","webpack://_N_E/../../node_modules/.pnpm/@mui+icons-material@6.4.12_@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_re_5ewkm5t5g27pzq5tz62v6ktvti/node_modules/@mui/icons-material/esm/Close.js","webpack://_N_E/../../node_modules/.pnpm/react-i18next@15.6.0_i18next@24.2.3_typescript@5.7.3__react-dom@19.1.0_react@19.1.0__react@19.1.0_typescript@5.7.3/node_modules/react-i18next/dist/es/index.js","webpack://_N_E/../../libs/fanfanlo/src/i18n/i18n-init.ts","webpack://_N_E/../../libs/fanfanlo/src/storage/store-page-context.tsx","webpack://_N_E/../../libs/app/ui/src/components/app/AppShell.tsx","webpack://_N_E/?6431","webpack://_N_E/../../libs/app/ui/src/components/page/PageContent.tsx","webpack://_N_E/../../libs/app/ui/src/components/page/AndroidPageContent.tsx","webpack://_N_E/./src/components/privacies/PrivacyDialogDisplay.tsx","webpack://_N_E/../../libs/app/static/src/mc/static-model.ts","webpack://_N_E/../../libs/app/ui/src/components/motion/page-transition.tsx","webpack://_N_E/../../libs/app/ui/src/components/app/PageShell.tsx","webpack://_N_E/../../libs/app/ui/src/components/appbar/AppBar.tsx"],"sourcesContent":["import { IRequestParams } from \"@fanfanlo\";\r\nimport { request } from \"@fanfanlo\";\r\nimport { tms } from \"../tms\";\r\nimport { IResultContent } from \"@fanfanlo\";\r\nimport { IRequestOptions } from \"../IRequestOptions\";\r\n\r\nexport interface IRegCodeInfo{\r\n    login_name:string\r\n    endtime:string\r\n    code:string\r\n}\r\nexport interface ITMGetVerificationCodeResult extends IResultContent{\r\n    reg_code_info:IRegCodeInfo\r\n}\r\nexport enum TMGetVerificationCodeType {\r\n    cnMobile = 'cnMobile',\r\n    email = \"email\"\r\n}\r\ninterface ITMGetVerificationCodeParams extends IRequestParams{\r\n    login_name:string\r\n    type:TMGetVerificationCodeType\r\n}\r\n\r\nexport async function tmsGetVerificationCode(opts:IRequestOptions<ITMGetVerificationCodeParams>){\r\n    const res = await request<ITMGetVerificationCodeResult>(tms.TUser, tms.MUserCreateRegCode, opts.params, opts.gateway, opts.handler);\r\n    return res\r\n}\r\n","import { IRequestParams, IResultContent } from \"@fanfanlo\"\r\nimport { UserLoginType } from \"./common\"\r\nimport { request } from \"@fanfanlo\"\r\nimport { tms } from \"../tms\"\r\nimport { IRequestOptions } from \"../IRequestOptions\";\r\n\r\n\r\nexport interface ITMLoginByCodeParams extends IRequestParams{\r\n    login_name:string\r\n    code:string\r\n    type:UserLoginType\r\n}\r\n\r\n\r\nexport interface ITMLoginByCodeResult extends IResultContent{\r\n    is_ok:boolean\r\n    msg:string\r\n    user_token?:string\r\n}\r\n\r\nexport async function tmsLoginByCode(opts:IRequestOptions<ITMLoginByCodeParams>){\r\n    console.log('options=', opts);\r\n    const res = await request<ITMLoginByCodeResult>(tms.TUser, tms.MUserLoginByCode, opts.params, opts.gateway, opts.handler);\r\n    return res\r\n}\r\n","export enum UserLoginType {\r\n    cnMobile = 'cnMobile',\r\n    email = \"email\"\r\n}\r\n    ","'use client';\n\nimport * as React from 'react';\nimport createSvgIcon from \"../../utils/createSvgIcon.js\";\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"\n}), 'CheckBoxOutlineBlank');","'use client';\n\nimport * as React from 'react';\nimport createSvgIcon from \"../../utils/createSvgIcon.js\";\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n}), 'CheckBox');","'use client';\n\nimport * as React from 'react';\nimport createSvgIcon from \"../../utils/createSvgIcon.js\";\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z\"\n}), 'IndeterminateCheckBox');","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getCheckboxUtilityClass(slot) {\n  return generateUtilityClass('MuiCheckbox', slot);\n}\nconst checkboxClasses = generateUtilityClasses('MuiCheckbox', ['root', 'checked', 'disabled', 'indeterminate', 'colorPrimary', 'colorSecondary', 'sizeSmall', 'sizeMedium']);\nexport default checkboxClasses;","'use client';\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport { alpha } from '@mui/system/colorManipulator';\nimport SwitchBase from \"../internal/SwitchBase.js\";\nimport CheckBoxOutlineBlankIcon from \"../internal/svg-icons/CheckBoxOutlineBlank.js\";\nimport CheckBoxIcon from \"../internal/svg-icons/CheckBox.js\";\nimport IndeterminateCheckBoxIcon from \"../internal/svg-icons/IndeterminateCheckBox.js\";\nimport capitalize from \"../utils/capitalize.js\";\nimport rootShouldForwardProp from \"../styles/rootShouldForwardProp.js\";\nimport checkboxClasses, { getCheckboxUtilityClass } from \"./checkboxClasses.js\";\nimport { styled } from \"../zero-styled/index.js\";\nimport memoTheme from \"../utils/memoTheme.js\";\nimport createSimplePaletteValueFilter from \"../utils/createSimplePaletteValueFilter.js\";\nimport { useDefaultProps } from \"../DefaultPropsProvider/index.js\";\nimport { mergeSlotProps } from \"../utils/index.js\";\nimport useSlot from \"../utils/useSlot.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    indeterminate,\n    color,\n    size\n  } = ownerState;\n  const slots = {\n    root: ['root', indeterminate && 'indeterminate', `color${capitalize(color)}`, `size${capitalize(size)}`]\n  };\n  const composedClasses = composeClasses(slots, getCheckboxUtilityClass, classes);\n  return {\n    ...classes,\n    // forward the disabled and checked classes to the SwitchBase\n    ...composedClasses\n  };\n};\nconst CheckboxRoot = styled(SwitchBase, {\n  shouldForwardProp: prop => rootShouldForwardProp(prop) || prop === 'classes',\n  name: 'MuiCheckbox',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.indeterminate && styles.indeterminate, styles[`size${capitalize(ownerState.size)}`], ownerState.color !== 'default' && styles[`color${capitalize(ownerState.color)}`]];\n  }\n})(memoTheme(({\n  theme\n}) => ({\n  color: (theme.vars || theme).palette.text.secondary,\n  variants: [{\n    props: {\n      color: 'default',\n      disableRipple: false\n    },\n    style: {\n      '&:hover': {\n        backgroundColor: theme.vars ? `rgba(${theme.vars.palette.action.activeChannel} / ${theme.vars.palette.action.hoverOpacity})` : alpha(theme.palette.action.active, theme.palette.action.hoverOpacity)\n      }\n    }\n  }, ...Object.entries(theme.palette).filter(createSimplePaletteValueFilter()).map(([color]) => ({\n    props: {\n      color,\n      disableRipple: false\n    },\n    style: {\n      '&:hover': {\n        backgroundColor: theme.vars ? `rgba(${theme.vars.palette[color].mainChannel} / ${theme.vars.palette.action.hoverOpacity})` : alpha(theme.palette[color].main, theme.palette.action.hoverOpacity)\n      }\n    }\n  })), ...Object.entries(theme.palette).filter(createSimplePaletteValueFilter()).map(([color]) => ({\n    props: {\n      color\n    },\n    style: {\n      [`&.${checkboxClasses.checked}, &.${checkboxClasses.indeterminate}`]: {\n        color: (theme.vars || theme).palette[color].main\n      },\n      [`&.${checkboxClasses.disabled}`]: {\n        color: (theme.vars || theme).palette.action.disabled\n      }\n    }\n  })), {\n    // Should be last to override other colors\n    props: {\n      disableRipple: false\n    },\n    style: {\n      // Reset on touch devices, it doesn't add specificity\n      '&:hover': {\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    }\n  }]\n})));\nconst defaultCheckedIcon = /*#__PURE__*/_jsx(CheckBoxIcon, {});\nconst defaultIcon = /*#__PURE__*/_jsx(CheckBoxOutlineBlankIcon, {});\nconst defaultIndeterminateIcon = /*#__PURE__*/_jsx(IndeterminateCheckBoxIcon, {});\nconst Checkbox = /*#__PURE__*/React.forwardRef(function Checkbox(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiCheckbox'\n  });\n  const {\n    checkedIcon = defaultCheckedIcon,\n    color = 'primary',\n    icon: iconProp = defaultIcon,\n    indeterminate = false,\n    indeterminateIcon: indeterminateIconProp = defaultIndeterminateIcon,\n    inputProps,\n    size = 'medium',\n    disableRipple = false,\n    className,\n    slots = {},\n    slotProps = {},\n    ...other\n  } = props;\n  const icon = indeterminate ? indeterminateIconProp : iconProp;\n  const indeterminateIcon = indeterminate ? indeterminateIconProp : checkedIcon;\n  const ownerState = {\n    ...props,\n    disableRipple,\n    color,\n    indeterminate,\n    size\n  };\n  const classes = useUtilityClasses(ownerState);\n  const externalInputProps = slotProps.input ?? inputProps;\n  const [RootSlot, rootSlotProps] = useSlot('root', {\n    ref,\n    elementType: CheckboxRoot,\n    className: clsx(classes.root, className),\n    shouldForwardComponentProp: true,\n    externalForwardedProps: {\n      slots,\n      slotProps,\n      ...other\n    },\n    ownerState,\n    additionalProps: {\n      type: 'checkbox',\n      icon: /*#__PURE__*/React.cloneElement(icon, {\n        fontSize: icon.props.fontSize ?? size\n      }),\n      checkedIcon: /*#__PURE__*/React.cloneElement(indeterminateIcon, {\n        fontSize: indeterminateIcon.props.fontSize ?? size\n      }),\n      disableRipple,\n      slots,\n      slotProps: {\n        input: mergeSlotProps(typeof externalInputProps === 'function' ? externalInputProps(ownerState) : externalInputProps, {\n          'data-indeterminate': indeterminate\n        })\n      }\n    }\n  });\n  return /*#__PURE__*/_jsx(RootSlot, {\n    ...rootSlotProps,\n    classes: classes\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Checkbox.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * If `true`, the component is checked.\n   */\n  checked: PropTypes.bool,\n  /**\n   * The icon to display when the component is checked.\n   * @default <CheckBoxIcon />\n   */\n  checkedIcon: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The color of the component.\n   * It supports both default and custom theme colors, which can be added as shown in the\n   * [palette customization guide](https://mui.com/material-ui/customization/palette/#custom-colors).\n   * @default 'primary'\n   */\n  color: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['default', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n  /**\n   * The default checked state. Use when the component is not controlled.\n   */\n  defaultChecked: PropTypes.bool,\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * If `true`, the ripple effect is disabled.\n   * @default false\n   */\n  disableRipple: PropTypes.bool,\n  /**\n   * The icon to display when the component is unchecked.\n   * @default <CheckBoxOutlineBlankIcon />\n   */\n  icon: PropTypes.node,\n  /**\n   * The id of the `input` element.\n   */\n  id: PropTypes.string,\n  /**\n   * If `true`, the component appears indeterminate.\n   * This does not set the native input element to indeterminate due\n   * to inconsistent behavior across browsers.\n   * However, we set a `data-indeterminate` attribute on the `input`.\n   * @default false\n   */\n  indeterminate: PropTypes.bool,\n  /**\n   * The icon to display when the component is indeterminate.\n   * @default <IndeterminateCheckBoxIcon />\n   */\n  indeterminateIcon: PropTypes.node,\n  /**\n   * [Attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Attributes) applied to the `input` element.\n   * @deprecated Use `slotProps.input` instead. This prop will be removed in v7. See [Migrating from deprecated APIs](/material-ui/migration/migrating-from-deprecated-apis/) for more details.\n   */\n  inputProps: PropTypes.object,\n  /**\n   * Callback fired when the state is changed.\n   *\n   * @param {React.ChangeEvent<HTMLInputElement>} event The event source of the callback.\n   * You can pull out the new checked state by accessing `event.target.checked` (boolean).\n   */\n  onChange: PropTypes.func,\n  /**\n   * If `true`, the `input` element is required.\n   * @default false\n   */\n  required: PropTypes.bool,\n  /**\n   * The size of the component.\n   * `small` is equivalent to the dense checkbox styling.\n   * @default 'medium'\n   */\n  size: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['medium', 'small']), PropTypes.string]),\n  /**\n   * The props used for each slot inside.\n   * @default {}\n   */\n  slotProps: PropTypes.shape({\n    input: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n    root: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n  }),\n  /**\n   * The components used for each slot inside.\n   * @default {}\n   */\n  slots: PropTypes.shape({\n    input: PropTypes.elementType,\n    root: PropTypes.elementType\n  }),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The value of the component. The DOM API casts this to a string.\n   * The browser uses \"on\" as the default value.\n   */\n  value: PropTypes.any\n} : void 0;\nexport default Checkbox;","import { useEffect, useState } from \"react\";\nimport { TextField, Button, Box, Typography, Stack, FormControlLabel, Checkbox } from \"@mui/material\";\nimport { objectCountUtils, useProxyWatch } from \"@fanfanlo\";\n\nconst PHONE_REGEX = /^1[3-9]\\d{9}$/;\nconst VERIFICATION_CODE_REGEX = /^\\d{6}$/;\n\nexport interface IPrivacyAgreeData{\n  agree:boolean\n  code?:string // 物联网卡可以默认登录\n}\n\ninterface UnifiedLoginProps {\n  onGetCode: (phone: string) => Promise<void>;\n  onLogin: (phone: string, code: string) => Promise<void>;\n  onShowPrivacyDialog: () => void;\n  showAgreementCheckbox: boolean;\n  isLoading: boolean;\n  error: string;\n  countdown: number;\n  agreeData:IPrivacyAgreeData;\n}\n\nexport function UnifiedLogin({\n  onGetCode,\n  onLogin,\n  onShowPrivacyDialog,\n  showAgreementCheckbox,\n  isLoading,\n  error,\n  countdown,\n  agreeData,\n}: UnifiedLoginProps) {\n  const [phone, setPhone] = useState('');\n  const [code, setCode] = useState('');\n  // const [privacyAgreed, setPrivacyAgreed] = useState(!showAgreementCheckbox);\n  const [agree] = useProxyWatch(agreeData, 'agree', agreeData.agree);\n  const [code14] = useProxyWatch(agreeData, 'code', agreeData.code);\n  const isPhoneValid = PHONE_REGEX.test(phone);\n  const isCodeValid = VERIFICATION_CODE_REGEX.test(code);\n  const canGetCode = !isLoading && isPhoneValid && countdown === 0;\n  const canLogin = isPhoneValid && isCodeValid && !isLoading && agree;\n\n  const waitForPrivacyAgree = isPhoneValid && isCodeValid && !isLoading  && !agree;\n  useEffect(()=>{\n    // setPrivacyAgreed(agree)\n  },[agree])\n\n  useEffect(()=>{\n    if(!code14)return;\n    setCode(code14)\n  }, [code14])\n\n  const handleGetCodeClick = () => {\n    if (canGetCode) {\n      onGetCode(phone);\n    }\n  };\n\n  const handleLoginClick = () => {\n    if (canLogin) {\n      onLogin(phone, code);\n    }\n  };\n\n  const handlePrivacyClick = (event: React.MouseEvent) => {\n    event.preventDefault();\n    event.stopPropagation();\n    onShowPrivacyDialog();\n  };\n  return (\n    <Box sx={{ maxWidth: 400, mx: 'auto', p: { xs: 1, sm: 3 } }}>\n      <Typography variant=\"h5\" component=\"h1\" gutterBottom align=\"center\">\n        手机号登录/注册\n      </Typography>\n      <form onSubmit={(e) => { e.preventDefault(); handleLoginClick(); }}>\n        <Stack spacing={2}>\n          <TextField\n            fullWidth\n            label=\"手机号\"\n            value={phone}\n            onChange={(e) => setPhone(e.target.value)}\n            placeholder=\"请输入您的手机号\"\n            disabled={isLoading || countdown > 0}\n            margin=\"normal\"\n            inputProps={{ maxLength: 11 }}\n          />\n          <Box sx={{ display: 'flex', gap: 2, alignItems: 'center' }}>\n            <TextField\n              fullWidth\n              label=\"验证码\"\n              value={code}\n              onChange={(e) => setCode(e.target.value.replace(/\\D/g, '').substring(0, 6))}\n              placeholder=\"请输入6位验证码\"\n              disabled={isLoading}\n              margin=\"normal\"\n              inputProps={{ maxLength: 6 }}\n            />\n            <Button\n              variant=\"outlined\"\n              onClick={handleGetCodeClick}\n              disabled={!canGetCode}\n              fullWidth\n              sx={{ mt: '8px', mb: '4px', height: '56px' }}\n            >\n              {countdown > 0 ? `${countdown}秒后重试` : '获取验证码'}\n            </Button>\n          </Box>\n\n          {showAgreementCheckbox && (\n            <Box sx={{ display: 'flex', alignItems: 'center', mt: 1, mb: 1 }}>\n              <Box \n              sx={{color: waitForPrivacyAgree ? 'error.main' : 'inherit',}}>\n                <FormControlLabel\n                label=\"我已阅读并同意\"\n                control={<Checkbox checked={agree} onChange={(e) => {\n                  // setPrivacyAgreed(e.target.checked)\n                  agreeData.agree = e.target.checked\n                }\n                } />}\n              />\n              </Box>\n              <Typography variant=\"body2\" sx={{ userSelect: 'none' }}>\n                <Box component=\"span\" sx={{ color: 'primary.main', cursor: 'pointer' }} onClick={handlePrivacyClick}>\n                  《隐私政策》\n                </Box>\n              </Typography>\n            </Box>\n          )}\n\n          <Button\n            variant=\"contained\"\n            onClick={handleLoginClick}\n            disabled={!canLogin}\n            fullWidth\n            sx={{ mt: 2, py: 1.5 }}\n          >\n            登录 / 注册\n          </Button>\n\n          {error && (\n            <Typography color=\"error\" align=\"center\" sx={{ mt: 2 }}>\n              {error}\n            </Typography>\n          )}\n        </Stack>\n      </form>\n    </Box>\n  );\n}\n","import { useState, useEffect, useCallback } from \"react\";\nimport { tmsGetVerificationCode, TMGetVerificationCodeType, tmsLoginByCode, UserLoginType, user } from \"@app/model\";\nimport _ from \"lodash\";\nimport toast from \"react-hot-toast\";\nimport { IPrivacyAgreeData, UnifiedLogin } from \"./UnifiedLogin\";\n\nimport { PrivacyDialogDisplay } from \"../privacies/PrivacyDialogDisplay\";\nimport { objectCountUtils, toProxy } from \"@fanfanlo\";\n\ninterface LoginControllerProps {\n  onLoginSuccess: () => void;\n  showAgreementCheckbox: boolean;\n  agreeData:IPrivacyAgreeData\n}\n\nexport function LoginController({ agreeData, onLoginSuccess, showAgreementCheckbox }: LoginControllerProps) {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [countdown, setCountdown] = useState(0);\n  const [openPrivacy, setOpenPrivacy] = useState(false);\n  useEffect(() => {\n    let timer: NodeJS.Timeout;\n    if (countdown > 0) {\n      timer = setTimeout(() => setCountdown(countdown - 1), 1000);\n    }\n    return () => clearTimeout(timer);\n  }, [countdown]);\n\n  const handleGetCode = useCallback(async (phone: string) => {\n    setIsLoading(true);\n    setError('');\n    try {\n      const res = await tmsGetVerificationCode({\n        params: { login_name: phone, type: TMGetVerificationCodeType.cnMobile },\n        gateway: '',\n        handler: { printLog: false }\n      });\n      if (res.err || !res.shellIsOk || !res.dataIsOk) {\n        setError(res.err?.toString() || '获取验证码失败');\n        return;\n      }\n      const codeFromServer = res.data?.reg_code_info?.code;\n      if (codeFromServer && codeFromServer.length === 6 && !_.isNaN(parseInt(codeFromServer))) {\n        agreeData.code = codeFromServer\n        toast('物联网号码无需短信，已自动填入验证码', { duration: 5000 });\n      }\n      setCountdown(60);\n    } catch (err) {\n      setError('请求失败，请稍后再试');\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  const handleLogin = useCallback(async (phone: string, code: string) => {\n    setIsLoading(true);\n    setError('');\n    try {\n      const res = await tmsLoginByCode({\n        params: { login_name: phone, code, type: UserLoginType.cnMobile },\n        gateway: '',\n        handler: { printLog: false }\n      });\n      if (res.err || !res.shellIsOk || !res.dataIsOk || !res.data?.is_ok) {\n        setError(res.data?.msg || res.err?.toString() || '登录失败');\n        return;\n      }\n      const userToken = res.data?.user_token;\n      if (userToken) {\n        if (showAgreementCheckbox) {\n          localStorage.setItem('privacyPolicyAgreed', 'true');\n        }\n        user.data.storeData.user_token = userToken;\n        onLoginSuccess();\n      } else {\n        setError(res.data?.msg || '登录失败');\n      }\n    } catch (err) {\n      setError('请求失败，请稍后再试');\n    } finally {\n      setIsLoading(false);\n    }\n  }, [onLoginSuccess, showAgreementCheckbox]);\n\n  const handleShowPrivacyDialog = () => {\n    // privacy.show();\n    setOpenPrivacy(!openPrivacy)\n  };\n\n  function onPrivacyClose(agree?:boolean){\n    console.log('agree =', typeof agree, agree, objectCountUtils.getObjectCount(agreeData))\n    if(typeof agree !== 'undefined'){\n      agreeData.agree = agree\n    }\n    setOpenPrivacy(false)\n  }\n\n  return (\n    <>\n      <PrivacyDialogDisplay open={openPrivacy} onClose={onPrivacyClose} area=\"zh-cn\"  type=\"main\"/>\n    <UnifiedLogin\n    agreeData={agreeData}\n      onGetCode={handleGetCode}\n      onLogin={handleLogin}\n      onShowPrivacyDialog={handleShowPrivacyDialog}\n      showAgreementCheckbox={showAgreementCheckbox}\n      isLoading={isLoading}\n      error={error}\n      countdown={countdown}\n    />\n    </>\n  );\n}\n","import { Box } from \"@mui/material\";\r\nimport { useRouter } from \"next/router\";\r\nimport { toProxy, useProxyWatch } from \"@fanfanlo\";\r\nimport { user, trackingPrint } from \"@app/model\";\r\nimport toast from \"react-hot-toast\";\r\nimport { SignUp } from \"../../sign-up/content/SignUp\";\r\nimport { LoginController } from \"@src/components/common/LoginController\";\r\nimport { useState } from \"react\";\r\n\r\nexport function SignInUpContent(){\r\n    const router = useRouter();\r\n    const [token] = useProxyWatch(user, 'data.storeData.user_token', user.data.storeData.user_token);\r\n    \r\n      const [agreeData] = useState(toProxy({agree:false}))\r\n    console.log('SignInUpContent_fn token=', token)\r\n    if(token){\r\n        const waitTime = 1000;\r\n        \r\n        // 登录成功埋点\r\n        trackingPrint({params:{\r\n            type:\"用户操作\",\r\n            title:\"用户登录\",\r\n            subtitle:\"登录-成功完成\",\r\n            extra:{\r\n                timestamp: Date.now(),\r\n                redirectDelay: waitTime + 500,\r\n                backUrl: router.query.back || '/',\r\n                hasBackParam: !!router.query.back\r\n            }\r\n        }});\r\n        \r\n        toast('登录成功', { duration: waitTime })\r\n        setTimeout(() => {\r\n            back()\r\n        }, waitTime + 500);\r\n    }\r\n    function back(){\r\n        let p = '/';\r\n        if(router.query.back){\r\n            if(router.query.back instanceof Array){\r\n                p = router.query.back[0]\r\n            }else{\r\n                p = router.query.back\r\n            }\r\n        }\r\n        router.replace(p);\r\n    }\r\n\r\n    return (\r\n        <Box>\r\n            {/* <SignUp /> */}\r\n            \r\n             <LoginController \r\n             agreeData={agreeData}\r\n                 onLoginSuccess={back}\r\n                 showAgreementCheckbox={true}\r\n             />\r\n        </Box>\r\n    )\r\n}","import { AppbarContainer, AppShell, TabbarContainer } from \"@app/ui\";\r\nimport { NavBar } from \"@src/components/navbar/NavBar\";\r\nimport { SignInUpContent } from \"@src/components/pages/sign-up-in/content/SignInUpContent\";\r\n\r\n\r\nexport default function SignUpInPage() {\r\n    return (\r\n        <AppShell>\r\n            \r\n                            <AppbarContainer appbarProps={{title:\"登录\", back:true}}>\r\n                <SignInUpContent />\r\n                            </AppbarContainer>\r\n            {/* <TabbarContainer titleConf={{ ns: \"emergency-call/pages/sign-up-in/content\", key: \"content.title\" }}\r\n            navBar={<NavBar/>}\r\n            >\r\n                <SignInUpContent />\r\n            </TabbarContainer> */}\r\n        </AppShell>\r\n    )\r\n}","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');","export * from \"C:\\\\work\\\\android-droid\\\\html\\\\website-2024-12\\\\node_modules\\\\.pnpm\\\\react-i18next@15.6.0_i18next@24.2.3_typescript@5.7.3__react-dom@19.1.0_react@19.1.0__react@19.1.0_typescript@5.7.3\\\\node_modules\\\\react-i18next\\\\dist\\\\es\\\\index.js\"","\"use client\";\r\n// 现在用的是这个文件\r\nimport { initReactI18next } from \"react-i18next\";\r\n\r\nimport LanguageDetector from \"i18next-browser-languagedetector\";\r\nimport Backend, { type HttpBackendOptions } from \"i18next-http-backend\";\r\n\r\nimport i18next from \"i18next\";\r\nimport { Log } from \"../log/Log\";\r\nimport { getBuildTime, isServer } from \"../nextjs/env/env\";\r\nimport { fileMapUtils } from \"../utils\";\r\n;\r\nexport { useTranslation } from 'react-i18next';\r\nlet fileDateVersion:string = ''// = getConfig().publicRuntimeConfig?.version\r\nexport const i18nLogger = new Log(false, `i18n`);\r\nconst windowHref = (()=>{\r\n  if(typeof window === 'undefined')return ''\r\n  const u = new URL(window.location.href || window.parent?.location.href);\r\n  // 同域文本iframe里的页面会获取不到href，所以判断一下直接用父级的就行.\r\n  return u.origin == null || u.origin == 'null' ? '' : u.origin\r\n})()\r\nconst backendOptions = {\r\n  loadPath: function (lngs: string[], namespaces: string[]) {\r\n    const log = i18nLogger.sub(false, `i18n loadpath`);\r\n    log.pause = true;\r\n    const lng = lngs[0]\r\n    let p = ``\r\n    // p = `/options/_locales/${lngs[0].replace(\"-\", \"_\")}/messages.json`;\r\n    // p = `/locales/zh-CN/ns1/content.json`;\r\n    // p = `locales/${lng}/${namespaces[0]}.json?v=${fileDateVersion}`\r\n    const ps = namespaces[0].split('/')\r\n    ps.splice(ps.length - 1, 0, lng)\r\n    // p = `locales/${ps.join('/')}.json?v=${fileDateVersion}`\r\n    // p = `locales/${ps.join('/')}.json?v=${getBuildTime()}`\r\n    p = `locales/${ps.join('/')}.json`\r\n    log.log(`lngs=`, lngs);\r\n    log.log(`namespaces=`, namespaces);\r\n    log.log(\"p=\", p);\r\n    p = fileMapUtils.getFile(`/${p}`);\r\n    // console.log('map p=', p)\r\n    p = `${windowHref}/${p}`\r\n    return p;\r\n\r\n  },\r\n  parse: function (\r\n    data: string,\r\n    languages?: string | string[],\r\n    namespaces?: string | string[]\r\n  ) {\r\n    const log = i18nLogger.sub(false, `i18n backend parse`);\r\n    log.pause = true;\r\n    // log.log(`parrrse`, data, languages, namespaces);\r\n    const l = JSON.parse(data);\r\n    log.print(`before set i18ndata`);\r\n    // i18nData = l as II18n;\r\n    // log.log(`i18nData.rule.scripts.sys.rules`, i18nData.rule.scripts.sys.rules);\r\n    log.log(`parrrse`, languages, namespaces);\r\n    return l;\r\n  },\r\n};\r\nconst backend = new Backend();\r\nbackend.init(null, backendOptions);\r\nexport const i18n = i18next;\r\n// export const resources: Resource = {\r\n//   // 'zh-CN': {\r\n//   //   translation: _.merge({}, zhCN),\r\n//   // },\r\n//   // en: {\r\n//   //   translation: _.merge({}, en),\r\n//   // },\r\n// };\r\n\r\n\r\ni18n.on(\"languageChanged\", async function (lng) {\r\n  const log = i18nLogger.sub(false, `onlanguageChanged`);\r\n  log.pause = true;\r\n  log.log(`lllllng`, lng);\r\n  // lng = \"en\";\r\n  // const p = `/options/_locales/${lng.replace(\"-\", \"_\")}/messages.json`;\r\n});\r\n\r\n\r\n\r\n\r\nexport function i18nInit(_fileDateVersion:string=''){\r\n  fileDateVersion = _fileDateVersion\r\n  i18n\r\n  .use(LanguageDetector)\r\n  .use(backend)\r\n  .use(initReactI18next)\r\n  .init<HttpBackendOptions>({\r\n    load: \"currentOnly\",\r\n    // load: \"all\",\r\n    // supportedLngs: ['zh-CN', 'zh-TW', 'en', 'en-GB', 'ja'],\r\n    // resources,\r\n    fallbackLng: isServer ? \"en\" : \"zh-CN\",\r\n    // fallbackLng: \"zh-CN\",\r\n    // lng: \"zh-CN\",\r\n    partialBundledLanguages:true,\r\n    ns:[],\r\n    \r\n    debug: false,\r\n    interpolation: {\r\n      escapeValue: false, // not needed for react as it escapes by default\r\n    },\r\n    detection: {\r\n      caches: [\"localStorage\"],\r\n    },\r\n  });\r\n}\r\ni18n.on(\"missingKey\", function (lngs, namespace, key, res) {\r\n  console.error(\r\n    \"i18n mssing key, lngs=%s, namespace=%s, key=%s, res=%s\",\r\n    lngs,\r\n    namespace,\r\n    key,\r\n    res\r\n  );\r\n});\r\n\r\ni18n.on(\"loaded\", function (loaded) {\r\n  const log = i18nLogger.sub(false, `onloaded`);\r\n  log.pause = true;\r\n  log.log(`onloaded arguments`, loaded);\r\n});\r\n\r\ni18n.on(\"failedLoading\", function (lng, ns, msg) {\r\n  const log = i18nLogger.sub(false, `onfailedLoading`);\r\n  log.pause = true;\r\n  log.log(`failedLoading arguments`, lng, ns, msg);\r\n});\r\n\r\ni18n.on(\"added\", function () {\r\n  console.log('added', arguments)\r\n});   \r\n\r\nexport default i18n;","import { createContext } from \"react\";\r\nimport { storeUtils } from \"./store-utils\";\r\n// import { storeUtils } from \"./store\";\r\nconst s = storeUtils.namespace('store-page-context')\r\n\r\nexport interface IPageScrollPosition{\r\n    x:number\r\n    y:number\r\n}\r\n\r\nfunction create(){\r\n    return createContext(s)\r\n}\r\nexport const StorePageContext = createContext<any>(s)\r\n\r\nexport const StorePageDynamicContext = createContext<Record<string, any>>({})","'use client'\r\nimport { i18n, i18nInit, IPageScrollPosition, StorePageContext, StorePageDynamicContext, toProxy, watchUpdates, storeUtils } from \"@fanfanlo\";\r\nimport { useRouter } from \"next/router\";\r\nimport getConfig from \"node_modules/next/config\";\r\nimport { PropsWithChildren, useEffect, useState } from \"react\";\r\nimport { I18nextProvider } from \"react-i18next\";\r\nimport {trackingPrint} from \"@app/model\"\r\ncheckReloadPage();\r\ni18nInit()\r\n\r\n\r\nfunction checkReloadPage(){\r\n  if(typeof window === 'undefined')return\r\n  if(getConfig().publicRuntimeConfig.isDevelopment){\r\n    return\r\n  }\r\n  if(window.location.href.indexOf('qiniu') == -1)return;\r\n  // 帮我检测url中是否包含_htmlRefreshTime的参数\r\n  // 如果没有，则添加_htmlRefresTime的参数，值为当前时间的毫秒数\r\n  const searchParams = new URL(window.location.href).searchParams\r\n  const htmlRefreshTime = searchParams.get('_htmlRefreshTime')\r\n  if (!htmlRefreshTime) {\r\n    const newUrl = new URL(window.location.href)\r\n    newUrl.searchParams.set('_htmlRefreshTime', String(Date.now()))\r\n    window.location.href = newUrl.toString()\r\n    return\r\n  }\r\n\r\n  const refreshTime = Number(htmlRefreshTime)\r\n  if (refreshTime + 2 * 60 * 1000 < Date.now()) {\r\n    const newUrl = new URL(window.location.href)\r\n    newUrl.searchParams.set('_htmlRefreshTime', String(Date.now()))\r\n    window.location.href = newUrl.toString()\r\n  }\r\n}\r\nconst dynamicKeyMap = new Map<string, boolean>();\r\nexport function AppShell({ children }: PropsWithChildren) {\r\n  const router = useRouter();\r\n  const scrollKey = 'scrollPositionInfo'\r\n  const href = window.location.href.split(\"#\")[0]\r\n  const dynamicKey = `dynamic-${href}`\r\n  const [isOpened] = useState(dynamicKeyMap.get(dynamicKey) === true)\r\n  const s = storeUtils.namespace(dynamicKey);\r\n  let o: Record<string, unknown>|undefined = s.read(dynamicKey)\r\n  if (!o) {\r\n    o = {}\r\n    s.write(dynamicKey, o)\r\n  }\r\n  o = toProxy(o)\r\n  useEffect(() => {\r\n\r\n    router.beforePopState((state) => {\r\n      s.clearAll()\r\n      return true\r\n    })\r\n  })\r\n  useEffect(() => {\r\n    s.write(dynamicKey, o)\r\n    return watchUpdates(o, () => {\r\n      s.write(dynamicKey, o)\r\n    })\r\n  }, [])\r\n\r\n  useEffect(()=>{\r\n    trackingPrint({params:{\r\n      type:\"页面进入\",\r\n      title:\"页面\",\r\n      subtitle:\"发送者-AppShell\",\r\n      extra:{\r\n        href:window.location.href\r\n      }\r\n    }})\r\n  }, [])\r\n  useEffect(() => {\r\n    const info = (s.read(scrollKey) || { x: 0, y: 0 }) as IPageScrollPosition\r\n    // console.log('app shell scroll info info = ', info)\r\n    if (info.x == 0 && info.y == 0) {\r\n      listenScroll()\r\n    } else {\r\n      window.requestAnimationFrame(() => {\r\n        if(isOpened){\r\n          window.scrollTo(info.x, info.y)\r\n        }\r\n        listenScroll()\r\n      })\r\n    }\r\n    function onScroll(e: Event) {\r\n      // console.log('app shell on scroll', { x: window.scrollX, y: window.scrollY })\r\n      s.write(scrollKey, { x: window.scrollX, y: window.scrollY })\r\n    }\r\n    function listenScroll() {\r\n      window.addEventListener('scroll', onScroll)\r\n    }\r\n\r\n    function unsub() {\r\n      window.removeEventListener('scroll', onScroll)\r\n    }\r\n    return unsub\r\n  });\r\n  useEffect(()=>{\r\n    dynamicKeyMap.set(dynamicKey, true)\r\n  },[])\r\n  return (\r\n    <StorePageContext value={s}>\r\n      <StorePageDynamicContext value={o}>\r\n\r\n        <I18nextProvider i18n={i18n}>\r\n          {children}\r\n        </I18nextProvider>\r\n      </StorePageDynamicContext>\r\n    </StorePageContext>\r\n  )\r\n}","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/sign-up-in\",\n      function () {\n        return require(\"private-next-pages/sign-up-in/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/sign-up-in\"])\n      });\n    }\n  ","import { isDev, loadI18nValue, useTranslation } from '@fanfanlo';\r\nimport { Box, Button, Container } from '@mui/material';\r\nimport { createContext, PropsWithChildren, useContext, useEffect } from 'react';\r\nimport { ITitleI18nConf } from '.';\r\n\r\n\r\nfunction Reload(){\r\n  if(!isDev)return <>  </>\r\n  const {t} = useTranslation(\"app-ui/components/page/content\")\r\n  return(\r\n    <Box>\r\n      <Button onClick={() => {window.location.reload()}}>{t(\"PageContent.refresh\")}</Button>\r\n      {new Date().toLocaleString()}\r\n    </Box>\r\n  )\r\n}\r\n\r\nconst ScrollP = createContext({ x: 0, y: 0 });\r\nlet index = 0;\r\nexport default function PageContent({ children, titleConf, reload }: {titleConf?:ITitleI18nConf, reload?: boolean} & PropsWithChildren) {\r\n  index++;\r\n  const scroll = useContext(ScrollP);\r\n  const clazz = `${Date.now() + Math.random() * Date.now()}`;\r\n  useEffect(()=>{\r\n    async function loadTitle(){\r\n      if(!titleConf)return\r\n      let title = titleConf.title\r\n      if(titleConf.ns){\r\n        title = await loadI18nValue(titleConf.ns, titleConf.key || \"content.title\")\r\n      }\r\n      if(!title)return\r\n      document.title = title\r\n    }\r\n    loadTitle()\r\n  }, [])\r\n  useEffect(() => {\r\n    const container = document.getElementsByClassName(clazz)[0];\r\n    if (!container) return;\r\n    container.scrollTop = scroll.y;\r\n    const onScroll = () => {\r\n      var scrollTop = container.scrollTop;\r\n      scroll.y = scrollTop;\r\n    };\r\n    container.removeEventListener('scroll', onScroll);\r\n    container.addEventListener('scroll', onScroll, { passive: true });\r\n    return () => container.removeEventListener('scroll', onScroll);\r\n  }, [clazz, scroll]);\r\n  return (\r\n\r\n    <Container className={clazz} sx={{ \r\n      height: '100%',\r\n      overflow: 'auto', \r\n      padding: \"0px\",\r\n      display: 'flex',\r\n      flexDirection: 'column'\r\n    }}>\r\n      <Box>\r\n        {(reload || (reload == undefined)) && <Reload />}\r\n        \r\n        {children}\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n","import { PropsWithChildren } from \"react\";\r\nimport PageContent from \"./PageContent\";\r\nimport { ITitleI18nConf } from \".\";\r\nexport default function AndroidPageContent({ children, titleConf, reload }: {titleConf?:ITitleI18nConf, reload?: boolean} & PropsWithChildren)  {\r\n    return (\r\n        <PageContent titleConf={titleConf} reload={reload}>\r\n            {children}\r\n        </PageContent>\r\n    )\r\n}\r\n","import { Dialog, DialogContent, IconButton } from '@mui/material';\nimport { useEffect, useState } from 'react';\nimport CloseIcon from '@mui/icons-material/Close';\nimport React from 'react';\nimport { autoJsStoreUtils, autoWebViewJs } from '@droid/android';\nimport _ from 'lodash';\nimport getConfig from 'next/config';\n\ninterface PrivacyDialogDisplayProps {\n  open: boolean;\n  onClose: (agree?:boolean) => void;\n  type: string;\n  area: string;\n  showAgree?:boolean;\n}\n\ninterface IPrivacyInfo {\n  agree: boolean;\n  disagreeTime: number;\n}\n\n/**\n * 纯显示组件 - 负责隐私协议弹窗的显示和交互\n * 可以被手动控制打开/关闭\n */\nexport function PrivacyDialogDisplay({ open, onClose, type, area,showAgree }: PrivacyDialogDisplayProps) {\n  let suffix = (typeof window === \"undefined\") ? \"\" : window.location.href.indexOf(\"qiniu\") > -1 ? `/index.html?v=${getConfig().publicRuntimeConfig.buildTime}` : \"/\"\n  const [iframeSrc, setIframeSrc] = useState(`/privacies/${type}/${area}${suffix}#showAgree=${_.isBoolean(showAgree)?showAgree:true}`);\n  const iframeRef = React.useRef<HTMLIFrameElement>(null);\n\n  const [agree, setAgree] = useState(false)\n  useEffect(() => {\n    setIframeSrc(`/privacies/${type}/${area}${suffix}`);\n  }, [type, area]);\n\n  useEffect(() => {\n    const handleMessage = (event: MessageEvent) => {\n      // 安全检查：确保消息来自iframe\n      if (event.source !== iframeRef.current?.contentWindow) {\n        return;\n      }\n\n      const { sender, agree } = event.data;\n\n      if (sender === 'privacy_page') {\n        console.log(`Received privacy decision: ${agree ? 'Agreed' : 'Disagreed'}`);\n\n        const value: IPrivacyInfo = {\n          agree,\n          disagreeTime: agree ? 0 : Date.now()\n        };\n\n        // 保存到本地存储\n        autoJsStoreUtils.write(`privacy_${type}`, value);\n        \n        // 同步到Android端\n        const script = `\n          var data = new com.fanfanlo.emergencycall.data.PrivacyData(${value.agree}, ${value.disagreeTime});\n          com.fanfanlo.emergencycall.data.PrivacyStateHolder.updateMainPrivacyByJs(data);\n        `;\n        autoWebViewJs.callScript(script);\n\n        // 关闭弹窗\n        setAgree(agree)\n        onClose(agree);\n      }\n    };\n\n    window.addEventListener('message', handleMessage);\n\n    return () => {\n      window.removeEventListener('message', handleMessage);\n    };\n  }, [type, onClose]);\n\n  return (\n    <Dialog\n      open={open}\n      onClose={()=>{\n        onClose(agree)\n      }}\n      PaperProps={{\n        sx: {\n          width: '80%',\n          height: '80%',\n          maxWidth: 'none',\n        },\n      }}\n    >\n      <IconButton\n        aria-label=\"close\"\n        onClick={()=>{onClose(agree)}}\n        sx={{\n          position: 'absolute',\n          right: 8,\n          top: 8,\n          color: theme => theme.palette.grey[500],\n        }}\n      >\n        <CloseIcon />\n      </IconButton>\n      <DialogContent sx={{ padding: 0, overflow: 'hidden' }}>\n        {iframeSrc && (\n          <iframe\n            ref={iframeRef}\n            src={iframeSrc}\n            style={{ width: '100%', height: '100%', border: 'none' }}\n            title={`Privacy Policy - ${type}/${area}`}\n          />\n        )}\n      </DialogContent>\n    </Dialog>\n  );\n}","import { Dispatcher } from \"@fanfanlo\"\r\nimport { DispatcherUnsubscribe } from \"@fanfanlo\"\r\n\r\nconst dipsatcher = new Dispatcher()\r\ninterface IStaticModel{\r\n    dipsatcher:Dispatcher\r\n    screenLockCount:number\r\n    switchPage:()=>void\r\n    listenSwitchPage:(callback:()=>void)=>DispatcherUnsubscribe \r\n}\r\nexport const staticModel:IStaticModel = {\r\n    dipsatcher,\r\n    screenLockCount:0,\r\n    switchPage:async()=>{\r\n        dipsatcher.dispatch(\"switchPage\")\r\n        staticModel.screenLockCount = 0\r\n    },\r\n    listenSwitchPage:(callback:()=>void)=>{\r\n        return dipsatcher.addListener(\"switchPage\",callback)\r\n    }\r\n}   \r\n","import { PropsWithChildren } from \"react\";\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\nimport { useRouter } from \"next/router\";\r\n\r\n\r\nexport function PageTransition({ children }: PropsWithChildren) {\r\n    const router = useRouter()\r\n    return (\r\n\r\n        <AnimatePresence mode=\"sync\">\r\n            <motion.div\r\n                key={router.route}\r\n                initial={{ opacity: 0, y: 10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                exit={{ opacity: 0, y: -110 }}\r\n                transition={{ duration: 0.3 }}\r\n            >\r\n                {children}\r\n            </motion.div>\r\n        </AnimatePresence>\r\n    )\r\n}","import { staticModel } from \"@app/static\";\r\nimport { Box } from \"@mui/material\";\r\nimport { useEffect } from \"react\";\r\nimport { PageTransition } from \"../motion\";\r\nlet idCount = 0\r\nexport function PageShell({children}:{children:React.ReactNode}){\r\n    const id = `app-shell-${idCount++}`\r\n    useEffect(()=>{\r\n        const box = document.querySelector(`#${id}`)\r\n        const unlisten = staticModel.listenSwitchPage(()=>{\r\n            if(!box)return\r\n        })\r\n        if(!box)return\r\n        box.addEventListener(\"click\",(e)=>{\r\n            if(staticModel.screenLockCount == 0)return\r\n            e.stopPropagation()\r\n            e.preventDefault()\r\n        })\r\n        return ()=>{\r\n            unlisten()\r\n        }\r\n    },[])\r\n    return (\r\n        <Box id={id}>\r\n            <PageTransition>\r\n                {children}  \r\n            </PageTransition>\r\n        </Box>\r\n    )\r\n}\r\n","import { AppBar, Box, Container, CssBaseline, Fab, Fade, Slide, Toolbar, Typography, useScrollTrigger } from \"@mui/material\";\r\nimport { PropsWithChildren, ReactNode } from \"react\";\r\n// import {AndroidPageContent} from \"../../\";\r\nimport { browserHistoryUtils, IDispatcher } from \"@fanfanlo\";\r\nimport KeyboardArrowLeft from '@mui/icons-material/KeyboardArrowLeft';\r\nimport KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp';\r\nimport * as React from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport { PageShell } from \"../app/PageShell\";\r\nimport shadows from \"@mui/material/styles/shadows\";\r\nimport AndroidPageContent from \"../page/AndroidPageContent\";\r\nimport { IAppBarBackAskEvent } from \"@app/static\";\r\nimport { ITitleI18nConf } from \"../page\";\r\ninterface Props {\r\n    /**\r\n     * Injected by the documentation to work in an iframe.\r\n     * You won't need it on your project.\r\n     */\r\n    window?: () => Window;\r\n    children?: React.ReactElement<unknown>;\r\n}\r\n\r\nfunction HideOnScroll(props: Props) {\r\n    const { children, window } = props;\r\n    // Note that you normally won't need to set the window ref as useScrollTrigger\r\n    // will default to window.\r\n    // This is only being set here because the demo is in an iframe.\r\n    const trigger = useScrollTrigger({\r\n        target: window ? window() : undefined,\r\n    });\r\n\r\n    return (\r\n        <Slide appear={false} direction=\"down\" in={!trigger}>\r\n            {children ?? <div />}\r\n        </Slide>\r\n    );\r\n}\r\nexport interface IAppbarProps extends PropsWithChildren {\r\n    title: ReactNode\r\n    back: boolean\r\n    backHandler?: () => boolean\r\n    backDispatcher?:IDispatcher\r\n    toolbar?:ReactNode\r\n    toolbarContent?:ReactNode\r\n}\r\nexport function Appbar({ title }: { title: ReactNode } & PropsWithChildren) {\r\n    return (\r\n\r\n        <AppBar color={\"inherit\"}>\r\n            <Toolbar>\r\n                <Typography variant=\"h6\" component=\"div\">\r\n                    {title}\r\n                </Typography>\r\n            </Toolbar>\r\n        </AppBar>\r\n    )\r\n}\r\n\r\ninterface IAppbarContainerProps extends PropsWithChildren {\r\n    appbarProps: IAppbarProps\r\n    titleConf?:ITitleI18nConf\r\n    reload?: boolean\r\n}\r\n\r\n// export interface IAppBarBackAskEvent{\r\n//     defaultPrevented:boolean\r\n// }\r\n\r\nfunction ScrollTop(props: Props) {\r\n    const { children, window } = props;\r\n    // Note that you normally won't need to set the window ref as useScrollTrigger\r\n    // will default to window.\r\n    // This is only being set here because the demo is in an iframe.\r\n    const trigger = useScrollTrigger({\r\n        target: window ? window() : undefined,\r\n        disableHysteresis: true,\r\n        threshold: 100,\r\n    });\r\n\r\n    const handleClick = (event: React.MouseEvent<HTMLDivElement>) => {\r\n        const anchor = (\r\n            (event.target as HTMLDivElement).ownerDocument || document\r\n        ).querySelector('#back-to-top-anchor');\r\n\r\n        if (anchor) {\r\n            anchor.scrollIntoView({\r\n                block: 'center',\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Fade in={trigger}>\r\n            <Box data-id=\"content-scroll-top-button\"\r\n                onClick={handleClick}\r\n                role=\"presentation\"\r\n                sx={{ position: 'fixed', bottom: 16, right: 16 }}\r\n            >\r\n                {children}\r\n            </Box>\r\n        </Fade>\r\n    );\r\n}\r\nexport function AppbarContainer(props: IAppbarContainerProps) {\r\n    const { children, appbarProps, titleConf, reload } = props;\r\n    const router = useRouter()\r\n    function handleBack(){\r\n        // 本想抽象成底层一个方法，但是考虑了一下router需要注入或者是一个callback，似乎像现在这样判断一下event也可以。回头继续观察一下吧。\r\n        const event = browserHistoryUtils.askHistoryBack()\r\n        if(event.defaultPrevented)return\r\n        if(appbarProps.backDispatcher){\r\n            const e:IAppBarBackAskEvent = {defaultPrevented:false}\r\n            appbarProps.backDispatcher.dispatch('back',e)\r\n            if(e.defaultPrevented)return\r\n        }\r\n        router.back()\r\n    }\r\n    return (\r\n        <PageShell>\r\n        <React.Fragment>\r\n            <CssBaseline />\r\n            <HideOnScroll {...props}>\r\n                <AppBar color=\"inherit\">\r\n                    {appbarProps.toolbar ? \r\n                    appbarProps.toolbar:\r\n                    <Toolbar>\r\n                        <KeyboardArrowLeft onClick={handleBack} />\r\n                        {appbarProps.title}\r\n                    </Toolbar>\r\n                    }\r\n                </AppBar>\r\n            </HideOnScroll>\r\n            <Toolbar id=\"back-to-top-anchor\" />\r\n            <Container sx={{padding:\"0\", marginTop:\"17px\"}}>\r\n                <AndroidPageContent titleConf={titleConf} reload={reload}>\r\n                    {children}\r\n                </AndroidPageContent>\r\n            </Container>\r\n\r\n            <ScrollTop {...props}>\r\n                <Fab size=\"small\" aria-label=\"scroll back to top\">\r\n                    <KeyboardArrowUpIcon />\r\n                </Fab>\r\n            </ScrollTop>\r\n        </React.Fragment>\r\n        </PageShell>\r\n    );\r\n}\r\n"],"names":["request","tms","TMGetVerificationCodeType","tmsGetVerificationCode","opts","res","TUser","MUserCreateRegCode","params","gateway","handler","tmsLoginByCode","console","log","MUserLoginByCode","UserLoginType","React","createSvgIcon","jsx","_jsx","d","generateUtilityClasses","generateUtilityClass","getCheckboxUtilityClass","slot","checkboxClasses","PropTypes","clsx","composeClasses","alpha","SwitchBase","CheckBoxOutlineBlankIcon","CheckBoxIcon","IndeterminateCheckBoxIcon","capitalize","rootShouldForwardProp","styled","memoTheme","createSimplePaletteValueFilter","useDefaultProps","mergeSlotProps","useSlot","useUtilityClasses","ownerState","classes","indeterminate","color","size","slots","root","composedClasses","CheckboxRoot","shouldForwardProp","prop","name","overridesResolver","props","styles","theme","vars","palette","text","secondary","variants","disableRipple","style","backgroundColor","action","activeChannel","hoverOpacity","active","Object","entries","filter","map","mainChannel","main","checked","disabled","defaultCheckedIcon","defaultIcon","defaultIndeterminateIcon","Checkbox","forwardRef","inProps","ref","checkedIcon","icon","iconProp","indeterminateIcon","indeterminateIconProp","inputProps","className","slotProps","other","externalInputProps","input","RootSlot","rootSlotProps","elementType","shouldForwardComponentProp","externalForwardedProps","additionalProps","type","cloneElement","fontSize","propTypes","bool","node","object","string","oneOfType","oneOf","defaultChecked","id","onChange","func","required","shape","sx","arrayOf","value","any","useEffect","useState","TextField","Button","Box","Typography","Stack","FormControlLabel","useProxyWatch","PHONE_REGEX","VERIFICATION_CODE_REGEX","UnifiedLogin","onGetCode","onLogin","onShowPrivacyDialog","showAgreementCheckbox","isLoading","error","countdown","agreeData","phone","setPhone","code","setCode","agree","code14","isPhoneValid","test","isCodeValid","canGetCode","canLogin","waitForPrivacyAgree","handleGetCodeClick","handleLoginClick","handlePrivacyClick","event","preventDefault","stopPropagation","maxWidth","mx","p","xs","sm","variant","component","gutterBottom","align","form","onSubmit","e","spacing","fullWidth","label","target","placeholder","margin","maxLength","display","gap","alignItems","replace","substring","onClick","mt","mb","height","control","userSelect","cursor","py","useCallback","user","_","toast","PrivacyDialogDisplay","objectCountUtils","LoginController","onLoginSuccess","setIsLoading","setError","setCountdown","openPrivacy","setOpenPrivacy","timer","setTimeout","clearTimeout","handleGetCode","login_name","cnMobile","printLog","err","shellIsOk","dataIsOk","toString","codeFromServer","data","reg_code_info","length","isNaN","parseInt","duration","handleLogin","is_ok","msg","userToken","user_token","localStorage","setItem","storeData","handleShowPrivacyDialog","onPrivacyClose","getObjectCount","open","onClose","area","useRouter","toProxy","trackingPrint","SignInUpContent","router","token","waitTime","title","subtitle","extra","timestamp","Date","now","redirectDelay","backUrl","query","back","hasBackParam","Array","AppbarContainer","AppShell","SignUpInPage","appbarProps","initReactI18next","LanguageDetector","Backend","i18next","Log","isServer","fileMapUtils","useTranslation","fileDateVersion","i18nLogger","windowHref","window","u","URL","location","href","parent","origin","backendOptions","loadPath","lngs","namespaces","sub","pause","lng","ps","split","splice","join","getFile","parse","languages","l","JSON","print","backend","init","i18n","on","i18nInit","_fileDateVersion","use","load","fallbackLng","partialBundledLanguages","ns","debug","interpolation","escapeValue","detection","caches","namespace","key","loaded","arguments","createContext","storeUtils","s","create","StorePageContext","StorePageDynamicContext","watchUpdates","getConfig","I18nextProvider","checkReloadPage","publicRuntimeConfig","isDevelopment","indexOf","searchParams","htmlRefreshTime","get","newUrl","set","String","refreshTime","Number","dynamicKeyMap","Map","children","scrollKey","dynamicKey","isOpened","o","read","write","beforePopState","state","clearAll","info","x","y","listenScroll","requestAnimationFrame","scrollTo","onScroll","scrollX","scrollY","addEventListener","unsub","removeEventListener","isDev","loadI18nValue","Container","useContext","Reload","t","reload","toLocaleString","ScrollP","index","PageContent","titleConf","scroll","clazz","Math","random","loadTitle","document","container","getElementsByClassName","scrollTop","passive","overflow","padding","flexDirection","undefined","AndroidPageContent","Dialog","DialogContent","IconButton","CloseIcon","autoJsStoreUtils","autoWebViewJs","showAgree","suffix","buildTime","iframeSrc","setIframeSrc","isBoolean","iframeRef","useRef","setAgree","handleMessage","source","current","contentWindow","sender","disagreeTime","script","callScript","PaperProps","width","aria-label","position","right","top","grey","iframe","src","border","Dispatcher","dipsatcher","staticModel","screenLockCount","switchPage","dispatch","listenSwitchPage","callback","addListener","AnimatePresence","motion","PageTransition","mode","div","initial","opacity","animate","exit","transition","route","idCount","PageShell","box","querySelector","unlisten","AppBar","CssBaseline","Fab","Fade","Slide","Toolbar","useScrollTrigger","browserHistoryUtils","KeyboardArrowLeft","KeyboardArrowUpIcon","HideOnScroll","trigger","appear","direction","in","Appbar","ScrollTop","disableHysteresis","threshold","handleClick","anchor","ownerDocument","scrollIntoView","block","data-id","role","bottom","handleBack","askHistoryBack","defaultPrevented","backDispatcher","Fragment","toolbar","marginTop"],"sourceRoot":"","ignoreList":[3,4,5,6,7,12,13]}