{"version":3,"file":"static/chunks/pages/meetings-49c9a5fbc17fea4d.js","mappings":"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","sources":["webpack://_N_E/./src/pages/meetings/index.tsx","webpack://_N_E/?1e38","webpack://_N_E/../../libs/app/static/src/mc/static-model.ts","webpack://_N_E/../../libs/app/ui/src/components/motion/page-transition.tsx","webpack://_N_E/../../libs/app/ui/src/components/app/PageShell.tsx","webpack://_N_E/../../libs/app/ui/src/components/appbar/AppBar.tsx"],"sourcesContent":["import React from 'react';\nimport { Box } from '@mui/material';\nimport MeetingList from '../../components/meeting-list/MeetingList';\nimport { AppbarContainer, AppShell } from '@app/ui';\n\nexport default function Meetings() {\n  \n  return (\n\n            <AppShell>\n                <AppbarContainer appbarProps={{title:\"会议列表\", back:true}}>\n                  <MeetingList />\n                </AppbarContainer>\n            </AppShell>\n  )\n\n  return (\n    <Box sx={{ \n      minHeight: '100vh', \n      backgroundColor: 'background.default',\n      py: 2\n    }}>\n      <MeetingList />\n    </Box>\n  );\n}","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/meetings\",\n      function () {\n        return require(\"private-next-pages/meetings/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/meetings\"])\n      });\n    }\n  ","import { Dispatcher } from \"@fanfanlo\"\r\nimport { DispatcherUnsubscribe } from \"@fanfanlo\"\r\n\r\nconst dipsatcher = new Dispatcher()\r\ninterface IStaticModel{\r\n    dipsatcher:Dispatcher\r\n    screenLockCount:number\r\n    switchPage:()=>void\r\n    listenSwitchPage:(callback:()=>void)=>DispatcherUnsubscribe \r\n}\r\nexport const staticModel:IStaticModel = {\r\n    dipsatcher,\r\n    screenLockCount:0,\r\n    switchPage:async()=>{\r\n        dipsatcher.dispatch(\"switchPage\")\r\n        staticModel.screenLockCount = 0\r\n    },\r\n    listenSwitchPage:(callback:()=>void)=>{\r\n        return dipsatcher.addListener(\"switchPage\",callback)\r\n    }\r\n}   \r\n","import { PropsWithChildren } from \"react\";\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\nimport { useRouter } from \"next/router\";\r\n\r\n\r\nexport function PageTransition({ children }: PropsWithChildren) {\r\n    const router = useRouter()\r\n    return (\r\n\r\n        <AnimatePresence mode=\"sync\">\r\n            <motion.div\r\n                key={router.route}\r\n                initial={{ opacity: 0, y: 10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                exit={{ opacity: 0, y: -110 }}\r\n                transition={{ duration: 0.3 }}\r\n            >\r\n                {children}\r\n            </motion.div>\r\n        </AnimatePresence>\r\n    )\r\n}","import { staticModel } from \"@app/static\";\r\nimport { Box } from \"@mui/material\";\r\nimport { useEffect } from \"react\";\r\nimport { PageTransition } from \"../motion\";\r\nlet idCount = 0\r\nexport function PageShell({children}:{children:React.ReactNode}){\r\n    const id = `app-shell-${idCount++}`\r\n    useEffect(()=>{\r\n        const box = document.querySelector(`#${id}`)\r\n        const unlisten = staticModel.listenSwitchPage(()=>{\r\n            if(!box)return\r\n        })\r\n        if(!box)return\r\n        box.addEventListener(\"click\",(e)=>{\r\n            if(staticModel.screenLockCount == 0)return\r\n            e.stopPropagation()\r\n            e.preventDefault()\r\n        })\r\n        return ()=>{\r\n            unlisten()\r\n        }\r\n    },[])\r\n    return (\r\n        <Box id={id}>\r\n            <PageTransition>\r\n                {children}  \r\n            </PageTransition>\r\n        </Box>\r\n    )\r\n}\r\n","import { AppBar, Box, Container, CssBaseline, Fab, Fade, Slide, Toolbar, Typography, useScrollTrigger } from \"@mui/material\";\r\nimport { PropsWithChildren, ReactNode } from \"react\";\r\n// import {AndroidPageContent} from \"../../\";\r\nimport { browserHistoryUtils, IDispatcher } from \"@fanfanlo\";\r\nimport KeyboardArrowLeft from '@mui/icons-material/KeyboardArrowLeft';\r\nimport KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp';\r\nimport * as React from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport { PageShell } from \"../app/PageShell\";\r\nimport shadows from \"@mui/material/styles/shadows\";\r\nimport AndroidPageContent from \"../page/AndroidPageContent\";\r\nimport { IAppBarBackAskEvent } from \"@app/static\";\r\nimport { ITitleI18nConf } from \"../page\";\r\ninterface Props {\r\n    /**\r\n     * Injected by the documentation to work in an iframe.\r\n     * You won't need it on your project.\r\n     */\r\n    window?: () => Window;\r\n    children?: React.ReactElement<unknown>;\r\n}\r\n\r\nfunction HideOnScroll(props: Props) {\r\n    const { children, window } = props;\r\n    // Note that you normally won't need to set the window ref as useScrollTrigger\r\n    // will default to window.\r\n    // This is only being set here because the demo is in an iframe.\r\n    const trigger = useScrollTrigger({\r\n        target: window ? window() : undefined,\r\n    });\r\n\r\n    return (\r\n        <Slide appear={false} direction=\"down\" in={!trigger}>\r\n            {children ?? <div />}\r\n        </Slide>\r\n    );\r\n}\r\nexport interface IAppbarProps extends PropsWithChildren {\r\n    title: ReactNode\r\n    back: boolean\r\n    backHandler?: () => boolean\r\n    backDispatcher?:IDispatcher\r\n    toolbar?:ReactNode\r\n    toolbarContent?:ReactNode\r\n}\r\nexport function Appbar({ title }: { title: ReactNode } & PropsWithChildren) {\r\n    return (\r\n\r\n        <AppBar color={\"inherit\"}>\r\n            <Toolbar>\r\n                <Typography variant=\"h6\" component=\"div\">\r\n                    {title}\r\n                </Typography>\r\n            </Toolbar>\r\n        </AppBar>\r\n    )\r\n}\r\n\r\ninterface IAppbarContainerProps extends PropsWithChildren {\r\n    appbarProps: IAppbarProps\r\n    titleConf?:ITitleI18nConf\r\n    reload?: boolean\r\n}\r\n\r\n// export interface IAppBarBackAskEvent{\r\n//     defaultPrevented:boolean\r\n// }\r\n\r\nfunction ScrollTop(props: Props) {\r\n    const { children, window } = props;\r\n    // Note that you normally won't need to set the window ref as useScrollTrigger\r\n    // will default to window.\r\n    // This is only being set here because the demo is in an iframe.\r\n    const trigger = useScrollTrigger({\r\n        target: window ? window() : undefined,\r\n        disableHysteresis: true,\r\n        threshold: 100,\r\n    });\r\n\r\n    const handleClick = (event: React.MouseEvent<HTMLDivElement>) => {\r\n        const anchor = (\r\n            (event.target as HTMLDivElement).ownerDocument || document\r\n        ).querySelector('#back-to-top-anchor');\r\n\r\n        if (anchor) {\r\n            anchor.scrollIntoView({\r\n                block: 'center',\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Fade in={trigger}>\r\n            <Box data-id=\"content-scroll-top-button\"\r\n                onClick={handleClick}\r\n                role=\"presentation\"\r\n                sx={{ position: 'fixed', bottom: 16, right: 16 }}\r\n            >\r\n                {children}\r\n            </Box>\r\n        </Fade>\r\n    );\r\n}\r\nexport function AppbarContainer(props: IAppbarContainerProps) {\r\n    const { children, appbarProps, titleConf, reload } = props;\r\n    const router = useRouter()\r\n    function handleBack(){\r\n        // 本想抽象成底层一个方法，但是考虑了一下router需要注入或者是一个callback，似乎像现在这样判断一下event也可以。回头继续观察一下吧。\r\n        const event = browserHistoryUtils.askHistoryBack()\r\n        if(event.defaultPrevented)return\r\n        if(appbarProps.backDispatcher){\r\n            const e:IAppBarBackAskEvent = {defaultPrevented:false}\r\n            appbarProps.backDispatcher.dispatch('back',e)\r\n            if(e.defaultPrevented)return\r\n        }\r\n        router.back()\r\n    }\r\n    return (\r\n        <PageShell>\r\n        <React.Fragment>\r\n            <CssBaseline />\r\n            <HideOnScroll {...props}>\r\n                <AppBar color=\"inherit\">\r\n                    {appbarProps.toolbar ? \r\n                    appbarProps.toolbar:\r\n                    <Toolbar>\r\n                        <KeyboardArrowLeft onClick={handleBack} />\r\n                        {appbarProps.title}\r\n                    </Toolbar>\r\n                    }\r\n                </AppBar>\r\n            </HideOnScroll>\r\n            <Toolbar id=\"back-to-top-anchor\" />\r\n            <Container sx={{padding:\"0\", marginTop:\"17px\"}}>\r\n                <AndroidPageContent titleConf={titleConf} reload={reload}>\r\n                    {children}\r\n                </AndroidPageContent>\r\n            </Container>\r\n\r\n            <ScrollTop {...props}>\r\n                <Fab size=\"small\" aria-label=\"scroll back to top\">\r\n                    <KeyboardArrowUpIcon />\r\n                </Fab>\r\n            </ScrollTop>\r\n        </React.Fragment>\r\n        </PageShell>\r\n    );\r\n}\r\n"],"names":["React","Box","MeetingList","AppbarContainer","AppShell","Meetings","appbarProps","title","back","sx","minHeight","backgroundColor","py","Dispatcher","dipsatcher","staticModel","screenLockCount","switchPage","dispatch","listenSwitchPage","callback","addListener","AnimatePresence","motion","useRouter","PageTransition","children","router","mode","div","initial","opacity","y","animate","exit","transition","duration","route","useEffect","idCount","PageShell","id","box","document","querySelector","unlisten","addEventListener","e","stopPropagation","preventDefault","AppBar","Container","CssBaseline","Fab","Fade","Slide","Toolbar","Typography","useScrollTrigger","browserHistoryUtils","KeyboardArrowLeft","KeyboardArrowUpIcon","AndroidPageContent","HideOnScroll","props","window","trigger","target","undefined","appear","direction","in","Appbar","color","variant","component","ScrollTop","disableHysteresis","threshold","handleClick","event","anchor","ownerDocument","scrollIntoView","block","data-id","onClick","role","position","bottom","right","titleConf","reload","handleBack","askHistoryBack","defaultPrevented","backDispatcher","Fragment","toolbar","padding","marginTop","size","aria-label"],"sourceRoot":"","ignoreList":[]}